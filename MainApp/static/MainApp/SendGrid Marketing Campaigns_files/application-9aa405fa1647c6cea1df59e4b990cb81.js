(function(){function t(t){function e(e,n,i,r,s,o){for(;s>=0&&o>s;s+=t){var a=r?r[s]:s;i=n(i,e[a],a,e)}return i}return function(n,i,r,s){i=y(i,s,4);var o=!F(n)&&v.keys(n),a=(o||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[o?o[l]:l],l+=t),e(n,i,r,o,l,a)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=null!=e&&e.length,s=t>0?0:r-1;s>=0&&r>s;s+=t)if(n(e[s],s,e))return s;return-1}}function n(t,e){var n=D.length,i=t.constructor,r=v.isFunction(i)&&i.prototype||o,s="constructor";for(v.has(t,s)&&!v.contains(e,s)&&e.push(s);n--;)s=D[n],s in t&&t[s]!==r[s]&&!v.contains(e,s)&&e.push(s)}var i=this,r=i._,s=Array.prototype,o=Object.prototype,a=Function.prototype,l=s.push,c=s.slice,h=o.toString,u=o.hasOwnProperty,d=Array.isArray,f=Object.keys,p=a.bind,g=Object.create,m=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):i._=v,v.VERSION="1.8.2";var y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,s){return t.call(e,n,i,r,s)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?v.identity:v.isFunction(t)?y(t,e,n):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return w(t,e,1/0)};var b=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var s=arguments[r],o=t(s),a=o.length,l=0;a>l;l++){var c=o[l];e&&void 0!==n[c]||(n[c]=s[c])}return n}},C=function(t){if(!v.isObject(t))return{};if(g)return g(t);m.prototype=t;var e=new m;return m.prototype=null,e},A=Math.pow(2,53)-1,F=function(t){var e=t&&t.length;return"number"==typeof e&&e>=0&&A>=e};v.each=v.forEach=function(t,e,n){e=y(e,n);var i,r;if(F(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var s=v.keys(t);for(i=0,r=s.length;r>i;i++)e(t[s[i]],s[i],t)}return t},v.map=v.collect=function(t,e,n){e=w(e,n);for(var i=!F(t)&&v.keys(t),r=(i||t).length,s=Array(r),o=0;r>o;o++){var a=i?i[o]:o;s[o]=e(t[a],a,t)}return s},v.reduce=v.foldl=v.inject=t(1),v.reduceRight=v.foldr=t(-1),v.find=v.detect=function(t,e,n){var i;return i=F(t)?v.findIndex(t,e,n):v.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},v.filter=v.select=function(t,e,n){var i=[];return e=w(e,n),v.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},v.reject=function(t,e,n){return v.filter(t,v.negate(w(e)),n)},v.every=v.all=function(t,e,n){e=w(e,n);for(var i=!F(t)&&v.keys(t),r=(i||t).length,s=0;r>s;s++){var o=i?i[s]:s;if(!e(t[o],o,t))return!1}return!0},v.some=v.any=function(t,e,n){e=w(e,n);for(var i=!F(t)&&v.keys(t),r=(i||t).length,s=0;r>s;s++){var o=i?i[s]:s;if(e(t[o],o,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n){return F(t)||(t=v.values(t)),v.indexOf(t,e,"number"==typeof n&&n)>=0},v.invoke=function(t,e){var n=c.call(arguments,2),i=v.isFunction(e);return v.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var i,r,s=-1/0,o=-1/0;if(null==e&&null!=t){t=F(t)?t:v.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>s&&(s=i)}else e=w(e,n),v.each(t,function(t,n,i){r=e(t,n,i),(r>o||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s},v.min=function(t,e,n){var i,r,s=1/0,o=1/0;if(null==e&&null!=t){t=F(t)?t:v.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],s>i&&(s=i)}else e=w(e,n),v.each(t,function(t,n,i){r=e(t,n,i),(o>r||1/0===r&&1/0===s)&&(s=t,o=r)});return s},v.shuffle=function(t){for(var e,n=F(t)?t:v.values(t),i=n.length,r=Array(i),s=0;i>s;s++)e=v.random(0,s),e!==s&&(r[s]=r[e]),r[e]=n[s];return r},v.sample=function(t,e,n){return null==e||n?(F(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,n){return e=w(e,n),v.pluck(v.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,n,i){var r={};return n=w(n,i),v.each(e,function(i,s){var o=n(i,s,e);t(r,i,o)}),r}};v.groupBy=E(function(t,e,n){v.has(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=E(function(t,e,n){t[n]=e}),v.countBy=E(function(t,e,n){v.has(t,n)?t[n]++:t[n]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):F(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:F(t)?t.length:v.keys(t).length},v.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return v.each(t,function(t,n,s){(e(t,n,s)?i:r).push(t)}),[i,r]},v.first=v.head=v.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var x=function(t,e,n,i){for(var r=[],s=0,o=i||0,a=t&&t.length;a>o;o++){var l=t[o];if(F(l)&&(v.isArray(l)||v.isArguments(l))){e||(l=x(l,e,n));var c=0,h=l.length;for(r.length+=h;h>c;)r[s++]=l[c++]}else n||(r[s++]=l)}return r};v.flatten=function(t,e){return x(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,n,i){if(null==t)return[];v.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],s=[],o=0,a=t.length;a>o;o++){var l=t[o],c=n?n(l,o,t):l;e?(o&&s===c||r.push(l),s=c):n?v.contains(s,c)||(s.push(c),r.push(l)):v.contains(r,l)||r.push(l)}return r},v.union=function(){return v.uniq(x(arguments,!0,!0))},v.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;r>i;i++){var s=t[i];if(!v.contains(e,s)){for(var o=1;n>o&&v.contains(arguments[o],s);o++);o===n&&e.push(s)}}return e},v.difference=function(t){var e=x(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,"length").length||0,n=Array(e),i=0;e>i;i++)n[i]=v.pluck(t,i);return n},v.object=function(t,e){for(var n={},i=0,r=t&&t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},v.indexOf=function(t,e,n){var i=0,r=t&&t.length;if("number"==typeof n)i=0>n?Math.max(0,r+n):n;else if(n&&r)return i=v.sortedIndex(t,e),t[i]===e?i:-1;if(e!==e)return v.findIndex(c.call(t,i),v.isNaN);for(;r>i;i++)if(t[i]===e)return i;return-1},v.lastIndexOf=function(t,e,n){var i=t?t.length:0;if("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1)),e!==e)return v.findLastIndex(c.call(t,0,i),v.isNaN);for(;--i>=0;)if(t[i]===e)return i;return-1},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),s=0,o=t.length;o>s;){var a=Math.floor((s+o)/2);n(t[a])<r?s=a+1:o=a}return s},v.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),s=0;i>s;s++,t+=n)r[s]=t;return r};var _=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var s=C(t.prototype),o=t.apply(s,r);return v.isObject(o)?o:s};v.bind=function(t,e){if(p&&t.bind===p)return p.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return _(t,i,e,this,n.concat(c.call(arguments)))};return i},v.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,s=Array(r),o=0;r>o;o++)s[o]=e[o]===v?arguments[i++]:e[o];for(;i<arguments.length;)s.push(arguments[i++]);return _(t,n,this,this,s)};return n},v.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=v.bind(t[n],t);return t},v.memoize=function(t,e){var n=function(i){var r=n.cache,s=""+(e?e.apply(this,arguments):i);return v.has(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return n.cache={},n},v.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var i,r,s,o=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:v.now(),o=null,s=t.apply(i,r),o||(i=r=null)};return function(){var c=v.now();a||n.leading!==!1||(a=c);var h=e-(c-a);return i=this,r=arguments,0>=h||h>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(i,r),o||(i=r=null)):o||n.trailing===!1||(o=setTimeout(l,h)),s}},v.debounce=function(t,e,n){var i,r,s,o,a,l=function(){var c=v.now()-o;e>c&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(s,r),i||(s=r=null)))};return function(){s=this,r=arguments,o=v.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(s,r),s=r=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},v.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},v.once=v.partial(v.before,2);var k=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(t){if(!v.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)v.has(t,i)&&e.push(i);return k&&n(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var i in t)e.push(i);return k&&n(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},v.mapObject=function(t,e,n){e=w(e,n);for(var i,r=v.keys(t),s=r.length,o={},a=0;s>a;a++)i=r[a],o[i]=e(t[i],i,t);return o},v.pairs=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},v.invert=function(t){for(var e={},n=v.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=b(v.allKeys),v.extendOwn=v.assign=b(v.keys),v.findKey=function(t,e,n){e=w(e,n);for(var i,r=v.keys(t),s=0,o=r.length;o>s;s++)if(i=r[s],e(t[i],i,t))return i},v.pick=function(t,e,n){var i,r,s={},o=t;if(null==o)return s;v.isFunction(e)?(r=v.allKeys(o),i=y(e,n)):(r=x(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var a=0,l=r.length;l>a;a++){var c=r[a],h=o[c];i(h,c,o)&&(s[c]=h)}return s},v.omit=function(t,e,n){if(v.isFunction(e))e=v.negate(e);else{var i=v.map(x(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(i,e)}}return v.pick(t,e,n)},v.defaults=b(v.allKeys,!0),v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),s=0;i>s;s++){var o=n[s];if(e[o]!==r[o]||!(o in r))return!1}return!0};var S=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),s){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!S(t[l],e[l],n,i))return!1}else{var c,u=v.keys(t);if(l=u.length,v.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!v.has(e,c)||!S(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};v.isEqual=function(t,e){return S(t,e)},v.isEmpty=function(t){return null==t?!0:F(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=d||function(t){return"[object Array]"===h.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&u.call(t,e)},v.noConflict=function(){return i._=r,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return function(e){return null==e?void 0:e[t]}},v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=v.invert(B),$=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};v.escape=$(B),v.unescape=$(M),v.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),v.isFunction(i)?i.call(t):i};var T=0;v.uniqueId=function(t){var e=++T+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,I=function(t){return"\\"+R[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var i=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(i,function(e,n,i,o,a){return s+=t.slice(r,a).replace(O,I),r=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(a){throw a.source=s,a}var l=function(t){return o.call(this,t,v)},c=e.variable||"obj";return l.source="function("+c+"){\n"+s+"}",l},v.chain=function(t){var e=v(t);return e._chain=!0,e};var P=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),P(this,n.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],P(this,n)}}),v.each(["concat","join","slice"],function(t){var e=s[t];v.prototype[t]=function(){return P(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}).call(this),function(t,e,n){function i(t){return t}function r(t){return s(decodeURIComponent(t.replace(a," ")))}function s(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t}function o(t){return l.json?JSON.parse(t):t}var a=/\+/g,l=t.cookie=function(s,a,c){if(a!==n){if(c=t.extend({},l.defaults,c),null===a&&(c.expires=-1),"number"==typeof c.expires){var h=c.expires,u=c.expires=new Date;u.setDate(u.getDate()+h)}return a=l.json?JSON.stringify(a):String(a),e.cookie=[encodeURIComponent(s),"=",l.raw?a:encodeURIComponent(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var d=l.raw?i:r,f=e.cookie.split("; "),p=s?null:{},g=0,m=f.length;m>g;g++){var v=f[g].split("="),y=d(v.shift()),w=d(v.join("="));if(s&&s===y){p=o(w);break}s||(p[y]=o(w))}return p};l.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(jQuery,document),$(function(){if("undefined"!=typeof SendGridTiara){var t=window.tiara=SendGridTiara.init({jQuery:$,underscore:_,auth_token:$.cookie("mako_auth_token"),shouldLogoutOnAuthFail:!0,nlvxHost:"/marketing_campaigns",disable_impersonation:window.Nlvx.disableImpersonation,revealAllLinks:!1});$.when(t.feature_toggles).always(function(){Nlvx.flags.tourEnabled||$("a[href*='/marketing_campaigns/tour']").parent("li").remove()})}else $("a.logo img").css({width:146});$("[data-tiara-nav]").on("click","[data-dropdown-toggle]",function(t){var e=$(t.currentTarget),n=$(t.target),i=$("[data-dropdown-toggle]");n.is(".dropdown-link")||t.preventDefault(),i.hasClass("is-active")?0==n.closest("[data-dropdown-no-close]").length&&i.removeClass("is-active"):e.addClass("is-active")})}),function(){function t(t){var e=function(t,e){return r("",t,e)},s=n;t&&(n[t]||(n[t]={}),s=n[t]),s.define&&s.define.packaged||(i.original=s.define,s.define=i,s.define.packaged=!0),s.require&&s.require.packaged||(r.original=s.require,s.require=e,s.require.packaged=!0)}var e="",n=function(){return this}();if(e||"undefined"==typeof requirejs){var i=function(t,e,n){return"string"!=typeof t?void(i.original?i.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=e),i.modules||(i.modules={},i.payloads={}),i.payloads[t]=n,void(i.modules[t]=null))},r=function(t,e,n){if("[object Array]"===Object.prototype.toString.call(e)){for(var i=[],s=0,a=e.length;a>s;++s){var l=o(t,e[s]);if(!l&&r.original)return r.original.apply(window,arguments);i.push(l)}n&&n.apply(null,i)}else{if("string"==typeof e){var c=o(t,e);return!c&&r.original?r.original.apply(window,arguments):(n&&n(),c)}if(r.original)return r.original.apply(window,arguments)}},s=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return s(t,n[0])+"!"+s(t,n[1])}if("."==e.charAt(0)){var i=t.split("/").slice(0,-1).join("/");for(e=i+"/"+e;-1!==e.indexOf(".")&&r!=e;){var r=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},o=function(t,e){e=s(t,e);var n=i.modules[e];if(!n){if(n=i.payloads[e],"function"==typeof n){var o={},a={id:e,uri:"",exports:o,packaged:!0},l=function(t,n){return r(e,t,n)},c=n(l,o,a);o=c||a.exports,i.modules[e]=o,delete i.payloads[e]}n=i.modules[e]=o||n}return n};t(e)}}(),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/multi_select","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/mode/folding/fold_mode","ace/theme/textmate","ace/config"],function(t,e){t("./lib/fixoldbrowsers");var n=t("./lib/dom"),i=t("./lib/event"),r=t("./editor").Editor,s=t("./edit_session").EditSession,o=t("./undomanager").UndoManager,a=t("./virtual_renderer").VirtualRenderer,l=t("./multi_select").MultiSelect;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./mode/folding/fold_mode"),t("./theme/textmate"),e.config=t("./config"),e.require=t,e.edit=function(t){if("string"==typeof t){var s=t,t=document.getElementById(s);if(!t)throw new Error("ace.edit can't find div #"+s)}if(t.env&&t.env.editor instanceof r)return t.env.editor;var o=e.createEditSession(n.getInnerText(t));t.innerHTML="";var c=new r(new a(t));new l(c),c.setSession(o);var h={document:o,editor:c,onResize:c.resize.bind(c,null)};return i.addListener(window,"resize",h.onResize),c.on("destroy",function(){i.removeListener(window,"resize",h.onResize)}),t.env=c.env=h,c},e.createEditSession=function(t,e){var n=new s(t,e);return n.setUndoManager(new o),n},e.EditSession=s,e.UndoManager=o}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t){t("./regexp"),t("./es5-shim")}),define("ace/lib/regexp",["require","exports","module"],function(){function t(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function e(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,n);for(var i=n||0;i<t.length;i++)if(t[i]===e)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===n.exec.call(/()??/,"")[1],r=function(){var t=/^/g;return n.test.call(t,""),!t.lastIndex}();r&&i||(RegExp.prototype.exec=function(s){var o,a,l=n.exec.apply(this,arguments);if("string"==typeof s&&l){if(!i&&l.length>1&&e(l,"")>-1&&(a=RegExp(this.source,n.replace.call(t(this),"g","")),n.replace.call(s.slice(l.index),a,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(l[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)o=this._xregexp.captureNames[c-1],o&&(l[o]=l[c]);!r&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},r||(RegExp.prototype.test=function(t){var e=n.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),define("ace/lib/es5-shim",["require","exports","module"],function(){function t(){}function e(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function n(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=u.call(arguments,1),r=function(){if(this instanceof r){var t=n.apply(this,i.concat(u.call(arguments)));return Object(t)===t?t:this}return n.apply(e,i.concat(u.call(arguments)))};return n.prototype&&(t.prototype=n.prototype,r.prototype=new t,t.prototype=null),r});var i,r,s,o,a,l=Function.prototype.call,c=Array.prototype,h=Object.prototype,u=c.slice,d=l.bind(h.toString),f=l.bind(h.hasOwnProperty);if((a=f(h,"__defineGetter__"))&&(i=l.bind(h.__defineGetter__),r=l.bind(h.__defineSetter__),s=l.bind(h.__lookupGetter__),o=l.bind(h.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];return n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),e+1==n.length,e+1==n.length?!0:void 0}()){var p=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?p.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(u.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;t>0?t>n&&(t=n):void 0==t?t=0:0>t&&(t=Math.max(n+t,0)),n>t+e||(e=n-t);var i=this.slice(t,t+e),r=u.call(arguments,2),s=r.length;if(t===n)s&&this.push.apply(this,r);else{var o=Math.min(e,n-t),a=t+o,l=a+s-o,c=n-a,h=n-o;if(a>l)for(var d=0;c>d;++d)this[l+d]=this[a+d];else if(l>a)for(d=c;d--;)this[l+d]=this[a+d];if(s&&t===h)this.length=h,this.push.apply(this,r);else for(this.length=h+s,d=0;s>d;++d)this[t+d]=r[d]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==d(t)});var g=Object("a"),m="a"!=g[0]||!(0 in g);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=T(this),n=m&&"[object String]"==d(this)?this.split(""):e,i=arguments[1],r=-1,s=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError;for(;++r<s;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=T(this),n=m&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=Array(i),s=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)o in n&&(r[o]=t.call(s,n[o],o,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=T(this),i=m&&"[object String]"==d(this)?this.split(""):n,r=i.length>>>0,s=[],o=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var a=0;r>a;a++)a in i&&(e=i[a],t.call(o,e,a,n)&&s.push(e));return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=T(this),n=m&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;i>s;s++)if(s in n&&!t.call(r,n[s],s,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=T(this),n=m&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;i>s;s++)if(s in n&&t.call(r,n[s],s,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=T(this),n=m&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>s;s++)s in n&&(r=t.call(void 0,r,n[s],s,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=T(this),n=m&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}do s in this&&(r=t.call(void 0,r,n[s],s,e));while(s--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=m&&"[object String]"==d(this)?this.split(""):T(this),i=e.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=n(arguments[1])),r=r>=0?r:Math.max(0,i+r);i>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=m&&"[object String]"==d(this)?this.split(""):T(this),i=e.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,n(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in e&&t===e[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:h)}),!Object.getOwnPropertyDescriptor){var v="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(v+t);if(f(t,e)){var n,i,r;if(n={enumerable:!0,configurable:!0},a){var l=t.__proto__;t.__proto__=h;var i=s(t,e),r=o(t,e);if(t.__proto__=l,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=t[e],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var y;y=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=y();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,n=new i,n.__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n}}if(Object.defineProperty){var w=e({}),b="undefined"==typeof document||e(document.createElement("div"));if(!w||!b)var C=Object.defineProperty}if(!Object.defineProperty||C){var A="Property description must be an object: ",F="Object.defineProperty called on non-object: ",E="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(F+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(A+n);if(C)try{return C.call(Object,t,e,n)}catch(l){}if(f(n,"value"))if(a&&(s(t,e)||o(t,e))){var c=t.__proto__;t.__proto__=h,delete t[e],t[e]=n.value,t.__proto__=c}else t[e]=n.value;else{if(!a)throw new TypeError(E);f(n,"get")&&i(t,e,n.get),f(n,"set")&&r(t,e,n.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)f(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(x){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";f(t,e);)e+="?";t[e]=!0;var n=f(t,e);return delete t[e],n}),!Object.keys){var _=!0,k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=k.length;for(var S in{toString:null})_=!1;Object.keys=function L(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var L=[];for(var e in t)f(t,e)&&L.push(e);if(_)for(var n=0,i=D;i>n;n++){var r=k[n];f(t,r)&&L.push(r)}return L}}Date.now||(Date.now=function(){return(new Date).getTime()});var B="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||B.trim()){B="["+B+"]";var M=new RegExp("^"+B+B+"*"),$=new RegExp(B+B+"*$");String.prototype.trim=function(){return String(this).replace(M,"").replace($,"")}}var T=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),define("ace/lib/dom",["require","exports","module"],function(t,e){if("undefined"!=typeof document){var n="http://www.w3.org/1999/xhtml";e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||n,t):document.createElement(t)},e.hasCssClass=function(t,e){var n=t.className.split(/\s+/g);return-1!==n.indexOf(e)},e.addCssClass=function(t,n){e.hasCssClass(t,n)||(t.className+=" "+n)},e.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},e.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},e.setCssClass=function(t,n,i){i?e.addCssClass(t,n):e.removeCssClass(t,n)},e.hasCssString=function(t,e){var n,i=0;if(e=e||document,e.createStyleSheet&&(n=e.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===t)return!0}else if(n=e.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===t)return!0;return!1},e.importCssString=function(t,i,r){if(r=r||document,i&&e.hasCssString(i,r))return null;var s;r.createStyleSheet?(s=r.createStyleSheet(),s.cssText=t,i&&(s.owningElement.id=i)):(s=r.createElementNS?r.createElementNS(n,"style"):r.createElement("style"),s.appendChild(r.createTextNode(t)),i&&(s.id=i),e.getDocumentHead(r).appendChild(s))},e.importCssStylsheet=function(t,n){if(n.createStyleSheet)n.createStyleSheet(t);else{var i=e.createElement("link");i.rel="stylesheet",i.href=t,e.getDocumentHead(n).appendChild(i)}},e.getInnerWidth=function(t){return parseInt(e.computedStyle(t,"paddingLeft"),10)+parseInt(e.computedStyle(t,"paddingRight"),10)+t.clientWidth
},e.getInnerHeight=function(t){return parseInt(e.computedStyle(t,"paddingTop"),10)+parseInt(e.computedStyle(t,"paddingBottom"),10)+t.clientHeight},void 0!==window.pageYOffset?(e.getPageScrollTop=function(){return window.pageYOffset},e.getPageScrollLeft=function(){return window.pageXOffset}):(e.getPageScrollTop=function(){return document.body.scrollTop},e.getPageScrollLeft=function(){return document.body.scrollLeft}),e.computedStyle=window.getComputedStyle?function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:function(t,e){return e?t.currentStyle[e]:t.currentStyle},e.scrollbarWidth=function(t){var n=e.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=e.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var s=t.documentElement;s.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return o==a&&(a=i.clientWidth),s.removeChild(i),o-a},e.setInnerHtml=function(t,e){var n=t.cloneNode(!1);return n.innerHTML=e,t.parentNode.replaceChild(n,t),n},"textContent"in document.documentElement?(e.setInnerText=function(t,e){t.textContent=e},e.getInnerText=function(t){return t.textContent}):(e.setInnerText=function(t,e){t.innerText=e},e.getInnerText=function(t){return t.innerText}),e.getParentWindow=function(t){return t.defaultView||t.parentWindow}}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent","ace/lib/dom"],function(t,e){function n(t,e,n){var a=0;if(a=!r.isOpera||"KeyboardEvent"in window||!r.isMac?0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0):0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0),!r.isMac&&s){if((s[91]||s[92])&&(a|=8),s.altGr){if(3==(3&a))return;s.altGr=0}if(18===n||17===n){var l=e.location||e.keyLocation;if(17===n&&1===l)o=e.timeStamp;else if(18===n&&3===a&&2===l){var c=-o;o=e.timeStamp,c+=o,3>c&&(s.altGr=!0)}}}if(n in i.MODIFIER_KEYS){switch(i.MODIFIER_KEYS[n]){case"Alt":a=2;break;case"Shift":a=4;break;case"Ctrl":a=1;break;default:a=8}n=0}return 8&a&&(91===n||93===n)&&(n=0),a||13!==n||!e.location&&3!==e.keyLocation||(t(e,a,-n),!e.defaultPrevented)?a||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?t(e,a,n):!1:void 0}{var i=t("./keys"),r=t("./useragent");t("./dom")}e.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},e.removeListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):void(t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n))},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||t.ctrlKey&&r.isMac?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,n,i){function r(t){n&&n(t),i&&i(t),e.removeListener(document,"mousemove",n,!0),e.removeListener(document,"mouseup",r,!0),e.removeListener(document,"dragstart",r,!0)}e.addListener(document,"mousemove",n,!0),e.addListener(document,"mouseup",r,!0),e.addListener(document,"dragstart",r,!0)},e.addMouseWheelListener=function(t,n){if("onmousewheel"in t){var i=8;e.addListener(t,"mousewheel",function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/i,t.wheelY=-t.wheelDeltaY/i):(t.wheelX=0,t.wheelY=-t.wheelDelta/i),n(t)})}else"onwheel"in t?e.addListener(t,"wheel",function(t){t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0),n(t)}):e.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),n(t)})},e.addMultiMouseDownListener=function(t,n,i,s){var o,a,l,c=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};e.addListener(t,"mousedown",function(t){if(0!=e.getButton(t)?c=0:t.detail>1?(c++,c>4&&(c=1)):c=1,r.isIE){var n=Math.abs(t.clientX-o)>5||Math.abs(t.clientY-a)>5;n&&(c=1),1==c&&(o=t.clientX,a=t.clientY)}if(i[s]("mousedown",t),c>4)c=0;else if(c>1)return i[s](h[c],t)}),r.isOldIE&&e.addListener(t,"dblclick",function(t){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),i[s]("mousedown",t),i[s](h[c],t)})};var s=null,o=0;if(e.addCommandKeyListener=function(t,i){var o=e.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var a=null;o(t,"keydown",function(t){a=t.keyCode}),o(t,"keypress",function(t){return n(i,t,a)})}else{var l=null;o(t,"keydown",function(t){s[t.keyCode]=!0;var e=n(i,t,t.keyCode);return l=t.defaultPrevented,e}),o(t,"keypress",function(t){l&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),l=null)}),o(t,"keyup",function(t){s[t.keyCode]=null}),s||(s=Object.create(null),o(window,"focus",function(){s=Object.create(null)}))}},window.postMessage&&!r.isOldIE){var a=1;e.nextTick=function(t,n){n=n||window;var i="zero-timeout-message-"+a;e.addListener(n,"message",function r(s){s.data==i&&(e.stopPropagation(s),e.removeListener(n,"message",r),t())}),n.postMessage(i,"*")}}e.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,e.nextFrame=e.nextFrame?e.nextFrame.bind(window):function(t){setTimeout(t,17)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,e){var n=t("./oop"),i=function(){var t={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var e in t.FUNCTION_KEYS){var i=t.FUNCTION_KEYS[e].toLowerCase();t[i]=parseInt(e,10)}return n.mixin(t,t.MODIFIER_KEYS),n.mixin(t,t.PRINTABLE_KEYS),n.mixin(t,t.FUNCTION_KEYS),t.enter=t["return"],t.escape=t.esc,t.del=t["delete"],t[173]="-",t}();n.mixin(e,i),e.keyCodeToString=function(t){return(i[t]||String.fromCharCode(t)).toLowerCase()}}),define("ace/lib/oop",["require","exports","module"],function(t,e){e.inherits=function(){var t=function(){};return function(e,n){t.prototype=n.prototype,e.super_=n.prototype,e.prototype=new t,e.prototype.constructor=e}}(),e.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},e.implement=function(t,n){e.mixin(t,n)}}),define("ace/lib/useragent",["require","exports","module"],function(t,e){if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;e.isWin="win"==n,e.isMac="mac"==n,e.isLinux="linux"==n,e.isIE=("Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0)&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=window.controllers&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,e.isAIR=i.indexOf("AdobeAIR")>=0,e.isIPad=i.indexOf("iPad")>=0,e.isTouchPad=i.indexOf("TouchPad")>=0}}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config"],function(t,e){t("./lib/fixoldbrowsers");var n=t("./lib/oop"),i=t("./lib/dom"),r=t("./lib/lang"),s=t("./lib/useragent"),o=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,l=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,u=t("./search").Search,d=t("./range").Range,f=t("./lib/event_emitter").EventEmitter,p=t("./commands/command_manager").CommandManager,g=t("./commands/default_commands").commands,m=t("./config"),v=function(t,e){var n=t.getContainerElement();this.container=n,this.renderer=t,this.commands=new p(s.isMac?"mac":"win",g),this.textInput=new o(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new a(this),new l(this),this.$blockScrolling=0,this.$search=(new u).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new h("")),m.resetOptions(this),m._emit("editor",this)};(function(){n.implement(this,f),this.$initOperationListeners=function(){function t(t){return t[t.length-1]}this.selections=[],this.commands.on("exec",function(e){this.startOperation(e);var n=e.command;if("fileJump"==n.group){var i=this.prevOp;i&&"fileJump"==i.command.group||(this.lastFileJumpPos=t(this.selections))}else this.lastFileJumpPos=null}.bind(this),!0),this.commands.on("afterExec",function(t){var e=t.command;return"fileJump"==e.group&&this.lastFileJumpPos&&!this.curOp.selectionChanged?void this.selection.fromJSON(this.lastFileJumpPos):void this.endOperation(t)}.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args},this.selections.push(this.selection.toJSON())},this.endOperation=function(){this.curOp&&(this.prevOp=this.curOp,this.curOp=null)},this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=["backspace","del","insertstring"],i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t){if(t)if("string"==typeof t){this.$keybindingId=t;var e=this;m.loadModule(["keybinding",t],function(n){e.$keybindingId==t&&e.keyBinding.setKeyboardHandler(n&&n.handler)})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t);else this.keyBinding.setKeyboardHandler(null)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){if(this.session){var e=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=t,this.$onDocumentChange=this.onDocumentChange.bind(this),t.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:t,oldSession:e})}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t){this.renderer.setTheme(t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout(function(){t.$highlightPending=!1;var e=t.session.findMatchingBracket(t.getCursorPosition());if(e)var n=new d(e.row,e.column,e.row,e.column+1);else if(t.session.$mode.getMatching)var n=t.session.$mode.getMatching(t.session);n&&(t.session.$bracketHighlight=t.session.addMarker(n,"ace_bracket","text"))},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus"))},this.onBlur=function(){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur"))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e,n=t.data,i=n.range;e=i.start.row==i.end.row&&"insertLines"!=n.action&&"removeLines"!=n.action?i.end.row:1/0,this.renderer.updateLines(i.start.row,e),this._emit("change",t),this.$cursorChange()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._emit("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new d(t.row,t.column,t.row,1/0);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._emit("changeBackMarker"))},this.onSelectionChange=function(){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var e=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(e,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._emit("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column-1,i=e.end.column+1,r=t.getLine(e.start.row),s=r.length,o=r.substring(Math.max(n,0),Math.min(i,s));if(!(n>=0&&/^[\w\d]/.test(o)||s>=i&&/[\w\d]$/.test(o))&&(o=r.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(o))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t){this.$readOnly||(this._emit("paste",t),this.insert(t))},this.execCommand=function(t,e){this.commands.exec(t,this,e)},this.insert=function(t){var e=this.session,n=e.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()){var r=n.transformAction(e.getState(i.row),"insertion",this,e,t);r&&(t!==r.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=r.text)}if("	"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new d.fromPoints(i,i);s.end.column+=t.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var o=e.getLine(i.row);if(i.column>o.search(/\S|$/)){var a=o.substr(i.column).search(/\S|$/);e.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();{var l=i.column,c=e.getState(i.row),o=e.getLine(i.row),h=n.checkOutdent(c,o,t);e.insert(i,t)}if(r&&r.selection&&this.selection.setSelectionRange(2==r.selection.length?new d(i.row,l+r.selection[0],i.row,l+r.selection[1]):new d(i.row+r.selection[0],r.selection[1],i.row+r.selection[2],r.selection[3])),e.getDocument().isNewLine(t)){var u=n.getNextLineIndent(c,o.slice(0,i.column),e.getTabString());e.insert({row:i.row+1,column:0},u)}h&&n.autoOutdent(c,e,i.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0==e.end.column){var s=n.getTextRange(e);if("\n"==s[s.length-1]){var o=n.getLine(e.end.row);/^\s+$/.test(o)&&(e.end.column=o.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new d(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new d(t.row,e-2,t.row,e)),this.session.replace(i,n)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(e.start.row<e.end.row){var n=this.$getSelectedRows();return void t.indentRows(n.first,n.last,"	")}if(e.start.column<e.end.column){var i=t.getTextRange(e);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return void t.indentRows(n.first,n.last,"	")}}var s=t.getLine(e.start.row),o=e.start,a=t.getTabSize(),l=t.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var c=a-l%a,h=r.stringRepeat(" ",c);else{for(var c=l%a;" "==s[e.start.column]&&c;)e.start.column--,c--;this.selection.setSelectionRange(e),h="	"}return this.insert(h)},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"	")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){var t=this.$getSelectedRows(),e=this.session,n=[];for(r=t.first;r<=t.last;r++)n.push(e.getLine(r));n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});for(var i=new d(0,0,0,0),r=t.first;r<=t.last;r++){var s=e.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,e.replace(i,n[r-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e){var s={value:r[0],start:r.index,end:r.index+r[0].length};return s}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new d(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(e,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),t*=o!==s.end&&o>n?Math.pow(10,s.end-n-1):Math.pow(10,s.end-n),l+=t,l/=Math.pow(10,a);var c=l.toFixed(a),h=new d(e,s.start,e,s.end);this.session.replace(h,c),this.moveCursorTo(e,Math.max(s.start+1,n+c.length-s.value.length))}}},this.removeLines=function(){var t,e=this.$getSelectedRows();t=0===e.first||e.last+1<this.session.getLength()?new d(e.first,0,e.last+1,0):new d(e.first-1,this.session.getLine(e.first-1).length,e.last,this.session.getLine(e.last).length),this.session.remove(t),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=e.insert(s,e.getTextRange(n),!1);n.start=s,n.end=o,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(function(t,e){return this.session.moveLinesDown(t,e)})},this.moveLinesUp=function(){this.$moveLines(function(t,e){return this.session.moveLinesUp(t,e)})},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(function(t,e){return this.session.duplicateLines(t,e),0})},this.copyLinesDown=function(){this.$moveLines(function(t,e){return this.session.duplicateLines(t,e)})},this.$moveLines=function(t){var e=this.selection;if(!e.inMultiSelectMode||this.inVirtualSelectionMode){var n=e.toOrientedRange(),i=this.$getSelectedRows(n),r=t.call(this,i.first,i.last);n.moveBy(r,0),e.fromOrientedRange(n)}else{var s=e.rangeList.ranges;e.rangeList.detach(this.session);for(var o=s.length;o--;){for(var a=o,i=s[o].collapseRows(),l=i.end.row,c=i.start.row;o--;){var i=s[o].collapseRows();if(!(c-i.end.row<=1))break;c=i.end.row}o++;for(var r=t.call(this,c,l);a>=o;)s[a].moveBy(r,0),a--}e.fromOrientedRange(e.ranges[0]),e.rangeList.attach(this.session)}},this.$getSelectedRows=function(){var t=this.getSelectionRange().collapseRows();return{first:t.start.row,last:t.end.row}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,1==e?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):0==e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)
},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t){var e=this.getCursorPosition(),n=this.session.getBracketRange(e);if(!n){if(n=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:e.row,column:e.column-1}}),!n)return;var i=n.start;i.row==e.row&&Math.abs(i.column-e.column)<2&&(n=this.session.getBracketRange(i))}i=n&&n.cursor||i,i&&(t?n&&n.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(i.row,i.column):(this.clearSelection(),this.moveCursorTo(i.row,i.column)))},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),t=t||1,this.selection.moveCursorBy(-t,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),t=t||1,this.selection.moveCursorBy(t,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){var t=this.renderer.scrollTop;this.selection.moveCursorFileEnd(),this.clearSelection(),this.renderer.animateScrolling(t)},this.navigateFileStart=function(){var t=this.renderer.scrollTop;this.selection.moveCursorFileStart(),this.clearSelection(),this.renderer.animateScrolling(t)},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,t)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],t)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return e=this.$search.replace(n,e),null!==e?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,i){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&n.mixin(e,t);var r=this.selection.getRange();null==e.needle&&(t=this.session.getTextRange(r)||this.$search.$options.needle,t||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var s=this.$search.find(this.session);return e.preventScroll?s:s?(this.revealRange(s,i),s):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),0!=e&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._emit("destroy",this)},this.setAutoScrollEditorIntoView=function(t){if(t!==!1){var e,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",function(){i=!0}),o=this.renderer.on("beforeRender",function(){i&&(e=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&e&&n.isFocused()){var t=n.renderer,s=t.$cursorLayer.$pixelPos,o=t.layerConfig,a=s.top-o.offset;i=s.top>=0&&a+e.top<0?!0:s.top<o.height&&s.top+e.top+o.lineHeight>window.innerHeight?!1:null,null!=i&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=e=null}});this.setAutoScrollEditorIntoView=function(t){t!==!0&&(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",s),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",o))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking("smooth"==t),e.isBlinking=!this.$readOnly&&"wide"!=t)}}).call(v.prototype),m.defineOptions(v.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._emit("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session"}),e.Editor=v}),define("ace/lib/lang",["require","exports","module"],function(t,e){e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";e>0;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n};var n=/^\s\s*/,i=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(i,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;i>n;n++)e[n]=t[n]&&"object"==typeof t[n]?this.copyObject(t[n]):t[n];return e},e.deepCopy=function(t){if("object"!=typeof t)return t;var e=t.constructor();for(var n in t)e[n]="object"==typeof t[n]?this.deepCopy(t[n]):t[n];return e},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,function(t){n.push({offset:arguments[arguments.length-2],length:t.length})}),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return i.schedule=i,i.call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)};return r.delay=r,r.schedule=function(t){null==n&&(n=setTimeout(i,t||0))},r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(t,e){var n=t("../lib/event"),i=t("../lib/useragent"),r=t("../lib/dom"),s=t("../lib/lang"),o=i.isChrome<18,a=function(t,e){function a(t){if(!g){if(D)e=0,n=t?0:h.value.length-1;else var e=t?2:1,n=2;try{h.setSelectionRange(e,n)}catch(i){}}}function l(){g||(h.value=u,i.isWebKit&&C.schedule())}function c(){setTimeout(function(){m&&(h.style.cssText=m,m=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},0)}var h=r.createElement("textarea");h.className="ace_text-input",i.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.wrap="off",h.autocorrect="off",h.autocapitalize="off",h.spellcheck=!1,h.style.opacity="0",t.insertBefore(h,t.firstChild);var u="",d=!1,f=!1,p=!1,g=!1,m="",v=!0;try{var y=document.activeElement===h}catch(w){}n.addListener(h,"blur",function(){e.onBlur(),y=!1}),n.addListener(h,"focus",function(){y=!0,e.onFocus(),a()}),this.focus=function(){h.focus()},this.blur=function(){h.blur()},this.isFocused=function(){return y};var b=s.delayedCall(function(){y&&a(v)}),C=s.delayedCall(function(){g||(h.value=u,y&&a())});i.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=v&&(v=!v,b.schedule())}),l(),y&&e.onFocus();var A=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(t,e){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()},A=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?e.text==t.value:!1}),i.isOldIE){var F=!1,E=function(t){if(!F){var e=h.value;if(!g&&e&&e!=u){if(t&&e==u[0])return x.schedule();B(e),F=!0,l(),F=!1}}},x=s.delayedCall(E);n.addListener(h,"propertychange",E);var _={13:1,27:1};n.addListener(h,"keyup",function(t){return!g||h.value&&!_[t.keyCode]||setTimeout(I,0),(h.value.charCodeAt(0)||0)<129?x.call():void(g?O():R())}),n.addListener(h,"keydown",function(){x.schedule(50)})}var k=function(){d?d=!1:f?f=!1:A(h)?(e.selectAll(),a()):D&&a(e.selection.isEmpty())},D=null;this.setInputHandler=function(t){D=t},this.getInputHandler=function(){return D};var S=!1,B=function(t){D&&(t=D(t),D=null),p?(a(),t&&e.onPaste(t),p=!1):t==u.charAt(0)?S&&e.execCommand("del",{source:"ace"}):(t.substring(0,2)==u?t=t.substr(2):t.charAt(0)==u.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==u.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==u.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),S&&(S=!1)},M=function(){if(!g){var t=h.value;B(t),l()}},$=function(t){var i=e.getCopyText();if(!i)return void n.preventDefault(t);var r=t.clipboardData||window.clipboardData;if(r&&!o){var s=r.setData("Text",i);s&&(e.onCut(),n.preventDefault(t))}s||(d=!0,h.value=i,h.select(),setTimeout(function(){d=!1,l(),a(),e.onCut()}))},T=function(t){var i=e.getCopyText();if(!i)return void n.preventDefault(t);var r=t.clipboardData||window.clipboardData;if(r&&!o){var s=r.setData("Text",i);s&&(e.onCopy(),n.preventDefault(t))}s||(f=!0,h.value=i,h.select(),setTimeout(function(){f=!1,l(),a(),e.onCopy()}))},L=function(t){var r=t.clipboardData||window.clipboardData;if(r){var s=r.getData("Text");s&&e.onPaste(s),i.isIE&&setTimeout(a),n.preventDefault(t)}else h.value="",p=!0};n.addCommandKeyListener(h,e.onCommandKey.bind(e)),n.addListener(h,"select",k),n.addListener(h,"input",M),n.addListener(h,"cut",$),n.addListener(h,"copy",T),n.addListener(h,"paste",L),"oncut"in h&&"oncopy"in h&&"onpaste"in h||n.addListener(t,"keydown",function(t){if((!i.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:T(t);break;case 86:L(t);break;case 88:$(t)}});var R=function(){g||(g={},e.onCompositionStart(),setTimeout(O,0),e.on("mousedown",I),e.selection.isEmpty()||(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},O=function(){if(g){var t=h.value.replace(/\x01/g,"");if(g.lastValue!==t&&(e.onCompositionUpdate(t),g.lastValue&&e.undo(),g.lastValue=t,g.lastValue)){var n=e.selection.getRange();e.insert(g.lastValue),e.session.markUndoGroup(),g.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},I=function(t){var n=g;g=!1;var i=setTimeout(function(){i=null;var t=h.value.replace(/\x01/g,"");g||(t==n.lastValue?l():!n.lastValue&&t&&(l(),B(t)))});D=function(t){return i&&clearTimeout(i),t=t.replace(/\x01/g,""),t==n.lastValue?"":(n.lastValue&&i&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",I),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range)},P=s.delayedCall(O,50);if(n.addListener(h,"compositionstart",R),i.isGecko?n.addListener(h,"text",function(){P.schedule()}):(n.addListener(h,"keyup",function(){P.schedule()}),n.addListener(h,"keydown",function(){P.schedule()})),n.addListener(h,"compositionend",I),this.getElement=function(){return h},this.setReadOnly=function(t){h.readOnly=t},this.onContextMenu=function(t){S=!0,m||(m=h.style.cssText),h.style.cssText="z-index:100000;"+(i.isIE?"opacity:0.1;":""),a(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t});var s=e.container.getBoundingClientRect(),o=r.computedStyle(e.container),l=s.top+(parseInt(o.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight,f=function(t){h.style.left=t.clientX-u-2+"px",h.style.top=Math.min(t.clientY-l-2,d)+"px"};f(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),i.isWin&&n.capture(e.container,f,c))},this.onContextMenuClose=c,!i.isGecko||i.isMac){var N=function(t){e.textInput.onContextMenu(t),c()};n.addListener(e.renderer.scroller,"contextmenu",N),n.addListener(h,"contextmenu",N)}};e.TextInput=a}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e){var n=t("../lib/event"),i=t("../lib/useragent"),r=t("./default_handlers").DefaultHandlers,s=t("./default_gutter_handler").GutterHandler,o=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,l=t("../config"),c=function(t){this.editor=t,new r(this),new s(this),new a(this);var e=t.renderer.getMouseEventTarget();n.addListener(e,"click",this.onMouseEvent.bind(this,"click")),n.addListener(e,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(e,[300,300,250],this,"onMouseEvent"),t.renderer.scrollBarV&&(n.addMultiMouseDownListener(t.renderer.scrollBarV.inner,[300,300,250],this,"onMouseEvent"),n.addMultiMouseDownListener(t.renderer.scrollBarH.inner,[300,300,250],this,"onMouseEvent")),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel"));var i=t.renderer.$gutter;n.addListener(i,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(i,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(i,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(i,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(e,"mousedown",function(){t.focus()}),n.addListener(i,"mousedown",function(e){return t.focus(),n.preventDefault(e)})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new o(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new o(e,this.editor))},this.onMouseWheel=function(t,e){var n=new o(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var s=this,o=function(t){s.x=t.clientX,s.y=t.clientY,e&&e(t)},a=function(t){clearInterval(c),l(),s[s.state+"End"]&&s[s.state+"End"](t),s.$clickSelection=null,null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor()),s.isMousePressed=!1,s.onMouseEvent("mouseup",t)},l=function(){s[s.state]&&s[s.state]()};if(i.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){a(t)});n.capture(this.editor.container,o,a);var c=setInterval(l,20)}}).call(c.prototype),l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:150},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0}}),e.MouseHandler=c}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e){function n(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function i(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}function r(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)var n=2*e.row-t.start.row-t.end.row;else var n=e.column-4;return 0>n?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}var s=(t("../lib/dom"),t("../lib/event"),t("../lib/useragent"),0);(function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();if(0!==r){var s=i.getSelectionRange(),o=s.isEmpty();return o&&(i.moveCursorToPosition(n),i.selection.clearSelection()),void i.textInput.onContextMenu(t.domEvent)}return!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(!e||this.$clickSelection||t.getShiftKey()||i.inMultiSelectMode?this.startSelect(n):e&&(this.mousedownEvent.time=(new Date).getTime(),this.startSelect(n)),this.captureMouse(t),t.preventDefault()):(this.mousedownEvent.time=(new Date).getTime(),this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var e=this.editor;setTimeout(function(){this.mousedownEvent.getShiftKey()?e.selection.selectToPosition(t):this.$clickSelection||(e.moveCursorToPosition(t),e.selection.clearSelection())}.bind(this),0),e.renderer.scroller.setCapture&&e.renderer.scroller.setCapture(),e.setStyle("ace_selecting"),this.setState("select")},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var s=r(this.$clickSelection,n);n=s.cursor,t=s.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),s=n.selection[t](i.row,i.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==o&&0>=a)e=this.$clickSelection.end,(s.end.row!=i.row||s.end.column!=i.column)&&(i=s.start);else if(1==a&&o>=0)e=this.$clickSelection.start,(s.start.row!=i.row||s.start.column!=i.column)&&(i=s.end);else if(-1==o&&1==a)i=s.end,e=s.start;else{var l=r(this.$clickSelection,i);i=l.cursor,e=l.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=(new Date).getTime();(t>s||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(e);return r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.$clickSelection=r,void this.setState("select")):(this.$clickSelection=n.selection.getWordRange(e.row,e.column),void this.setState("selectByWords"))},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines"),this.$clickSelection=n.selection.getLineRange(e.row)},this.onQuadClick=function(){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getShiftKey()&&!t.getAccelKey()){var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed);return r||200>n?(this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}}).call(n.prototype),e.DefaultHandlers=n}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event"],function(t,e){function n(t){function e(){u=i.createElement("div"),u.className="ace_gutter-tooltip",u.style.display="none",a.container.appendChild(u)}function n(){u||e();var t=h.getDocumentPosition().row,n=l.$annotations[t];if(!n)return s();var i=a.session.getLength();if(t==i){var r=a.renderer.pixelToScreenCoordinates(0,h.y).row,c=h.$pos;if(r>a.session.documentToScreenRow(c.row,c.column))return s()}d!=n&&(d=n.text.join("<br/>"),u.style.display="block",u.innerHTML=d,a.on("mousewheel",s),o(h))}function s(){c&&(c=clearTimeout(c)),d&&(u.style.display="none",d=null,a.removeEventListener("mousewheel",s))}function o(t){var e=a.renderer.$gutter.getBoundingClientRect();if(u.style.left=t.x+15+"px",t.y+3*a.renderer.lineHeight+15<e.bottom)u.style.bottom="",u.style.top=t.y+15+"px";else{u.style.top="";var n=window.innerHeight||document.documentElement.clientHeight;u.style.bottom=n-t.y+5+"px"}}var a=t.editor,l=a.renderer.$gutterLayer;t.editor.setDefaultHandler("guttermousedown",function(e){if(a.isFocused()&&0==e.getButton()){var n=l.getRegion(e);if("foldWidgets"!=n){var i=e.getDocumentPosition().row,r=a.session.selection;if(e.getShiftKey())r.selectTo(i,0);else{if(2==e.domEvent.detail)return a.selectAll(),e.preventDefault();t.$clickSelection=a.selection.getLineRange(i)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}}});var c,h,u,d;t.editor.setDefaultHandler("guttermousemove",function(e){var r=e.domEvent.target||e.domEvent.srcElement;return i.hasCssClass(r,"ace_fold-widget")?s():(d&&o(e),h=e,void(c||(c=setTimeout(function(){c=null,h&&!t.isMousePressed?n():s()},50))))}),r.addListener(a.renderer.$gutter,"mouseout",function(){h=null,d&&!c&&(c=setTimeout(function(){c=null,s()},50))}),a.on("changeSession",s)}var i=t("../lib/dom"),r=t("../lib/event");e.GutterHandler=n}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e){var n=t("../lib/event"),i=t("../lib/useragent"),r=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor,e=t.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=e.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e){function n(t){function e(t,e){var n=(new Date).getTime(),r=!e||t.row!=e.row,s=!e||t.column!=e.column;if(!D||r||s)m.$blockScrolling+=1,m.moveCursorToPosition(t),m.$blockScrolling-=1,D=n,S={x:b,y:C};else{var o=i(S.x,S.y,b,C);o>c?D=null:n-D>=l&&(m.renderer.scrollCursorIntoView(),D=null)}}function n(t,e){var n=(new Date).getTime(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,s=m.renderer.scroller.getBoundingClientRect(),o={x:{left:b-s.left,right:s.right-b},y:{top:C-s.top,bottom:s.bottom-C}},l=Math.min(o.x.left,o.x.right),c=Math.min(o.y.top,o.y.bottom),h={row:t.row,column:t.column};2>=l/r&&(h.column+=o.x.left<o.x.right?-3:2),1>=c/i&&(h.row+=o.y.top<o.y.bottom?-1:1);var u=t.row!=h.row,d=t.column!=h.column,f=!e||t.row!=e.row;u||d&&!f?k?n-k>=a&&m.renderer.scrollCursorIntoView(h):k=n:k=null}function h(){var t=E;E=m.renderer.screenToTextCoordinates(b,C),e(E,t),n(E,t)}function u(){F=m.selection.toOrientedRange(),w=m.session.addMarker(F,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(A),A=setInterval(h,20),M=0,s.addListener(document,"mousemove",f)}function d(){clearInterval(A),m.session.removeMarker(w),w=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(F),m.$blockScrolling-=1,m.isFocused()&&!_&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),F=null,M=0,k=null,D=null,s.removeListener(document,"mousemove",f)}function f(){null==$&&($=setTimeout(function(){null!=$&&w&&d()},20))}function p(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function g(t){var e=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=o.isMac?t.altKey:t.ctrlKey,r="uninitialized";try{r=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var s="none";return i&&e.indexOf(r)>=0?s="copy":n.indexOf(r)>=0?s="move":e.indexOf(r)>=0&&(s="copy"),s}var m=t.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(e){t[e]=this[e]},this),m.addEventListener("mousedown",this.onMouseDown.bind(t));var w,b,C,A,F,E,x,_,k,D,S,B=m.container,M=0;this.onDragStart=function(t){if(this.cancelDrag||!B.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}F=m.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",o.isOpera&&(m.container.appendChild(v),v._top=v.offsetTop),n.setDragImage&&n.setDragImage(v,0,0),o.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),_=!0,this.setState("drag")},this.onDragEnd=function(t){if(B.draggable=!1,_=!1,this.setState(null),!m.getReadOnly()){var e=t.dataTransfer.dropEffect;x||"move"!=e||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging")},this.onDragEnter=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(w||u(),M++,t.dataTransfer.dropEffect=x=g(t),s.preventDefault(t)):void 0},this.onDragOver=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(w||(u(),M++),null!==$&&($=null),b=t.clientX,C=t.clientY,t.dataTransfer.dropEffect=x=g(t),s.preventDefault(t)):void 0},this.onDragLeave=function(t){return M--,0>=M&&w?(d(),x=null,s.preventDefault(t)):void 0},this.onDrop=function(t){if(w){var e=t.dataTransfer;if(_)switch(x){case"move":F=F.contains(E.row,E.column)?{start:E,end:E}:m.moveText(F,E);break;case"copy":F=m.moveText(F,E,!0)}else{var n=e.getData("Text");F={start:E,end:m.session.insert(E,n)},m.focus(),x=null}return d(),s.preventDefault(t)}},s.addListener(B,"dragstart",this.onDragStart.bind(t)),s.addListener(B,"dragend",this.onDragEnd.bind(t)),s.addListener(B,"dragenter",this.onDragEnter.bind(t)),s.addListener(B,"dragover",this.onDragOver.bind(t)),s.addListener(B,"dragleave",this.onDragLeave.bind(t)),s.addListener(B,"drop",this.onDrop.bind(t));var $=null}function i(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}var r=t("../lib/dom"),s=t("../lib/event"),o=t("../lib/useragent"),a=200,l=200,c=5;(function(){this.dragWait=function(){var t=(new Date).getTime()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor.container;t.draggable=!0,this.editor.renderer.$cursorLayer.setBlinking(!1),this.editor.setStyle("ace_dragging"),this.setState("dragReady")},this.onMouseDrag=function(){var t=this.editor.container;if(o.isIE&&"dragReady"==this.state){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);e>3&&t.dragDrop()}if("dragWait"===this.state){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);e>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton(),r=t.domEvent.detail||1;if(1===r&&0===i&&n){this.mousedownEvent.time=(new Date).getTime();var s=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in s&&(s.unselectable="on"),e.getDragDelay()){if(o.isWebKit){self.cancelDrag=!0;var a=e.container;a.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(n.prototype),e.DragdropHandler=n}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/event_emitter"],function(t,e,n){"no use strict";
function i(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}var r=t("./lib/lang"),s=t("./lib/oop"),o=t("./lib/net"),a=t("./lib/event_emitter").EventEmitter,l=function(){return this}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};e.get=function(t){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return c[t]},e.set=function(t,e){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);c[t]=e},e.all=function(){return r.copyObject(c)},s.implement(e,a),e.moduleUrl=function(t,e){if(c.$moduleUrls[t])return c.$moduleUrls[t];var n=t.split("/");e=e||n[n.length-2]||"";var i="snippets"==e?"/":"-",r=n[n.length-1];if("-"==i){var s=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(s,"")}(!r||r==e)&&n.length>1&&(r=n[n.length-2]);var o=c[e+"Path"];return null==o?o=c.basePath:"/"==i&&(e=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+e+i+r+this.get("suffix")},e.setModuleUrl=function(t,e){return c.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=t(n)}catch(a){}if(r&&!e.$loading[n])return i&&i(r);if(e.$loading[n]||(e.$loading[n]=[]),e.$loading[n].push(i),!(e.$loading[n].length>1)){var l=function(){t([n],function(t){e._emit("load.module",{name:n,module:t});var i=e.$loading[n];e.$loading[n]=null,i.forEach(function(e){e&&e(t)})})};return e.get("packaged")?void o.loadScript(e.moduleUrl(n,s),l):l()}},e.init=function(){if(c.packaged=t.packaged||n.packaged||l.define&&define.packaged,!l.document)return"";for(var r={},s="",o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var h=o[a],u=h.src||h.getAttribute("src");if(u){for(var d=h.attributes,f=0,p=d.length;p>f;f++){var g=d[f];0===g.name.indexOf("data-ace-")&&(r[i(g.name.replace(/^data-ace-/,""))]=g.value)}var m=u.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(s=m[1])}}s&&(r.base=r.base||s,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base;for(var v in r)"undefined"!=typeof r[v]&&e.set(v,r[v])};var h={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var n=this.$options[t];if(!n)return void("undefined"!=typeof console&&console.warn&&console.warn('misspelled option "'+t+'"'));if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(t,e);n.handlesSet||(this["$"+t]=e),n&&n.set&&n.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:void("undefined"!=typeof console&&console.warn&&console.warn('misspelled option "'+t+'"'))}},u={};e.defineOptions=function(t,e,n){return t.$options||(u[e]=t.$options={}),Object.keys(n).forEach(function(e){var i=n[e];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=e),t.$options[i.name]=i,"initialValue"in i&&(t["$"+i.name]=i.initialValue)}),s.implement(t,h),this},e.resetOptions=function(t){Object.keys(t.$options).forEach(function(e){var n=t.$options[e];"value"in n&&t.setOption(e,n.value)})},e.setDefaultValue=function(t,n,i){var r=u[t]||(u[t]={});r[n]&&(r.forwardTo?e.setDefaultValue(r.forwardTo,n,i):r[n].value=i)},e.setDefaultValues=function(t,n){Object.keys(n).forEach(function(i){e.setDefaultValue(t,i,n[i])})}}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e){var n=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,e){var i=n.getDocumentHead(),r=document.createElement("script");r.src=t,i.appendChild(r),r.onload=r.onreadystatechange=function(t,n){(n||!r.readyState||"loaded"==r.readyState||"complete"==r.readyState)&&(r=r.onload=r.onreadystatechange=null,n||e())}}}),define("ace/lib/event_emitter",["require","exports","module"],function(t,e){var n={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],s=this._defaultHandlers[t];if(n.length||s){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=i),e.preventDefault||(e.preventDefault=r),n=n.slice();for(var o=0;o<n.length&&(n[o](e,this),!e.propagationStopped);o++);return s&&!e.defaultPrevented?s(e,this):void 0}},n._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},n.once=function(t,e){var n=this;e&&this.addEventListener(t,function i(){n.removeEventListener(t,i),e.apply(null,arguments)})},n.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var s=r.indexOf(e);-1!=s&&r.splice(s,1)}n[t]=e},n.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e){{n[t]}i&&this.setDefaultHandler(t,i.pop())}else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},n.on=n.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=n}),define("ace/mouse/fold_handler",["require","exports","module"],function(t,e){function n(t){t.on("click",function(e){var n=e.getDocumentPosition(),i=t.session,r=i.getFoldAt(n.row,n.column,1);r&&(e.getAccelKey()?i.removeFold(r):i.expandFold(r),e.stop())}),t.on("gutterclick",function(e){var n=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==n){var i=e.getDocumentPosition().row,r=t.session;r.foldWidgets&&r.foldWidgets[i]&&t.session.onFoldWidgetClick(i,e),t.isFocused()||t.focus(),e.stop()}}),t.on("gutterdblclick",function(e){var n=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==n){var i=e.getDocumentPosition().row,r=t.session,s=r.getParentFoldRangeData(i,!0),o=s.range||s.firstRange;if(o){var i=o.start.row,a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",o),t.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}e.stop()}})}e.FoldHandler=n}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e){var n=t("../lib/keys"),i=t("../lib/event"),r=function(t){this.$editor=t,this.$data={},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),void 0==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1==e?!1:(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(t,e,n,r){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(s=this.$handlers[l].handleKeyboard(this.$data,t,e,n,r),!(s&&s.command&&(o="null"==s.command?!0:a.exec(s.command,this.$editor,s.args,r),o&&r&&-1!=t&&1!=s.passEvent&&1!=s.command.passEvent&&i.stopEvent(r),o))););return o},this.onCommandKey=function(t,e,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(e,r,i,t)},this.onTextInput=function(t){var e=this.$callKeyboardHandlers(-1,t);e||this.$editor.commands.exec("insertstring",this.$editor,t)}}).call(r.prototype),e.KeyBinding=r}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e){var n=t("./lib/oop"),i=t("./lib/lang"),r=t("./config"),s=t("./lib/event_emitter").EventEmitter,o=t("./selection").Selection,a=t("./mode/text").Mode,l=t("./range").Range,c=t("./document").Document,h=t("./background_tokenizer").BackgroundTokenizer,u=t("./search_highlight").SearchHighlight,d=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new c(t)),this.setDocument(t),this.selection=new o(this),r.resetOptions(this),this.setMode(e),r._emit("session",this)};(function(){function e(t){return 4352>t?!1:t>=4352&&4447>=t||t>=4515&&4519>=t||t>=4602&&4607>=t||t>=9001&&9002>=t||t>=11904&&11929>=t||t>=11931&&12019>=t||t>=12032&&12245>=t||t>=12272&&12283>=t||t>=12288&&12350>=t||t>=12353&&12438>=t||t>=12441&&12543>=t||t>=12549&&12589>=t||t>=12593&&12686>=t||t>=12688&&12730>=t||t>=12736&&12771>=t||t>=12784&&12830>=t||t>=12832&&12871>=t||t>=12880&&13054>=t||t>=13056&&19903>=t||t>=19968&&42124>=t||t>=42128&&42182>=t||t>=43360&&43388>=t||t>=44032&&55203>=t||t>=55216&&55238>=t||t>=55243&&55291>=t||t>=63744&&64255>=t||t>=65040&&65049>=t||t>=65072&&65106>=t||t>=65108&&65126>=t||t>=65128&&65131>=t||t>=65281&&65376>=t||t>=65504&&65510>=t}n.implement(this,s),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>n&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;i>=n;){var r=n+i>>1,s=t[r];if(e>s)n=r+1;else{if(!(s>e))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){var e=t.data;this.$modified=!0,this.$resetRowCache(e.range.start.row);var n=this.$updateInternalDataOnChange(t);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),n&&0!=n.length&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._emit("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e)s=i.length-1,r=this.getLine(t).length;else for(var s=0;s<i.length&&(r+=i[s].value.length,!(r>=e));s++);return(n=i[s])?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),e.$deltas.length>0&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._emit("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._emit("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._emit("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._emit("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._emit("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._emit("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,s={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._emit("changeFrontMarker")):(this.$backMarkers[r]=s,this._emit("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._emit("changeFrontMarker")):(this.$backMarkers[n]=t,this._emit("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var n=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete n[t],this._emit(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new u(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new l(t,0,e,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._emit("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(e>0&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(e-1,e+1)))var r=/\s/;else var r=this.nonTokenRe;var s=e;if(s>0){do s--;while(s>=0&&n.charAt(s).match(r));s++}for(var o=e;o<n.length&&n.charAt(o).match(r);)o++;return new l(t,s,t,o)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._emit("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[i]&&!n?(this.$onChangeMode(this.$modes[i]),void(e&&e())):(this.$modeId=i,r.loadModule(["mode",i],function(t){return this.$modeId!==i?e&&e():this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):void(t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[i]=t,t.$id=i),this.$onChangeMode(t),e&&e()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._emit("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,this.$options.wrapMethod.set.call(this,this.$wrapMethod),e||(this.$setFolding(t.foldingRules),this._emit("changeMode"),this.bgTokenizer.start(0))}},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if("undefined"==typeof Worker||t.noWorker)this.$worker=null;else try{this.$worker=this.$mode.createWorker(this)}catch(e){console.log("Could not load worker"),console.log(e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.screenWidth},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=e.length,l=0;a>l;l++){if(l>o){if(l=s.end.row+1,l>=a)break;s=this.$foldData[r++],o=s?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(e[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=t.length-1;-1!=i;i--){var r=t[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(t){this.addFolds(t.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=0;i<t.length;i++){var r=t[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,n){function i(t){var n="insertText"===t.action||"insertLines"===t.action;return e?!n:n}var r,s,o=t[0],a=!1;i(o)?(r=l.fromPoints(o.range.start,o.range.end),a=!0):(r=l.fromPoints(o.range.start,o.range.start),a=!1);for(var c=1;c<t.length;c++)o=t[c],i(o)?(s=o.range.start,-1==r.compare(s.row,s.column)&&r.setStart(o.range.start),s=o.range.end,1==r.compare(s.row,s.column)&&r.setEnd(o.range.end),a=!0):(s=o.range.start,-1==r.compare(s.row,s.column)&&(r=l.fromPoints(o.range.start,o.range.start)),a=!1);if(null!=n){0==l.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var h=n.compareRange(r);1==h?r.setStart(n.start):-1==h&&r.setEnd(n.end)}return r},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),s=l.fromPoints(e,e);if(!n){this.remove(t);var o=t.start.row-t.end.row,a=o?-t.end.column:t.start.column-t.end.column;a&&(s.start.row==t.end.row&&s.start.column>t.end.column&&(s.start.column+=a),s.end.row==t.end.row&&s.end.column>t.end.column&&(s.end.column+=a)),o&&s.start.row>=t.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var c=t.start,h=s.start,o=h.row-c.row,a=h.column-c.column;this.addFolds(r.map(function(t){return t=t.clone(),t.start.row==c.row&&(t.start.column+=a),t.end.row==c.row&&(t.end.column+=a),t.start.row+=o,t.end.row+=o,t}))}return s},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;e>=i;i++)this.insert({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new l(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;i>o&&" "==s.charAt(o);++o);i>o&&"	"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),0>n){var i=this.getRowFoldStart(t+n);if(0>i)return 0;var r=i-t}else if(n>0){var i=this.getRowFoldEnd(e+n);if(i>this.doc.getLength()-1)return 0;var r=i-e}else{t=this.$clipRowToDocument(t),e=this.$clipRowToDocument(e);var r=e-t+1}var s=new l(t,0,e,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(t){return t=t.clone(),t.start.row+=r,t.end.row+=r,t}),a=0==n?this.doc.getLines(t,e):this.doc.removeLines(t,e);return this.doc.insertLines(t+r,a),o.length&&this.addFolds(o),r},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return 0>e?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),0>t)t=0,e=0;else{var n=this.doc.getLength();t>=n?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=[];for(var n=0;e>n;n++)this.$wrapData.push([]);this.$updateWrapData(0,e-1)}this._emit("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){(this.$wrapLimitRange.min!==t||this.$wrapLimitRange.max!==e)&&(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this._emit("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&i>1?(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e,n=this.$useWrapMode,i=t.data.action,r=t.data.range.start.row,s=t.data.range.end.row,o=t.data.range.start,a=t.data.range.end,l=null;if(-1!=i.indexOf("Lines")?(s="insertLines"==i?r+t.data.lines.length:r,e=t.data.lines?t.data.lines.length:s-r):e=s-r,this.$updating=!0,0!=e)if(-1!=i.indexOf("remove")){this[n?"$wrapData":"$rowLengthCache"].splice(r,e);var c=this.$foldData;l=this.getFoldsInRange(t.data.range),this.removeFolds(l);var h=this.getFoldLine(a.row),u=0;if(h){h.addRemoveChars(a.row,a.column,o.column-a.column),h.shiftRow(-e);var d=this.getFoldLine(r);d&&d!==h&&(d.merge(h),h=d),u=c.indexOf(h)+1}for(u;u<c.length;u++){var h=c[u];h.start.row>=a.row&&h.shiftRow(-e)}s=r}else{var f;if(n){f=[r,0];for(var p=0;e>p;p++)f.push([]);this.$wrapData.splice.apply(this.$wrapData,f)}else f=Array(e),f.unshift(r,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,f);var c=this.$foldData,h=this.getFoldLine(r),u=0;if(h){var g=h.range.compareInside(o.row,o.column);0==g?(h=h.split(o.row,o.column),h.shiftRow(e),h.addRemoveChars(s,0,a.column-o.column)):-1==g&&(h.addRemoveChars(r,0,a.column-o.column),h.shiftRow(e)),u=c.indexOf(h)+1}for(u;u<c.length;u++){var h=c[u];h.start.row>=r&&h.shiftRow(e)}}else{e=Math.abs(t.data.range.start.column-t.data.range.end.column),-1!=i.indexOf("remove")&&(l=this.getFoldsInRange(t.data.range),this.removeFolds(l),e=-e);var h=this.getFoldLine(r);h&&h.addRemoveChars(r,o.column,e)}return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(r,s):this.$updateRowLengthCache(r,s),l},this.$updateRowLengthCache=function(t,e){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var n,i,r=this.doc.getAllLines(),s=this.getTabSize(),o=this.$wrapData,a=this.$wrapLimit,l=t;for(e=Math.min(e,r.length-1);e>=l;)i=this.getFoldLine(l,i),i?(n=[],i.walk(function(t,e,i,s){var o;if(null!=t){o=this.$getDisplayTokens(t,n.length),o[0]=d;for(var a=1;a<o.length;a++)o[a]=f}else o=this.$getDisplayTokens(r[e].substring(s,i),n.length);n=n.concat(o)}.bind(this),i.end.row,r[i.end.row].length+1),o[i.start.row]=this.$computeWrapSplits(n,a,s),l=i.end.row+1):(n=this.$getDisplayTokens(r[l]),o[l]=this.$computeWrapSplits(n,a,s),l++)};var o=1,c=2,d=3,f=4,p=9,g=10,m=11,v=12;this.$computeWrapSplits=function(t,e){function n(e){var n=t.slice(s,e),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),o+=r,i.push(o),s=e}if(0==t.length)return[];for(var i=[],r=t.length,s=0,o=0,a=this.$wrapAsCode;r-s>e;){var l=s+e;if(t[l-1]>=g&&t[l]>=g)n(l);else if(t[l]!=d&&t[l]!=f){for(var c=Math.max(l-(a?10:e-(e>>2)),s-1);l>c&&t[l]<d;)l--;if(a){for(;l>c&&t[l]<d;)l--;for(;l>c&&t[l]==p;)l--}else for(;l>c&&t[l]<g;)l--;l>c?n(++l):(l=s+e,n(l))}else{for(l;l!=s-1&&t[l]!=d;l--);if(l>s){n(l);continue}for(l=s+e;l<t.length&&t[l]==f;l++);if(l==t.length)break;n(l)}}return i},this.$getDisplayTokens=function(t,n){var i,r=[];n=n||0;for(var s=0;s<t.length;s++){var a=t.charCodeAt(s);if(9==a){i=this.getScreenTabSize(r.length+n),r.push(m);for(var l=1;i>l;l++)r.push(v)}else 32==a?r.push(g):a>39&&48>a||a>57&&64>a?r.push(p):a>=4352&&e(a)?r.push(o,c):r.push(o)}return r},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,s;for(s=0;s<t.length&&(r=t.charCodeAt(s),i+=9==r?this.getScreenTabSize(i):r>=4352&&e(r)?2:1,!(i>n));s++);return[i,s]},this.getRowLength=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e){if(0>t)return{row:0,column:0};var n,i,r=0,s=0,o=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,t),h=l.length;if(h&&c>=0)var o=l[c],r=this.$docRowCache[c],u=t>l[h-1];else var u=!h;for(var d=this.getLength()-1,f=this.getNextFoldLine(r),p=f?f.start.row:1/0;t>=o&&(a=this.getRowLength(r),!(o+a-1>=t||r>=d));)o+=a,r++,r>p&&(r=f.end.row+1,f=this.getNextFoldLine(r,f),p=f?f.start.row:1/0),u&&(this.$docRowCache.push(r),this.$screenRowCache.push(o));if(f&&f.start.row<=r)n=this.getFoldDisplayLine(f),r=f.start.row;else{if(t>=o+a||r>d)return{row:d,column:this.getLine(d).length};n=this.getLine(r),f=null}if(this.$useWrapMode){var g=this.$wrapData[r];g&&(i=g[t-o],t>o&&g.length&&(s=g[t-o-1]||g[g.length-1],n=n.substring(s)))}return s+=this.$getStringScreenWidth(n,e)[1],this.$useWrapMode&&s>=i&&(s=i-1),f?f.idxToPosition(s):{row:r,column:s}},this.documentToScreenPosition=function(t,e){if("undefined"==typeof e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i=0,r=null,s=null;s=this.getFoldAt(t,e,1),s&&(t=s.start.row,e=s.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,t),h=l.length;if(h&&c>=0)var a=l[c],i=this.$screenRowCache[c],u=t>l[h-1];else var u=!h;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;t>a;){if(a>=f){if(o=d.end.row+1,o>t)break;d=this.getNextFoldLine(o,d),f=d?d.start.row:1/0}else o=a+1;i+=this.getRowLength(a),a=o,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";if(d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),r=d.start.row):(p=this.getLine(t).substring(0,e),r=t),this.$useWrapMode){for(var g=this.$wrapData[r],m=0;p.length>=g[m];)i++,m++;p=p.substring(g[m-1]||0,p.length)}return{row:i,column:this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,e=this.$foldData[r++],s=e?e.start.row:1/0;n>i;)t+=this.$wrapData[i].length+1,i++,i>s&&(i=e.end.row+1,e=this.$foldData[r++],s=e?e.start.row:1/0);else{t=this.getLength();for(var o=this.$foldData,r=0;r<o.length;r++)e=o[r],t-=e.end.row-e.start.row}return t}}).call(d.prototype),t("./edit_session/folding").Folding.call(d.prototype),t("./edit_session/bracket_match").BracketMatch.call(d.prototype),r.defineOptions(d.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t){if(t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1);this.$wrap=t}},get:function(){return this.getUseWrapMode()?this.getWrapLimitRange().min||"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){this.$wrapAsCode="auto"==t?"text"!=this.$mode.type:"text"!=t},initialValue:"auto"},firstLineNumber:{set:function(){this._emit("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._emit("changeTabSize"))
},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._emit("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0}}),e.EditSession=d}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e){var n=t("./lib/oop"),i=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,o=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){e.$isEmpty||e._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+t);var e=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===e.column||this.setSelectionAnchor(e.row,e.column+t),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+t)})},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if("undefined"==typeof e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,e===!0?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0==e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-n,e.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column),s=r.match(/^\s*/);s[0].length==e||this.session.$useEmacsStyleLineStart||(i.column+=s[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);i>0&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t,e=this.lead.row,n=this.lead.column,i=this.doc.getLine(e),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,n,1);return s?void this.moveCursorTo(s.end.row,s.end.column):((t=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),n>=i.length?(this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):((t=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,n)))},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return void this.moveCursorTo(t.start.row,t.start.column);var r=this.session.getFoldStringAt(e,n,-1);null==r&&(r=this.doc.getLine(e).substring(0,n));var s,o=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(s=this.session.nonTokenRe.exec(o))&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft())):((s=this.session.tokenRe.exec(o))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,n))},this.$shortWordEndIndex=function(t){var e,n,i=0,r=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,e=this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(n=t[i])&&r.test(n);)i++;if(1>i)for(s.lastIndex=0;(n=t[i])&&!s.test(n);)if(s.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=t[i])&&r.test(n);)i++;if(i>2)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){var s=this.doc.getLength();do t++,i=this.doc.getLine(t);while(s>t&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),e=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+o)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var r=this.session.getLine(e).substring(0,n);if(0==n){do e--,r=this.doc.getLine(e);while(e>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+t,n.column);this.moveCursorTo(i.row,i.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(void 0==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=s.fromPoints(t[e].start,t[e].end);t.isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(o.prototype),e.Selection=o}),define("ace/range",["require","exports","module"],function(t,e){var n=function(t,e){return t.row-e.row||t.column-e.column},i=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return e=this.compare(n.row,n.column),1==e?(e=this.compare(i.row,i.column),1==e?2:0==e?1:0):-1==e?-2:(e=this.compare(i.row,i.column),-1==e?-1:1==e?42:0)},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)||this.isStart(t,e)?!1:!0:!1},this.insideStart=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)?!1:!0:!1},this.insideEnd=function(t,e){return 0==this.compare(t,e)?this.isStart(t,e)?!1:!0:!1},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else if(this.end.row<t)var n={row:t,column:0};if(this.start.row>e)var r={row:e+1,column:0};else if(this.start.row<t)var r={row:t,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var r={row:t,column:e};else var s={row:t,column:e};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new i(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(i.prototype),i.fromPoints=function(t,e){return new i(t.row,t.column,e.row,e.column)},i.comparePoints=n,i.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=i}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e){var n=t("../tokenizer").Tokenizer,i=t("./text_highlight_rules").TextHighlightRules,r=t("./behaviour").Behaviour,s=t("../unicode"),o=t("../lib/lang"),a=t("../token_iterator").TokenIterator,l=t("../range").Range,c=function(){this.HighlightRules=i,this.$behaviour=new r};(function(){this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,n,i){function r(t){for(var e=n;i>=e;e++)t(s.getLine(e),e)}var s=e.doc,a=!0,l=!0,c=1/0,h=e.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(o.escapeRegExp).join("|"),f=this.lineCommentStart[0];else var d=o.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),u=e.getUseSoftTabs();var p=function(t,e){var n=t.match(d);if(n){var i=n[1].length,r=n[0].length;y(t,i,r)||" "!=n[0][r-1]||r--,s.removeInLine(e,i,r)}},g=f+" ",m=function(t,e){(!a||/\S/.test(t))&&(y(t,c,c)?s.insertInLine({row:e,column:c},g):s.insertInLine({row:e,column:c},f))},v=function(t){return d.test(t)},y=function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%h!=0)return!1;for(var i=0;" "==t.charAt(n++);)i++;return h>2?i%h!=h-1:i%h==0}}else{if(!this.blockComment)return!1;var f=this.blockComment.start,w=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+o.escapeRegExp(f)+")"),b=new RegExp("(?:"+o.escapeRegExp(w)+")\\s*$"),m=function(t,e){v(t,e)||(!a||/\S/.test(t))&&(s.insertInLine({row:e,column:t.length},w),s.insertInLine({row:e,column:c},f))},p=function(t,e){var n;(n=t.match(b))&&s.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(d))&&s.removeInLine(e,n[1].length,n[0].length)},v=function(t,n){if(d.test(t))return!0;for(var i=e.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var C=1/0;r(function(t,e){var n=t.search(/\S/);-1!==n?(c>n&&(c=n),l&&!v(t,e)&&(l=!1)):C>t.length&&(C=t.length)}),1/0==c&&(c=C,a=!1,l=!1),u&&c%h!=0&&(c=Math.floor(c/h)*h),r(l?p:m)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,c=new a(e,i.row,i.column),h=c.getCurrentToken(),u=(e.selection,e.selection.toOrientedRange());if(h&&/comment/.test(h.type)){for(var d,f;h&&/comment/.test(h.type);){var p=h.value.indexOf(r.start);if(-1!=p){var g=c.getCurrentTokenRow(),m=c.getCurrentTokenColumn()+p;d=new l(g,m,g,m+r.start.length);break}h=c.stepBackward()}for(var c=new a(e,i.row,i.column),h=c.getCurrentToken();h&&/comment/.test(h.type);){var p=h.value.indexOf(r.end);if(-1!=p){var g=c.getCurrentTokenRow(),m=c.getCurrentTokenColumn()+p;f=new l(g,m,g,m+r.end.length);break}h=c.stepForward()}f&&e.remove(f),d&&(e.remove(d),s=d.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);u.start.row==s&&(u.start.column+=o),u.end.row==s&&(u.end.column+=o),e.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(t,e){return this.$getIndent(e)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(t){this.$embeds=[],this.$modes={};for(var e in t)t[e]&&(this.$embeds.push(e),this.$modes[e]=new t[e]);for(var n=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],e=0;e<n.length;e++)!function(t){var i=n[e],r=t[i];t[n[e]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(t,e,n){var i=e[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s=i.split(this.$embeds[r]);if(!s[0]&&s[1]){e[0]=s[1];var o=this.$modes[this.$embeds[r]];return o[t].apply(o,e)}}var a=n.apply(this,e);return n?a:void 0},this.transformAction=function(t,e){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][e]){var r=n[i][e].apply(this,arguments);if(r)return r}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],s=0,o=r.length;o>s;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;l>a;a++)if(/keyword|support|storage/.test(r[s].token[a])){var i=r[s].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){var t=this.$keywordList||this.$createKeywordList();return t.map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})}}).call(c.prototype),e.Mode=c}),define("ace/tokenizer",["require","exports","module"],function(t,e){var n=1e3,i=function(t){this.states=t,this.regExps={},this.matchMappings={};for(var e in this.states){for(var n=this.states[e],i=[],r=0,s=this.matchMappings[e]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;if(Array.isArray(c.token))if(1==c.token.length||1==u)c.token=c.token[0];else{if(u-1!=c.token.length)throw new Error("number of classes and regexp groups in '"+c.token+"'\n'"+c.regex+"' doesn't match\n"+(u-1)+"!="+c.token.length);c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens}else"function"!=typeof c.token||c.onMatch||(c.onMatch=u>1?this.$applyToken:c.token);u>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(u=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),s[r]=l,r+=u,i.push(h),c.onMatch||(c.onMatch=null),c.__proto__=null}}a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,o)},this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(t){n=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,s=n.length;s>r;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;s>r;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){var e=t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return e},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var n=0,i=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,s,o,a,l){return i?i="]"!=a:a?i=!0:o?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):s&&(n++,1!=s.length&&(r.stack=n,r.start=l)),t}),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var i=e.slice(0);e=i[0]}else var i=[];var r=e||"start",s=this.states[r],o=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],h=0,u={type:null,value:""};l=a.exec(t);){var d=o.defaultToken,f=null,p=l[0],g=a.lastIndex;if(g-p.length>h){var m=t.substring(h,g-p.length);u.type==d?u.value+=m:(u.type&&c.push(u),u={type:d,value:m})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){f=s[o[v]],d=f.onMatch?f.onMatch(p,r,i):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,i),s=this.states[r],s||(window.console&&console.error&&console.error(r,"doesn't exist"),r="start",s=this.states[r]),o=this.matchMappings[r],h=g,a=this.regExps[r],a.lastIndex=g);break}if(p)if("string"==typeof d)f&&f.merge===!1||u.type!==d?(u.type&&c.push(u),u={type:d,value:p}):u.value+=p;else if(d){u.type&&c.push(u),u={type:null,value:""};for(var v=0;v<d.length;v++)c.push(d[v])}if(h==t.length)break;if(h=g,c.length>n){for(;h<t.length;)u.type&&c.push(u),u={value:t.substring(h,h+=2e3),type:"overflow"};r="start",i=[];break}}return u.type&&c.push(u),{tokens:c,state:i.length?i:r}}}).call(i.prototype),e.Tokenizer=i}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e){var n=t("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var s=i[r];s.next&&("string"!=typeof s.next?s.nextState&&0!==s.nextState.indexOf(e)&&(s.nextState=e+s.nextState):0!==s.next.indexOf(e)&&(s.next=e+s.next))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,i,r,s){var o=(new t).getRules();if(r)for(var a=0;a<r.length;a++)r[a]=e+r[a];else{r=[];for(var l in o)r.push(e+l)}if(this.addRules(o,e),i)for(var c=Array.prototype[s?"push":"unshift"],a=0;a<r.length;a++)c.apply(this.$rules[r[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return"start"!=t&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e[0]!==t?"start":(e.shift(),e.shift())};this.normalizeRules=function(){function n(s){var o=r[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var h=l.stateName;h||(h=l.token,"string"!=typeof h&&(h=h[0]||""),r[h]&&(h+=i++)),r[h]=c,l.next=h,n(h)}else"pop"==c&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var u in l.rules)r[u]?r[u].push&&r[u].push.apply(r[u],l.rules[u]):r[u]=l.rules[u];if(l.include||"string"==typeof l)var d=l.include||l,f=r[d];else Array.isArray(l)&&(f=l);if(f){var p=[a,1].concat(f);l.noEscape&&(p=p.filter(function(t){return!t.next})),o.splice.apply(o,p),a--,f=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(t,e,n,i){var r=Object.create(null);return Object.keys(t).forEach(function(e){var s=t[e];n&&(s=s.toLowerCase());for(var o=s.split(i||"|"),a=o.length;a--;)r[o[a]]=e}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),t=null,n?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),e.TextHighlightRules=i}),define("ace/mode/behaviour",["require","exports","module"],function(t,e){var n=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else var n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(t){for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}return this.$behaviours}}).call(n.prototype),e.Behaviour=n}),define("ace/unicode",["require","exports","module"],function(t,e){function n(t){var n=/\w{4}/g;for(var i in t)e.packages[i]=t[i].replace(n,"\\u$&")}e.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})
}),define("ace/token_iterator",["require","exports","module"],function(t,e){var n=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var t;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(void 0!==n)return n;for(n=0;e>0;)e-=1,n+=t[e].value.length;return n}}).call(n.prototype),e.TokenIterator=n}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e){var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,r=t("./range").Range,s=t("./anchor").Anchor,o=function(t){this.$lines=[],0==t.length?this.$lines=[""]:Array.isArray(t)?this._insertLines(0,t):this.insert({row:0,column:0},t)};(function(){n.implement(this,i),this.setValue=function(t){var e=this.getLength();this.remove(new r(0,0,e,this.getLine(e-1).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new s(this,t,e)},this.$split=0=="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){if(t.start.row==t.end.row)return this.getLine(t.start.row).substring(t.start.column,t.end.column);var e=this.getLines(t.start.row,t.end.row);e[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;return t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column)),e.join(this.getNewLineCharacter())},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):t.row<0&&(t.row=0),t},this.insert=function(t,e){if(!e||0===e.length)return t;t=this.$clipPosition(t),this.getLength()<=1&&this.$detectNewLine(e);var n=this.$split(e),i=n.splice(0,1)[0],r=0==n.length?null:n.splice(n.length-1,1)[0];return t=this.insertInLine(t,i),null!==r&&(t=this.insertNewLine(t),t=this._insertLines(t.row,n),t=this.insertInLine(t,r||"")),t},this.insertLines=function(t,e){return t>=this.getLength()?this.insert({row:t,column:0},"\n"+e.join("\n")):this._insertLines(Math.max(t,0),e)},this._insertLines=function(t,e){if(0==e.length)return{row:t,column:0};if(e.length>65535){var n=this._insertLines(t,e.slice(65535));e=e.slice(0,65535)}var i=[t,0];i.push.apply(i,e),this.$lines.splice.apply(this.$lines,i);var s=new r(t,0,t+e.length,0),o={action:"insertLines",range:s,lines:e};return this._emit("change",{data:o}),n||s.end},this.insertNewLine=function(t){t=this.$clipPosition(t);var e=this.$lines[t.row]||"";this.$lines[t.row]=e.substring(0,t.column),this.$lines.splice(t.row+1,0,e.substring(t.column,e.length));var n={row:t.row+1,column:0},i={action:"insertText",range:r.fromPoints(t,n),text:this.getNewLineCharacter()};return this._emit("change",{data:i}),n},this.insertInLine=function(t,e){if(0==e.length)return t;var n=this.$lines[t.row]||"";this.$lines[t.row]=n.substring(0,t.column)+e+n.substring(t.column);var i={row:t.row,column:t.column+e.length},s={action:"insertText",range:r.fromPoints(t,i),text:e};return this._emit("change",{data:s}),i},this.remove=function(t){if(!t instanceof r&&(t=r.fromPoints(t.start,t.end)),t.start=this.$clipPosition(t.start),t.end=this.$clipPosition(t.end),t.isEmpty())return t.start;var e=t.start.row,n=t.end.row;if(t.isMultiLine()){var i=0==t.start.column?e:e+1,s=n-1;t.end.column>0&&this.removeInLine(n,0,t.end.column),s>=i&&this._removeLines(i,s),i!=e&&(this.removeInLine(e,t.start.column,this.getLine(e).length),this.removeNewLine(t.start.row))}else this.removeInLine(e,t.start.column,t.end.column);return t.start},this.removeInLine=function(t,e,n){if(e!=n){var i=new r(t,e,t,n),s=this.getLine(t),o=s.substring(e,n),a=s.substring(0,e)+s.substring(n,s.length);this.$lines.splice(t,1,a);var l={action:"removeText",range:i,text:o};return this._emit("change",{data:l}),i.start}},this.removeLines=function(t,e){return 0>t||e>=this.getLength()?this.remove(new r(t,0,e+1,0)):this._removeLines(t,e)},this._removeLines=function(t,e){var n=new r(t,0,e+1,0),i=this.$lines.splice(t,e-t+1),s={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:i};return this._emit("change",{data:s}),i},this.removeNewLine=function(t){var e=this.getLine(t),n=this.getLine(t+1),i=new r(t,e.length,t+1,0),s=e+n;this.$lines.splice(t,2,s);var o={action:"removeText",range:i,text:this.getNewLineCharacter()};this._emit("change",{data:o})},this.replace=function(t,e){if(!t instanceof r&&(t=r.fromPoints(t.start,t.end)),0==e.length&&t.isEmpty())return t.start;if(e==this.getTextRange(t))return t.end;if(this.remove(t),e)var n=this.insert(t.start,e);else n=t.start;return n},this.applyDeltas=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.insertLines(i.start.row,n.lines):"insertText"==n.action?this.insert(i.start,n.text):"removeLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"removeText"==n.action&&this.remove(i)}},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--){var n=t[e],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"insertText"==n.action?this.remove(i):"removeLines"==n.action?this._insertLines(i.start.row,n.lines):"removeText"==n.action&&this.insert(i.start,n.text)}},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,s=n.length;s>r;r++)if(t-=n[r].length+i,0>t)return{row:r,column:t+n[r].length+i};return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(t.row,n.length),o=e||0;s>o;++o)r+=n[o].length+i;return r+t.column}}).call(o.prototype),e.Document=o}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e){var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,r=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),"undefined"==typeof n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){var e=t.data,n=e.range;if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row||n.start.row==this.row&&n.start.column>this.column)){var i=this.row,r=this.column,s=n.start,o=n.end;"insertText"===e.action?s.row===i&&s.column<=r?s.column===r&&this.$insertRight||(s.row===o.row?r+=o.column-s.column:(r-=s.column,i+=o.row-s.row)):s.row!==o.row&&s.row<i&&(i+=o.row-s.row):"insertLines"===e.action?s.row<=i&&(i+=o.row-s.row):"removeText"===e.action?s.row===i&&s.column<r?r=o.column>=r?s.column:Math.max(0,r-(o.column-s.column)):s.row!==o.row&&s.row<i?(o.row===i&&(r=Math.max(0,r-o.column)+s.column),i-=o.row-s.row):o.row===i&&(i-=o.row-s.row,r=Math.max(0,r-o.column)+s.column):"removeLines"==e.action&&s.row<=i&&(o.row<=i?i-=o.row-s.row:(i=s.row,r=0)),this.setPosition(i,r,!0)}},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._emit("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>t?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),0>e&&(n.column=0),n}}).call(r.prototype)}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e){var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,r=function(t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var e=this;this.$worker=function(){if(e.running){for(var t=new Date,n=e.currentLine,i=-1,r=e.doc;e.lines[n];)n++;var s=n,o=r.getLength(),a=0;for(e.running=!1;o>n;){e.$tokenizeRow(n),i=n;do n++;while(e.lines[n]);if(a++,a%5==0&&new Date-t>20)return e.running=setTimeout(e.$worker,20),void(e.currentLine=n)}e.currentLine=n,i>=s&&e.fireUpdateEvent(s,i)}}};(function(){n.implement(this,i),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._emit("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.range,n=e.start.row,i=e.end.row-n;if(0===i)this.lines[n]=null;else if("removeText"==t.action||"removeLines"==t.action)this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var r=Array(i+1);r.unshift(n,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(r.prototype),e.BackgroundTokenizer=r}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e){var n=t("./lib/lang"),i=(t("./lib/oop"),t("./range").Range),r=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,r,s){if(this.regExp)for(var o=s.firstRow,a=s.lastRow,l=o;a>=l;l++){var c=this.cache[l];null==c&&(c=n.getMatchOffsets(r.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(t){return new i(l,t.offset,l,t.offset+t.length)}),this.cache[l]=c.length?c:"");for(var h=c.length;h--;)e.drawSingleLineMarker(t,c[h].toScreenRange(r),this.clazz,s)}}}).call(r.prototype),e.SearchHighlight=r}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e){function n(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s];if(o.range.contains(t,e)){if(1==n&&o.range.isEnd(t,e))continue;if(-1==n&&o.range.isStart(t,e))continue;return o}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(t);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(o=c.range.compareRange(t),-2==o)break;if(2!=o){if(42==o)break;r.push(c)}}}}return e.column-=1,n.column+=1,r},this.getAllFolds=function(){function t(t){e.push(t)}for(var e=[],n=this.$foldData,i=0;i<n.length;i++)for(var r=0;r<n[i].folds.length;r++)t(n[i].folds[r]);return e},this.getFoldStringAt=function(t,e,n,i){if(i=i||this.getFoldLine(t),!i)return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){s=i.folds[a];var l=s.range.compareEnd(t,e);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,e-o.end.column):1==n?r.substring(e-o.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(o>=e){e>a&&(a>=t?i-=e-a:i=0);break}o>=t&&(i-=a>=t?o-a:o-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var n,i=this.$foldData,o=!1;t instanceof s?n=t:(n=new s(e,t),n.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,h=n.end.column;if(!(c>a||a==c&&h-2>=l))throw new Error("The range has to be at least 2 characters width");var u=this.getFoldAt(a,l,1),d=this.getFoldAt(c,h,-1);if(u&&d==u)return u.addSubFold(n);if(u&&!u.range.isStart(a,l)||d&&!d.range.isEnd(c,h))throw new Error("A fold can't intersect already existing fold"+n.range+u.range);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(t){n.addSubFold(t)}));for(var p=0;p<i.length;p++){var g=i[p];if(c==g.start.row){g.addFold(n),o=!0;break}if(a==g.end.row){if(g.addFold(n),o=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._emit("changeFold",{data:n,action:"add"}),n},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,s=e.folds;if(1==s.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))s.pop(),e.end.row=s[s.length-1].end.row,e.end.column=s[s.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))s.shift(),e.start.row=s[0].start.row,e.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var o=e.split(t.start.row,t.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._emit("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var n,r;if(null==t?(n=new i(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new i(t,0,t,this.getLine(t).length):"row"in t?i.fromPoints(t,t):t,r=this.getFoldsInRange(n),e)this.removeFolds(r);else for(;r.length;)this.expandFolds(r),r=this.getFoldsInRange(n)},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,i,r){null==i&&(i=t.start.row,r=0),null==e&&(e=t.end.row,n=this.getLine(e).length);var s=this.doc,o="";return t.walk(function(t,e,n,a){if(!(i>e)){if(e==i){if(r>n)return;a=Math.max(r,a)}o+=null!=t?t:s.getLine(e).substring(a,n)}},e,n),o},this.getDisplayLine=function(t,e,n,i){var r=this.getFoldLine(t);if(r)return this.getFoldDisplayLine(r,t,e,n,i);var s;return s=this.doc.getLine(t),s.substring(i||0,e||s.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var n=e.folds.map(function(t){return t.clone()});return new r(t,n)})},this.toggleFold=function(t){var e,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var s=r.start;if(e=this.getFoldAt(s.row,s.column))return void this.expandFold(e);(n=this.findMatchingBracket(s))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(s.row,s.column)||r}else{var o=this.getFoldsInRange(r);if(t&&o.length)return void this.expandFolds(o);1==o.length&&(e=o[0])}if(e||(e=this.getFoldAt(r.start.row,r.start.column)),e&&e.range.toString()==r.toString())return void this.expandFold(e);var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(t,e,n){var r=new o(this,t,e),s=r.getCurrentToken();if(s&&/^comment|string/.test(s.type)){var a=new i,l=new RegExp(s.type.replace(/\..*/,"\\."));if(1!=n){do s=r.stepBackward();while(s&&l.test(s.type));r.stepForward()}if(a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+2,r=new o(this,t,e),-1!=n){do s=r.stepForward();while(s&&l.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn()+s.value.length-2,a}},this.foldAll=function(t,e,n){void 0==n&&(n=1e5);var i=this.foldWidgets;e=e||this.getLength(),t=t||0;for(var r=t;e>r;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var s=this.getFoldWidgetRange(r),o=s.end.row;if(s&&s.isMultiLine()&&e>=o&&s.start.row>=t)try{var a=this.addFold("...",s);a.collapseChildren=n,r=o}catch(l){}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation"),!t||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;r>=0;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=t)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(t,e){var n=this.getFoldWidget(t),i=this.getLine(t);e=e.domEvent;var r=e.shiftKey,s=e.ctrlKey||e.metaKey,o=e.altKey,a="end"===n?-1:1,l=this.getFoldAt(t,-1===a?0:i.length,a);if(l)return void(r||s?this.removeFold(l):this.expandFold(l));var c=this.getFoldWidgetRange(t);if(c&&!c.isMultiLine()&&(l=this.getFoldAt(c.start.row,c.start.column,1),l&&c.isEqual(l.range)))return void this.removeFold(l);if(o){var h=this.getParentFoldRangeData(t);if(h.range)var u=h.range.start.row+1,d=h.range.end.row;this.foldAll(u,d,s?1e4:0)}else if(r){var d=c?c.end.row:this.getLength();this.foldAll(t+1,c.end.row,s?1e4:0)}else c&&(s&&(c.collapseChildren=1e4),this.addFold("...",c));c||((e.target||e.srcElement).className+=" ace_invalid")},this.updateFoldWidgets=function(t){var e=t.data,n=e.range,i=n.start.row,r=n.end.row-i;if(0===r)this.foldWidgets[i]=null;else if("removeText"==e.action||"removeLines"==e.action)this.foldWidgets.splice(i,r+1,null);else{var s=Array(r+1);s.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}}}var i=t("../range").Range,r=t("./fold_line").FoldLine,s=t("./fold").Fold,o=t("../token_iterator").TokenIterator;e.Folding=n}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e){function n(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new i(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var i=t("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,s,o=0,a=this.folds,l=!0;null==e&&(e=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(i=a[c],r=i.range.compareStart(e,n),-1==r)return void t(null,e,n,o,l);if(s=t(null,i.start.row,i.start.column,o,l),s=!s&&t(i.placeholder,i.start.row,i.start.column,o),s||0==r)return;l=!i.sameRow,o=i.end.column}t(null,e,n,o,l)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],i=n.range.compareEnd(t,e),-1==i)return{fold:n,kind:"after"};if(0==i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,s=this.getNextFoldTo(t,e);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){r=this.folds;var o=r.indexOf(i);for(0==o&&(this.start.column+=n),o;o<r.length;o++){if(i=r[o],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var i=this.getNextFoldTo(t,e).fold,r=this.folds,s=this.foldData;if(!i)return null;var o=r.indexOf(i),a=r[o-1];this.end.row=a.end.row,this.end.column=a.end.column,r=r.splice(o,r.length-o);var l=new n(s,r);return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e,n=0,i=0;i<this.folds.length;i++){var e=this.folds[i];if(t-=e.start.column-n,0>t)return{row:e.start.row,column:e.start.column+t};if(t-=e.placeholder.length,0>t)return e.start;n=e.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(n.prototype),e.FoldLine=n}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e){function n(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function i(t,e){n(t.start,e),n(t.end,e)}function r(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}function s(t,e){r(t.start,e),r(t.end,e)}var o=(t("../range").Range,t("../range_list").RangeList),a=t("../lib/oop"),l=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};a.inherits(l,o),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var t=this.range.clone(),e=new l(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);i(t,this.start);for(var e=t.start.row,n=t.start.column,r=0,s=-1;r<this.subFolds.length&&(s=this.subFolds[r].range.compare(e,n),1==s);r++);var o=this.subFolds[r];if(0==s)return o.addSubFold(t);for(var e=t.range.end.row,n=t.range.end.column,a=r,s=-1;a<this.subFolds.length&&(s=this.subFolds[a].range.compare(e,n),1==s);a++);{this.subFolds[a]}if(0==s)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);{this.subFolds.splice(r,a-r,t)}return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return s(t,this.start)}}.call(l.prototype)}),define("ace/range_list",["require","exports","module","ace/range"],function(t,e){var n=t("./range").Range,i=n.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(t,e,n){for(var r=this.ranges,s=n||0;s<r.length;s++){var o=r[s],a=i(t,o.end);if(!(a>0)){var l=i(t,o.start);return 0===a?e&&0!==l?-s-2:s:l>0||0===l&&!e?s:-s-1}}return-s-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);0>n&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return 0>i?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.call(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges.splice(e,1):void 0},this.merge=function(){var t=[],e=this.ranges;e=e.sort(function(t,e){return i(t.start,e.start)});for(var n,r=e[0],s=1;s<e.length;s++){n=r,r=e[s];var o=i(n.end,r.start);0>o||(0!=o||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),e.splice(s,1),t.push(r),r=n,s--)}return this.ranges=e,t},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges[e]:void 0},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});0>i&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);0>r&&(r=-r-1);for(var s=[],o=i;r>o;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){var e=t.data.range;if("i"==t.data.action[0])var n=e.start,i=e.end;else var i=e.start,n=e.end;for(var r=n.row,s=i.row,o=s-r,a=-n.column+i.column,l=this.ranges,c=0,h=l.length;h>c;c++){var u=l[c];if(!(u.end.row<r)){if(u.start.row>r)break;if(u.start.row==r&&u.start.column>=n.column&&(u.start.column==n.column&&this.$insertRight||(u.start.column+=a,u.start.row+=o)),u.end.row==r&&u.end.column>=n.column){if(u.end.column==n.column&&this.$insertRight)continue;u.end.column==n.column&&a>0&&h-1>c&&u.end.column>u.start.column&&u.end.column==l[c+1].start.column&&(u.end.column-=a),u.end.column+=a,u.end.row+=o}}}if(0!=o&&h>c)for(;h>c;c++){var u=l[c];u.start.row+=o,u.end.row+=o}}}).call(r.prototype),e.RangeList=r}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e){function n(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,s=n.charAt(t.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(t.column),t={row:t.row,column:t.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){var a=this.$findClosingBracket(o[1],t);if(!a)return null;e=r.fromPoints(t,a),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a=this.$findOpeningBracket(o[2],t);if(!a)return null;e=r.fromPoints(a,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var r=this.$brackets[t],s=1,o=new i(this,e.row,e.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren")+")+"));for(var l=e.column-o.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var h=c.charAt(l);if(h==r){if(s-=1,0==s)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else h==t&&(s+=1);l-=1}do a=o.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(t,e,n){var r=this.$brackets[t],s=1,o=new i(this,e.row,e.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren")+")+"));for(var l=e.column-o.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;h>l;){var u=c.charAt(l);if(u==r){if(s-=1,0==s)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==t&&(s+=1);l+=1}do a=o.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=t("../token_iterator").TokenIterator,r=t("../range").Range;e.BracketMatch=n}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e){var n=t("./lib/lang"),i=t("./lib/oop"),r=t("./range").Range,s=function(){this.$options={}};(function(){this.set=function(t){return i.mixin(this.$options,t),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$matchIterator(t,this.$options);if(!e)return!1;var n=null;return e.forEach(function(t,e,i){if(t.start)n=t;else{var s=t.offset+(i||0);n=new r(e,s,e,s+t.length)}return!0}),n},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var i=e.range,s=i?t.getLines(i.start.row,i.end.row):t.doc.getAllLines(),o=[],a=e.re;if(e.$isMultiLine)for(var l=a.length,c=s.length-l,h=a.offset||0;c>=h;h++){for(var u=0;l>u&&-1!=s[h+u].search(a[u]);u++);var d=s[h],f=s[h+l-1],p=d.match(a[0])[0].length,g=f.match(a[l-1])[0].length;o.push(new r(h,d.length-p,h+l-1,g))}else for(var m=0;m<s.length;m++)for(var v=n.getMatchOffsets(s[m],a),u=0;u<v.length;u++){var y=v[u];o.push(new r(m,y.offset,m,y.offset+y.length))}if(i){for(var w=i.start.column,b=i.start.column,m=0,u=o.length-1;u>m&&o[m].start.column<w&&o[m].start.row==i.start.row;)m++;
for(;u>m&&o[u].end.column>b&&o[u].end.row==i.end.row;)u--;for(o=o.slice(m,u+1),m=0,u=o.length;u>m;m++)o[m].start.row+=i.start.row,o[m].end.row+=i.start.row}return o},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var s=Math.min(t.length,t.length);s--;){var o=t[s];e[s]=o&&o.toLowerCase()!=o?e[s].toUpperCase():e[s].toLowerCase()}e=e.join("")}return e}},this.$matchIterator=function(t,e){var i=this.$assembleRegExp(e);if(!i)return!1;var s,o=this,a=e.backwards;if(e.$isMultiLine)var l=i.length,c=function(e,n,o){var a=e.search(i[0]);if(-1!=a){for(var c=1;l>c;c++)if(e=t.getLine(n+c),-1==e.search(i[c]))return;var h=e.match(i[l-1])[0].length,u=new r(n,a,n+l-1,h);return 1==i.offset?(u.start.row--,u.start.column=Number.MAX_VALUE):o&&(u.start.column+=o),s(u)?!0:void 0}};else if(a)var c=function(t,e,r){for(var o=n.getMatchOffsets(t,i),a=o.length-1;a>=0;a--)if(s(o[a],e,r))return!0};else var c=function(t,e,r){for(var o=n.getMatchOffsets(t,i),a=0;a<o.length;a++)if(s(o[a],e,r))return!0};return{forEach:function(n){s=n,o.$lineIterator(t,e).forEach(c)}}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var i=t.needle;if(!t.needle)return t.re=!1;t.regExp||(i=n.escapeRegExp(i)),t.wholeWord&&(i="\\b"+i+"\\b");var r=t.caseSensitive?"g":"gi";if(t.$isMultiLine=!e&&/[\n\r]/.test(i),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(i,r);try{var s=new RegExp(i,r)}catch(o){s=!1}return t.re=s},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(s){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(t,e){var n=1==e.backwards,i=0!=e.skipCurrent,r=e.range,s=e.start;s||(s=r?r[n?"end":"start"]:t.selection.getRange()),s.start&&(s=s[i!=n?"end":"start"]);var o=r?r.start.row:0,a=r?r.end.row:t.getLength()-1,l=n?function(n){var i=s.row,r=t.getLine(i).substring(0,s.column);if(!n(r,i)){for(i--;i>=o;i--)if(n(t.getLine(i),i))return;if(0!=e.wrap)for(i=a,o=s.row;i>=o;i--)if(n(t.getLine(i),i))return}}:function(n){var i=s.row,r=t.getLine(i).substr(s.column);if(!n(r,i,s.column)){for(i+=1;a>=i;i++)if(n(t.getLine(i),i))return;if(0!=e.wrap)for(i=o,a=s.row;a>=i;i++)if(n(t.getLine(i),i))return}};return{forEach:l}}}).call(s.prototype),e.Search=s}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e){var n=t("../lib/oop"),i=t("../keyboard/hash_handler").HashHandler,r=t("../lib/event_emitter").EventEmitter,s=function(t,e){i.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};n.inherits(s,i),function(){n.implement(this,r),this.exec=function(t,e,n){if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;var i={editor:e,command:t,args:n},r=this._emit("exec",i);return this._signal("afterExec",i),r===!1?!1:!0},this.toggleRecording=function(t){return this.$inReplay?void 0:(t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(s.prototype),e.CommandManager=s}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e){function n(t,e){if(this.platform=e||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.__defineGetter__&&this.__defineSetter__&&"undefined"!=typeof console&&console.error){var n=!1,i=function(){n||(n=!0,console.error("commmandKeyBinding has too many m's. use commandKeyBinding"))};this.__defineGetter__("commmandKeyBinding",function(){return i(),this.commandKeyBinding}),this.__defineSetter__("commmandKeyBinding",function(t){return i(),this.commandKeyBinding=t})}else this.commmandKeyBinding=this.commandKeyBinding;this.addCommands(t)}var i=t("../lib/keys"),r=t("../lib/useragent");(function(){this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t){var e="string"==typeof t?t:t.name;t=this.commands[e],delete this.commands[e];var n=this.commandKeyBinding;for(var i in n)for(var r in n[i])n[i][r]==t&&delete n[i][r]},this.bindKey=function(t,e){if(t){if("function"==typeof e)return void this.addCommand({exec:e,bindKey:t,name:e.name||t});var n=this.commandKeyBinding;t.split("|").forEach(function(t){var i=this.parseKeys(t,e),r=i.hashId;(n[r]||(n[r]={}))[i.key]=e},this)}},this.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var n=t[e];if(n){if("string"==typeof n)return this.bindKey(n,e);"function"==typeof n&&(n={exec:n}),n.name||(n.name=e),this.addCommand(n)}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(t){var e=t.bindKey;if(e){var n="string"==typeof e?e:e[this.platform];this.bindKey(n,t)}},this.parseKeys=function(t){-1!=t.indexOf(" ")&&(t=t.split(/\s+/).pop());var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),n=e.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var s=0,o=e.length;o--;){var a=i.KEY_MODS[e[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[o]+" in "+t),!1;s|=a}return{key:n,hashId:s}},this.findKeyCommand=function(t,e){var n=this.commandKeyBinding;return n[t]&&n[t][e]},this.handleKeyboard=function(t,e,n){return{command:this.findKeyCommand(e,n)}}}).call(n.prototype),e.HashHandler=n}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config"],function(t,e){function n(t,e){return{win:t,mac:e}}var i=t("../lib/lang"),r=t("../config");e.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},readOnly:!0},{name:"foldall",bindKey:n("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll()},readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(t){t.findNext()},readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P",null),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()}},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()}},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()}},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()}},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(t){return t.selection.isEmpty()?void t.remove("left"):!1},multiSelectAction:"forEach"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach"},{name:"inserttext",exec:function(t,e){t.insert(i.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)}},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach"}]}),define("ace/undomanager",["require","exports","module"],function(t,e){var n=function(){this.reset()};(function(){this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=0/0),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),n=null;return e&&(n=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),n},this.redo=function(t){var e=this.$redoStack.pop(),n=null;return e&&(n=this.$doc.redoChanges(e,t),this.$undoStack.push(e),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(n.prototype),e.UndoManager=n}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/useragent","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/lib/event_emitter"],function(t,e){var n=t("./lib/oop"),i=t("./lib/dom"),r=(t("./lib/useragent"),t("./config")),s=t("./layer/gutter").Gutter,o=t("./layer/marker").Marker,a=t("./layer/text").Text,l=t("./layer/cursor").Cursor,c=t("./scrollbar").ScrollBarH,h=t("./scrollbar").ScrollBarV,u=t("./renderloop").RenderLoop,d=t("./lib/event_emitter").EventEmitter,f=".ace_editor {position: relative;overflow: hidden;font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;font-size: 12px;line-height: normal;color: black;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: text;}.ace_dragging, .ace_dragging * {cursor: move !important;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");}.ace_scrollbar {position: absolute;overflow-x: hidden;overflow-y: auto;right: 0;top: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-h {position: absolute;overflow-x: auto;overflow-y: hidden;right: 0;left: 0;bottom: 0;z-index: 6;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;}.ace_text-input.ace_composition {background: #f8f8f8;color: #111;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: nowrap;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;/* setting pointer-events: auto; on node under the mouse, which changesduring scroll, will break mouse wheel scrolling in Safari */pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0px;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-moz-transition: opacity 0.18s;-webkit-transition: opacity 0.18s;-o-transition: opacity 0.18s;-ms-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_cursor[style*=\"opacity: 0\"]{-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_line {white-space: nowrap;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;}.ace_gutter-tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;display: inline-block;max-width: 500px;padding: 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre-line;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}/*** Dark version for fold widgets*/.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-moz-transition: opacity 0.4s ease 0.05s;-webkit-transition: opacity 0.4s ease 0.05s;-o-transition: opacity 0.4s ease 0.05s;-ms-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-moz-transition: opacity 0.05s ease 0.05s;-webkit-transition: opacity 0.05s ease 0.05s;-o-transition: opacity 0.05s ease 0.05s;-ms-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}";
i.importCssString(f,"ace_editor");var p=function(t,e){var n=this;this.container=t||i.createElement("div"),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var d=this.$textLayer=new a(this.content);this.canvas=d.element,this.$markerFront=new o(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){n.updateCharacterSize(),n.onResize(!0),n._signal("changeCharacterSize")}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new u(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session=t,this.scroller.className="ace_scroller",this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(t,e){void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.firstRow>this.layerConfig.lastRow||this.$changedLines.lastRow<this.layerConfig.firstRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.onResize=function(t,e,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(t,e,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(s,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0)}},this.$updateCachedSize=function(t,e,n,i){var r=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};return i&&(t||s.height!=i)&&(s.height=i,r=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&(this.session.setScrollTop(this.getScrollTop()),r|=this.CHANGE_SCROLL)),n&&(t||s.width!=n)&&(r=this.CHANGE_SIZE,s.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",s.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(r|=this.CHANGE_FULL)),r&&this._signal("resize",o),r},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),e*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=i.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;e-=t.offset;var i=this.lineHeight;if(!(0>e||e>t.height-i)){var r=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");r*=this.session.$getStringScreenWidth(s)[0]+2,i+=2,e-=1}n-=this.scrollLeft,n>this.$size.scrollerWidth-r&&(n=this.$size.scrollerWidth-r),n-=this.scrollBar.width,this.textarea.style.height=i+"px",this.textarea.style.width=r+"px",this.textarea.style.right=Math.max(0,this.$size.scrollerWidth-n-r)+"px",this.textarea.style.bottom=Math.max(0,this.$size.height-e-i)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){this.scrollBarV.setInnerHeight(this.layerConfig.maxHeight+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setInnerWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$renderChanges=function(t,e){return this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&(t||e)?this.$size.width?(this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL)&&(t|=this.$computeLayerConfig()),t&this.CHANGE_H_SCROLL&&(this.$updateScrollBarH(),this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$updateScrollBarV(),this.$updateScrollBarH(),this.$textLayer.update(this.layerConfig),this.$showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):t&this.CHANGE_SCROLL?(this.$updateScrollBarV(),t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.$showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(t&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.$showGutter&&this.$gutterLayer.update(this.layerConfig)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(this.layerConfig):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(this.layerConfig),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),(t&this.CHANGE_SIZE||t&this.CHANGE_LINES)&&(this.$updateScrollBarV(),this.$updateScrollBarH()),void this._signal("afterRender"))):(this.$changes|=t,this.onResize(!0)):void(this.$changes|=t)},this.$autosize=function(t){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(e,t)),i=t>e;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var t=this.session,e=this.$size.height<=2*this.lineHeight,n=this.session.getScreenLength(),i=n*this.lineHeight,r=this.scrollTop%this.lineHeight,s=this.$size.scrollerHeight+this.lineHeight,o=this.$getLongestLine(),a=!e&&(this.$hScrollBarAlwaysVisible||this.$size.scrollerWidth-o-2*this.$padding<0),l=this.$horizScroll!==a;l&&(this.$horizScroll=a,this.scrollBarH.setVisible(a)),!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>i-this.$size.scrollerHeight&&(i+=Math.min((this.$size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd,this.scrollTop-i+this.$size.scrollerHeight));var c=!e&&(this.$vScrollBarAlwaysVisible||this.$size.scrollerHeight-i<0),h=this.$vScroll!==c;h&&(this.$vScroll=c,this.scrollBarV.setVisible(c)),this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,i-this.$size.scrollerHeight+this.scrollMargin.v))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,o+2*this.$padding-this.$size.scrollerWidth+this.scrollMargin.h)));var u,d,f=Math.ceil(s/this.lineHeight)-1,p=Math.max(0,Math.round((this.scrollTop-r)/this.lineHeight)),g=p+f,m=this.lineHeight;p=t.screenToDocumentRow(p,0);var v=t.getFoldLine(p);v&&(p=v.start.row),u=t.documentToScreenRow(p,0),d=t.getRowLength(p)*m,g=Math.min(t.screenToDocumentRow(g,0),t.getLength()-1),s=this.$size.scrollerHeight+t.getRowLength(g)*m+d,r=this.scrollTop-u*m;var y=0;return(l||h)&&(y=this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this._signal("scrollbarVisibilityChanged"),h&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:p,firstRowScreen:u,lastRow:g,lineHeight:m,characterWidth:this.characterWidth,minHeight:s,maxHeight:i,offset:r,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-r+"px",this.content.style.marginTop=-r+"px",this.content.style.width=o+2*this.$padding+"px",this.content.style.height=s+"px",y},this.$updateLines=function(){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return t>n.lastRow+1||e<n.firstRow?void 0:1/0===e?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(t),i=n.left,r=n.top,s=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;s>r?(e&&(r-=e*this.$size.scrollerHeight),0==r?r=-this.scrollMargin.top:0==r&&(r=+this.scrollMargin.bottom),this.session.setScrollTop(r)):s+this.$size.scrollerHeight<r+this.lineHeight&&(e&&(r+=e*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight-this.$size.scrollerHeight));var o=this.scrollLeft;o>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):o+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):o<=this.$padding&&i-o<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n=0,i=this.STEPS,r=[],s=function(t,e,n){return n*(Math.pow(t-1,3)+1)+e};for(n=0;i>n;++n)r.push(s(n/this.STEPS,t,e-t));return r},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}),s=r.top;e&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0],t==n))return}var s=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),this.$timer=setInterval(function(){s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return 0>e&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight-(this.$size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd<-1+this.scrollMargin.bottom?!0:0>t&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=(t+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),s=Math.round(i);return{row:r,column:s,side:i-s>0?1:-1}},this.screenToTextCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=Math.round((t+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=Math.floor((e+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+Math.round(i.column*this.characterWidth),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(t,e){function n(n){if(s.$themeValue!=t)return e&&e();if(n.cssClass){i.importCssString(n.cssText,n.cssClass,s.container.ownerDocument),s.theme&&i.removeCssClass(s.container,s.theme.cssClass),s.$theme=n.cssClass,s.theme=n,i.addCssClass(s.container,n.cssClass),i.setCssClass(s.container,"ace_dark",n.isDark);var r="padding"in n?n.padding:4;s.$padding&&r!=s.$padding&&s.setPadding(r),s.$size&&(s.$size.width=0,s.onResize()),s._dispatchEvent("themeLoaded",{theme:n}),e&&e()}}var s=this;if(this.$themeValue=t,s._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)n(t);else{var o=t||"ace/theme/textmate";r.loadModule(["theme",o],n)}},this.getTheme=function(){return this.$themeValue},this.setStyle=function(t,e){i.setCssClass(this.container,t,0!=e)},this.unsetStyle=function(t){i.removeCssClass(this.container,t)},this.setMouseCursor=function(t){this.content.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(p.prototype),r.defineOptions(p.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=t?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}}}),e.VirtualRenderer=p}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(t,e){var n=t("../lib/dom"),i=t("../lib/oop"),r=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,o=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,s),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e,n,i=0;i<t.length;i++){var s=t[i],n=s.row,e=this.$annotations[n];e||(e=this.$annotations[n]={text:[]});var o=s.text;o=o?r.escapeHTML(o):s.html||"",-1===e.text.indexOf(o)&&e.text.push(o);var a=s.type;"error"==a?e.className=" ace_error":"warning"==a&&" ace_error"!=e.className?e.className=" ace_warning":"info"!=a||e.className||(e.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.data,n=e.range,i=n.start.row,r=n.end.row-i;if(0===r);else if("removeText"==e.action||"removeLines"==e.action)this.$annotations.splice(i,r+1,null);else{var s=Array(r+1);s.unshift(i,1),this.$annotations.splice.apply(this.$annotations,s)}}},this.update=function(t){for(var e=t.firstRow,i=t.lastRow,r=this.session.getNextFoldLine(e),s=r?r.start.row:1/0,o=this.$showFoldWidgets&&this.session.foldWidgets,a=this.session.$breakpoints,l=this.session.$decorations,c=this.session.$firstLineNumber,h=0,u=null,d=-1,f=e;;){if(f>s&&(f=r.end.row+1,r=this.session.getNextFoldLine(f,r),s=r?r.start.row:1/0),f>i){for(;this.$cells.length>d+1;)u=this.$cells.pop(),this.element.removeChild(u.element);break}u=this.$cells[++d],u||(u={element:null,textNode:null,foldWidget:null},u.element=n.createElement("div"),u.textNode=document.createTextNode(""),u.element.appendChild(u.textNode),this.element.appendChild(u.element),this.$cells[d]=u);var p="ace_gutter-cell ";a[f]&&(p+=a[f]),l[f]&&(p+=l[f]),this.$annotations[f]&&(p+=this.$annotations[f].className),u.element.className!=p&&(u.element.className=p);var g=this.session.getRowLength(f)*t.lineHeight+"px";g!=u.element.style.height&&(u.element.style.height=g);var m=h=f+c;if(m!=u.textNode.data&&(u.textNode.data=m),o){var v=o[f];null==v&&(v=o[f]=this.session.getFoldWidget(f))}if(v){u.foldWidget||(u.foldWidget=n.createElement("span"),u.element.appendChild(u.foldWidget));var p="ace_fold-widget ace_"+v;p+="start"==v&&f==s&&f<r.end.row?" ace_closed":" ace_open",u.foldWidget.className!=p&&(u.foldWidget.className=p);var g=t.lineHeight+"px";u.foldWidget.style.height!=g&&(u.foldWidget.style.height=g)}else null!=u.foldWidget&&(u.element.removeChild(u.foldWidget),u.foldWidget=null);f++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||this.session.$useWrapMode)&&(h=this.session.getLength());var y=h.toString().length*t.characterWidth,w=this.$padding||this.$computePadding();y+=w.left+w.right,y===this.gutterWidth||isNaN(y)||(this.gutterWidth=y,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",y))},this.$fixedWidth=!1,this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(o.prototype),e.Gutter=o}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e){var n=t("../range").Range,i=t("../lib/dom"),r=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){var t=t||this.config;if(t){this.config=t;var e=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var s=r.range.clipRows(t.firstRow,t.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),r.renderer){var o=this.$getTop(s.start.row,t),a=this.$padding+s.start.column*t.characterWidth;r.renderer(e,s,a,o,t)}else"fullLine"==r.type?this.drawFullLineMarker(e,s,r.clazz,t):"screenLine"==r.type?this.drawScreenLineMarker(e,s,r.clazz,t):s.isMultiLine()?"text"==r.type?this.drawTextMarker(e,s,r.clazz,t):this.drawMultiLineMarker(e,s,r.clazz,t):this.drawSingleLineMarker(e,s,r.clazz+" ace_start",t)}else r.update(e,this,this.session,t)}this.element=i.setInnerHtml(this.element,e.join(""))}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(t,e,i,r,s){var o=e.start.row,a=new n(o,e.start.column,o,this.session.getScreenLastRowColumn(o));for(this.drawSingleLineMarker(t,a,i+" ace_start",r,1,s),o=e.end.row,a=new n(o,0,o,e.end.column),this.drawSingleLineMarker(t,a,i,r,0,s),o=e.start.row+1;o<e.end.row;o++)a.start.row=o,a.end.row=o,a.end.column=this.session.getScreenLastRowColumn(o),this.drawSingleLineMarker(t,a,i,r,1,s)},this.drawMultiLineMarker=function(t,e,n,i,r){var s=this.$padding,o=i.lineHeight,a=this.$getTop(e.start.row,i),l=s+e.start.column*i.characterWidth;r=r||"",t.push("<div class='",n," ace_start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(e.end.row,i);var c=e.end.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",o,"px;","width:",c,"px;","top:",a,"px;","left:",s,"px;",r,"'></div>"),o=(e.end.row-e.start.row-1)*i.lineHeight,0>o||(a=this.$getTop(e.start.row+1,i),t.push("<div class='",n,"' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",s,"px;",r,"'></div>"))},this.drawSingleLineMarker=function(t,e,n,i,r,s){var o=i.lineHeight,a=(e.end.column+(r||0)-e.start.column)*i.characterWidth,l=this.$getTop(e.start.row,i),c=this.$padding+e.start.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",o,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",s||"","'></div>")},this.drawFullLineMarker=function(t,e,n,i,r){var s=this.$getTop(e.start.row,i),o=i.lineHeight;e.start.row!=e.end.row&&(o+=this.$getTop(e.end.row,i)-s),t.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(t,e,n,i,r){var s=this.$getTop(e.start.row,i),o=i.lineHeight;t.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")}}).call(r.prototype),e.Marker=r}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e){var n=t("../lib/oop"),i=t("../lib/dom"),r=t("../lib/lang"),s=t("../lib/useragent"),o=t("../lib/event_emitter").EventEmitter,a=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$characterSize={width:0,height:0},this.checkForSizeChanges(),this.$pollSizeChanges()
};(function(){n.implement(this,o),this.EOF_CHAR="\xb6",this.EOL_CHAR="\xac",this.TAB_CHAR="\u2192",this.SPACE_CHAR="\xb7",this.$padding=0,this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$characterSize.height||0},this.getCharacterWidth=function(){return this.$characterSize.width||0},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){var t=this;this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=s.isIE||s.isOldGecko?function(){var t=1e3;if(!this.$measureNode){var e=this.$measureNode=i.createElement("div"),n=e.style;if(n.width=n.height="auto",n.left=n.top=40*-t+"px",n.visibility="hidden",n.position="fixed",n.overflow="visible",n.whiteSpace="nowrap",e.innerHTML=r.stringRepeat("Xy",t),this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(e);else{for(var s=this.element.parentNode;!i.hasCssClass(s,"ace_editor");)s=s.parentNode;s.appendChild(e)}}if(!this.element.offsetWidth)return null;var n=this.$measureNode.style,o=i.computedStyle(this.element);for(var a in this.$fontStyles)n[a]=o[a];var l={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(2*t)};return 0==l.width||0==l.height?null:l}:function(){if(!this.$measureNode){var t=this.$measureNode=i.createElement("div"),e=t.style;e.width=e.height="auto",e.left=e.top="-100px",e.visibility="hidden",e.position="fixed",e.overflow="visible",e.whiteSpace="nowrap",t.innerHTML=r.stringRepeat("X",100);for(var n=this.element.parentNode;n&&!i.hasCssClass(n,"ace_editor");)n=n.parentNode;if(!n)return this.$measureNode=null;n.appendChild(t)}var s=this.$measureNode.getBoundingClientRect(),o={height:s.height,width:s.width/100};return 0==o.width||0==o.height?null:o},this.setSession=function(t){this.session=t,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles==t?!1:(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides==t?!1:(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;t+1>n;n++)e.push(this.showInvisibles?"<span class='ace_invisible'>"+this.TAB_CHAR+r.stringRepeat("\xa0",n-1)+"</span>":r.stringRepeat("\xa0",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide";if(this.showInvisibles){i+=" ace_invisible";var s=r.stringRepeat(this.SPACE_CHAR,this.tabSize),o=this.TAB_CHAR+r.stringRepeat("\xa0",this.tabSize-1)}else var s=r.stringRepeat("\xa0",this.tabSize),o=s;this.$tabStrings[" "]="<span class='"+i+"'>"+s+"</span>",this.$tabStrings["	"]="<span class='"+i+"'>"+o+"</span>"}},this.updateLines=function(t,e,n){(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)&&this.scrollLines(t),this.config=t;for(var r=Math.max(e,t.firstRow),s=Math.min(n,t.lastRow),o=this.element.childNodes,a=0,l=t.firstRow;r>l;l++){var c=this.session.getFoldLine(l);if(c){if(c.containsRow(r)){r=c.start.row;break}l=c.end.row}a++}for(var l=r,c=this.session.getNextFoldLine(l),h=c?c.start.row:1/0;;){if(l>h&&(l=c.end.row+1,c=this.session.getNextFoldLine(l,c),h=c?c.start.row:1/0),l>s)break;var u=o[a++];if(u){var d=[];this.$renderLine(d,l,!this.$useLineGroups(),l==h?c:!1),i.setInnerHtml(u,d.join(""))}l++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var n=this.element;if(e.firstRow<t.firstRow)for(var i=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(e.lastRow>t.lastRow)for(var i=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);i>0;i--)n.removeChild(n.lastChild);if(t.firstRow<e.firstRow){var r=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(t.lastRow>e.lastRow){var r=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(t,e,n){for(var r=this.element.ownerDocument.createDocumentFragment(),s=e,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;;){if(s>a&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),a=o?o.start.row:1/0),s>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,s,!1,s==a?o:!1),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l);else for(var h=l.childNodes;h.length;)r.appendChild(h[0]);s++}return r},this.update=function(t){this.config=t;for(var e=[],n=t.firstRow,r=t.lastRow,s=n,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;;){if(s>a&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),a=o?o.start.row:1/0),s>r)break;this.$useLineGroups()&&e.push("<div class='ace_line_group'>"),this.$renderLine(e,s,!1,s==a?o:!1),this.$useLineGroups()&&e.push("</div>"),s++}this.element=i.setInnerHtml(this.element,e.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,n,i){var s=this,o=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(t,n,i,o){if(n)return s.showInvisibles?"<span class='ace_invisible'>"+r.stringRepeat(s.SPACE_CHAR,t.length)+"</span>":r.stringRepeat("\xa0",t.length);if("&"==t)return"&#38;";if("<"==t)return"&#60;";if("	"==t){var a=s.session.getScreenTabSize(e+o);return e+=a-1,s.$tabStrings[a]}if("\u3000"==t){var l=s.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",c=s.showInvisibles?s.SPACE_CHAR:"";return e+=1,"<span class='"+l+"' style='width:"+2*s.config.characterWidth+"px'>"+c+"</span>"}return i?"<span class='ace_invisible ace_invalid'>"+s.SPACE_CHAR+"</span>":(e+=1,"<span class='ace_cjk' style='width:"+2*s.config.characterWidth+"px'>"+t+"</span>")},l=i.replace(o,a);if(this.$textToken[n.type])t.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),h="";"fold"==n.type&&(h=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",c,"'",h,">",l,"</span>")}return e+i.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);return 0>=i||i>=n?e:" "==e[0]?(i-=i%this.tabSize,t.push(r.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),e.substr(i)):"	"==e[0]?(t.push(r.stringRepeat(this.$tabStrings["	"],i)),e.substr(i)):e},this.$renderWrappedLine=function(t,e,n,i){for(var r=0,s=0,o=n[0],a=0,l=0;l<e.length;l++){var c=e[l],h=c.value;if(0==l&&this.displayIndentGuides){if(r=h.length,h=this.renderIndentGuide(t,h,o),!h)continue;r-=h.length}if(r+h.length<o)a=this.$renderToken(t,a,c,h),r+=h.length;else{for(;r+h.length>=o;)a=this.$renderToken(t,a,c,h.substring(0,o-r)),h=h.substring(o-r),r=o,i||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),s++,a=0,o=n[s]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(t,a,c,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var s=1;s<e.length;s++)i=e[s],r=i.value,n=this.$renderToken(t,n,i,r)},this.$renderLine=function(t,e,n,i){if(i||0==i||(i=this.session.getFoldLine(e)),i)var r=this.$getFoldLineTokens(e,i);else var r=this.session.getTokens(e);if(n||t.push("<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),r.length){var s=this.session.getRowSplitData(e);s&&s.length?this.$renderWrappedLine(t,r,s,n):this.$renderSimpleLine(t,r)}this.showInvisibles&&(i&&(e=i.end.row),t.push("<span class='ace_invisible'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||t.push("</div>")},this.$getFoldLineTokens=function(t,e){function n(t,e,n){for(var i=0,s=0;s+t[i].value.length<e;)if(s+=t[i].value.length,i++,i==t.length)return;if(s!=e){var o=t[i].value.substring(e-s);o.length>n-e&&(o=o.substring(0,n-e)),r.push({type:t[i].type,value:o}),s=e+o.length,i+=1}for(;n>s&&i<t.length;){var o=t[i].value;r.push(o.length+s>n?{type:t[i].type,value:o.substring(0,n-s)}:t[i]),s+=o.length,i+=1}}var i=this.session,r=[],s=i.getTokens(t);return e.walk(function(t,e,o,a,l){null!=t?r.push({type:"fold",value:t}):(l&&(s=i.getTokens(e)),s.length&&n(s,a,o))},e.end.row,this.session.getLine(e.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),e.Text=a}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e){var n=t("../lib/dom"),i=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors")};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,t?n.addCssClass(this.element,"ace_smooth-blinking"):n.removeCssClass(this.element,"ace_smooth-blinking"),this.restartTimer())},this.addCursor=function(){var t=n.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&n.removeCssClass(this.element,"ace_smooth-blinking");for(var t=this.cursors.length;t--;)this.cursors[t].style.opacity="";if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){for(var t=this.cursors.length;t--;)this.cursors[t].style.opacity=0}.bind(this),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){for(var t=this.cursors.length;t--;)this.cursors[t].style.opacity="";e()}.bind(this),this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t),i=this.$padding+n.column*this.config.characterWidth,r=(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,n=0,i=0;(void 0===e||0===e.length)&&(e=[{cursor:null}]);for(var n=0,r=e.length;r>n;n++){var s=this.getPixelPosition(e[n].cursor,!0);if(!((s.top>t.height+t.offset||s.top<-t.offset)&&n>1)){var o=(this.cursors[i++]||this.addCursor()).style;o.left=s.left+"px",o.top=s.top+"px",o.width=t.characterWidth+"px",o.height=t.lineHeight+"px"}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=s,this.restartTimer()},this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),e.Cursor=i}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e){var n=t("./lib/oop"),i=t("./lib/dom"),r=t("./lib/event"),s=t("./lib/event_emitter").EventEmitter,o=function(t,e){this.element=i.createElement("div"),this.element.className="ace_scrollbar",this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),e.$scrollbarWidth=this.width=i.scrollbarWidth(t.ownerDocument),e.$scrollbarWidth=this.width=i.scrollbarWidth(t.ownerDocument),this.fullWidth=this.width,this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.setVisible(!1),this.element.style.overflowY="scroll",r.addListener(this.element,"scroll",this.onScrollV.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)},a=function(t,e){this.element=i.createElement("div"),this.element.className="ace_scrollbar-h",this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.height=e.$scrollbarWidth,this.fullHeight=this.height,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px",this.setVisible(!1),this.element.style.overflowX="scroll",r.addListener(this.element,"scroll",this.onScrollH.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,s),this.setVisible=function(t){t?(this.element.style.display="",this.fullWidth&&(this.width=this.fullWidth),this.fullHeight&&(this.height=this.fullHeight)):(this.element.style.display="none",this.height=this.width=0)},this.onScrollV=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.onScrollH=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getWidth=function(){return this.width},this.getHeight=function(){return this.height},this.setHeight=function(t){this.element.style.height=t+"px"},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerHeight=function(t){this.inner.style.height=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=t)},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}).call(o.prototype),a.prototype=o.prototype,e.ScrollBar=o,e.ScrollBarV=o,e.ScrollBarH=a}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e){var n=t("./lib/event"),i=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending){this.pending=!0;var e=this;n.nextFrame(function(){e.pending=!1;for(var t;t=e.changes;)e.changes=0,e.onRender(t)},this.window)}}}).call(i.prototype),e.RenderLoop=i}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e){function n(t,e,n){return p.$options.wrap=!0,p.$options.needle=e,p.$options.backwards=-1==n,p.find(t)}function i(t,e){return t.row==e.row&&t.column==e.column}function r(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",c),t.commands.addCommands(d.defaultCommands),s(t))}function s(t){function e(){i&&(t.renderer.setMouseCursor(""),i=!1)}var n=t.textInput.getElement(),i=!1;h.addListener(n,"keydown",function(n){18!=n.keyCode||n.ctrlKey||n.shiftKey||n.metaKey?i&&e():i||(t.renderer.setMouseCursor("crosshair"),i=!0)}),h.addListener(n,"keyup",e),h.addListener(n,"blur",e)}var o=t("./range_list").RangeList,a=t("./range").Range,l=t("./selection").Selection,c=t("./mouse/multi_select_handler").onMouseDown,h=t("./lib/event"),u=t("./lib/lang"),d=t("./commands/multi_select_commands");e.commands=d.defaultCommands.concat(d.multiSelectCommands);var f=t("./search").Search,p=new f,g=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0==this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);return e?(this.$onRemoveRange(e),e[0]):void 0},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._emit("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._emit("removeRange",{ranges:t}),0==this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),e=e||this.ranges[0],e&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=a.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,s=n.end.row;if(r==s){if(i)var o=n.end,l=n.start;else var o=n.start,l=n.end;return this.addRange(a.fromPoints(l,l)),void this.addRange(a.fromPoints(o,o))}var c=[],h=this.getLineRange(r,!0);h.start.column=n.start.column,c.push(h);for(var u=r+1;s>u;u++)c.push(this.getLineRange(u,!0));h=this.getLineRange(s,!0),h.end.column=n.end.column,c.push(h),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=a.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),s=this.rectangularRangeBlock(i,r);s.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var r=[],s=t.column<e.column;if(s)var o=t.column,l=e.column;else var o=e.column,l=t.column;var c=t.row<e.row;if(c)var h=t.row,u=e.row;else var h=e.row,u=t.row;0>o&&(o=0),0>h&&(h=0),h==u&&(n=!0);for(var d=h;u>=d;d++){var f=a.fromPoints(this.session.screenToDocumentPosition(d,o),this.session.screenToDocumentPosition(d,l));if(f.isEmpty()){if(p&&i(f.end,p))break;var p=f.end}f.cursor=s?f.start:f.end,r.push(f)}if(c&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(l.prototype);var m=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=this.session,s=this.selection,o=s.rangeList,a=s._eventRegistry;s._eventRegistry={};var c=new l(r);this.inVirtualSelectionMode=!0;for(var h=o.ranges.length;h--;){if(n)for(;h>0&&o.ranges[h].start.row==o.ranges[h-1].end.row;)h--;c.fromOrientedRange(o.ranges[h]),this.selection=r.selection=c;var u=t.exec(this,e||{});void 0==!i&&(i=u),c.toOrientedRange(o.ranges[h])}c.detach(),this.selection=r.selection=s,this.inVirtualSelectionMode=!1,s._eventRegistry=a,s.mergeOverlappingRanges();var d=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),d&&d.from==d.to&&this.renderer.animateScrolling(d.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();t=n.join(r),t.length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.onPaste=function(t){if(!this.$readOnly){if(this._signal("paste",t),!this.inMultiSelectMode||this.inVirtualSelectionMode)return this.insert(t);var e=t.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(e.length>n.length||e.length<2||!e[1])return this.commands.exec("insertstring",this,t);for(var i=n.length;i--;){var r=n[i];r.isEmpty()||this.session.remove(r),this.session.insert(r.start,e[i])}}},this.findAll=function(t,e,n){e=e||{},e.needle=t||e.needle,this.$search.set(e);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var r=this.multiSelect;n||r.toSingleRange(i[0]);for(var s=i.length;s--;)r.addRange(i[s],!0);return this.$blockScrolling-=1,i.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())var o=s;else var l=this.session.documentToScreenPosition(i?n.end:n.start),o=this.session.screenToDocumentPosition(l.row+t,l.column);if(i){var c=a.fromPoints(s,o);c.cursor=c.start}else{var c=a.fromPoints(o,s);c.cursor=c.end}if(c.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var h=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),h&&this.selection.substractPoint(h)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;){var s=i[r];if(s.isEmpty()){var o=e.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var s=i[r];a.unshift(e.getTextRange(s))}0>t?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var s=i[r],o=s.clone();e.replace(s,a[r]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(t,e){var i=this.session,r=i.multiSelect,s=r.toOrientedRange();if(s.isEmpty()){var s=i.getWordRange(s.start.row,s.start.column);return s.cursor=-1==t?s.start:s.end,void this.multiSelect.addRange(s)}var o=i.getTextRange(s),a=n(i,o,t);a&&(a.cursor=-1==t?a.start:a.end,this.multiSelect.addRange(a)),e&&this.multiSelect.substractPoint(s.cursor)},this.alignCursors=function(){var t=this.session,e=t.multiSelect,n=e.ranges;if(n.length){var i=-1,r=n.filter(function(t){return t.cursor.row==i?!0:void(i=t.cursor.row)});e.$onRemoveRange(r);var s=0,o=1/0,l=n.map(function(e){var n=e.cursor,i=t.getLine(n.row),r=i.substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>s&&(s=n.column),o>r&&(o=r),r});n.forEach(function(e,n){var i=e.cursor,r=s-i.column,c=l[n]-o;r>c?t.insert(i,u.stringRepeat(" ",r-c)):t.remove(new a(i.row,i.column,i.row,i.column-r+c)),e.start.column=e.end.column=s,e.start.row=e.end.row=i.row,e.cursor=e.end}),e.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),h=c.start.row,d=c.end.row,f=this.session.doc.removeLines(h,d);f=this.$reAlignText(f),this.session.doc.insertLines(h,f),c.start.column=0,c.end.column=f[f.length-1].length,this.selection.setRange(c)}},this.$reAlignText=function(t){function e(t){return u.stringRepeat(" ",t)}function n(t){return t[2]?e(s)+t[2]+e(o-t[2].length+a)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function i(t){return t[2]?e(s+o-t[2].length)+t[2]+e(a," ")+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function r(t){return t[2]?e(s)+t[2]+e(a)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var s,o,a,l=!0,c=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==s?(s=e[1].length,o=e[2].length,a=e[3].length,e):(s+o+a!=e[1].length+e[2].length+e[3].length&&(c=!1),s!=e[1].length&&(l=!1),s>e[1].length&&(s=e[1].length),o<e[2].length&&(o=e[2].length),a>e[3].length&&(a=e[3].length),e):[t]}).map(l?c?i:n:r)}}).call(m.prototype),e.onSessionChange=function(t){var e=t.session;e.multiSelect||(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.removeEventListener("addRange",this.$onAddRange),n.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),n.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),n.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=r,t("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(t){r(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0}})}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event"],function(t,e){function n(t,e){return t.row==e.row&&t.column==e.column}function i(t){var e=t.domEvent,i=e.altKey,s=e.shiftKey,o=t.getAccelKey(),a=t.getButton();if(t.editor.inMultiSelectMode&&2==a)return void t.editor.textInput.onContextMenu(t.domEvent);if(!o&&!i)return void(0==a&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode());var l=t.editor,c=l.selection,h=l.inMultiSelectMode,u=t.getDocumentPosition(),d=c.getCursor(),f=t.inSelection()||c.isEmpty()&&n(u,d),p=t.x,g=t.y,m=function(t){p=t.clientX,g=t.clientY},v=function(){var t=l.renderer.pixelToScreenCoordinates(p,g),e=y.screenToDocumentPosition(t.row,t.column);n(b,t)&&n(e,c.selectionLead)||(b=t,l.selection.moveCursorToPosition(e),l.selection.clearSelection(),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(C),C=c.rectangularRangeBlock(b,w),C.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())},y=l.session,w=l.renderer.pixelToScreenCoordinates(p,g),b=w;if(!o||s||i||0!=a){if(i&&0==a){t.stop(),h&&!o?c.toSingleRange():!h&&o&&c.addRange();var C=[];s?(w=y.documentToScreenPosition(c.lead),v()):(c.moveCursorToPosition(u),c.clearSelection());var A=function(){clearInterval(E),l.removeSelectionMarkers(C);for(var t=0;t<C.length;t++)c.addRange(C[t])},F=v;r.capture(l.container,m,A);var E=setInterval(function(){F()},20);return t.preventDefault()}}else{if(!h&&f)return;if(!h){var x=c.toOrientedRange();l.addSelectionMarker(x)}var _=c.rangeList.rangeAtPoint(u);l.once("mouseup",function(){var t=c.toOrientedRange();_&&t.isEmpty()&&n(_.cursor,t.cursor)?c.substractPoint(t.cursor):(x&&(l.removeSelectionMarker(x),c.addRange(x)),c.addRange(t))})}}var r=t("../lib/event");e.onMouseDown=i}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"}}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()
},readonly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new n(e.multiSelectCommands)}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/config"],function(t,e){var n=t("../lib/oop"),i=t("../lib/event_emitter").EventEmitter,r=t("../config"),s=function(e,n,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl);var s;if(r.get("packaged")||!t.toUrl)s=r.moduleUrl(n,"worker");else{var o=this.$normalizePath;s=o(t.toUrl("ace/worker/worker.js",null,"_"));var a={};e.forEach(function(e){a[e]=o(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=new Worker(s),this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onerror=this.onError,this.$worker.onmessage=this.onMessage};(function(){n.implement(this,i),this.onError=function(t){throw window.console&&console.log&&console.log(t),t},this.onMessage=function(t){var e=t.data;switch(e.type){case"log":window.console&&console.log&&console.log.apply(console,e.data);break;case"event":this._emit(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id])}},this.$normalizePath=function(t){return location.host?(t=t.replace(/^[a-z]+:\/\/[^\/]+/,""),t=location.protocol+"//"+location.host+("/"==t.charAt(0)?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+t.replace(/^[\/]+/,"")):t},this.terminate=function(){this._emit("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(n){}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue?this.deltaQueue.push(t.data):(this.deltaQueue=[t.data],setTimeout(this.$sendDeltaQueue,1))},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>20&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(s.prototype);var o=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var s=null,o=Object.create(i),a=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){a.messageBuffer.push(t),s&&setTimeout(l)};var l=function(){var t=a.messageBuffer.shift();t.command?s[t.command].apply(s,t.args):t.event&&o._emit(t.event,t.data)};o.postMessage=function(t){a.onMessage({data:t})},o.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},o.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},r.loadModule(["worker",e],function(t){for(s=new t[n](o);a.messageBuffer.length;)l()})};o.prototype=s.prototype,e.UIWorkerClient=o,e.WorkerClient=s}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e){var n=t("./range").Range,i=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),s=function(t,e,n,i,r,s){var o=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var t=this,e=this.doc,i=this.session,r=this.$pos;this.pos=e.createAnchor(r.row,r.column),this.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(e){i.removeMarker(t.markerId),t.markerId=i.addMarker(new n(e.value.row,e.value.column,e.value.row,e.value.column+t.length),t.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var i=e.createAnchor(n.row,n.column);t.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),e.othersClass,null,!1),i.on("change",function(r){t.removeMarker(i.markerId),i.markerId=t.addMarker(new n(r.value.row,r.value.column,r.value.row,r.value.column+e.length),e.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){var e=t.data,i=e.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var r="insertText"===e.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var s=i.start.column-this.pos.column;if(this.length+=r,!this.session.$fromUndo){if("insertText"===e.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+s};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.insert(l,e.text)}else if("removeText"===e.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+s};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.remove(new n(l.row,l.column,l.row,l.column-r))}i.start.column===this.pos.column&&"insertText"===e.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-r);for(var t=0;t<this.others.length;t++){var e=this.others[t],n={row:e.row,column:e.column-r};e.row===i.start.row&&i.start.column<e.column&&(n.column+=r),e.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===e.action&&setTimeout(function(){for(var t=0;t<this.others.length;t++){var e=this.others[t];e.row===i.start.row&&i.start.column<e.column&&e.setPosition(e.row,e.column-r)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var o=0;o<this.others.length;o++)this.others[o]._emit("change",{value:this.others[o]})}this.$updating=!1}},this.onCursorChange=function(t){if(!this.$updating){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var t=0;t<this.others.length;t++)this.others[t].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;e>n;n++)t.undo(!0)}}).call(s.prototype),e.PlaceHolder=s}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e){var n=t("../../range").Range,i=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(t,e,i){var r=/\S/,s=t.getLine(e),o=s.search(r);if(-1!=o){for(var a=i||s.length,l=t.getLength(),c=e,h=e;++e<l;){var u=t.getLine(e).search(r);if(-1!=u){if(o>=u)break;h=e}}if(h>c){var d=t.getLine(h).length;return new n(c,a,h,d)}}},this.openingBracketBlock=function(t,e,i,r,s){var o={row:i,column:r+1},a=t.$findClosingBracket(e,o,s);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=this.getFoldWidget(t,a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(o,a)}},this.closingBracketBlock=function(t,e,i,r){var s={row:i,column:r},o=t.$findOpeningBracket(e,s);return o?(o.column++,s.column--,n.fromPoints(o,s)):void 0}}).call(i.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e){e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=t("../lib/dom");n.importCssString(e.cssText,e.cssClass)}),function(){window.require(["ace/ace"],function(t){t&&t.config.init(),window.ace||(window.ace={});for(var e in t)t.hasOwnProperty(e)&&(ace[e]=t[e])})}(),define("ace/theme/tomorrow_night",["require","exports","module","ace/lib/dom"],function(t,e){e.isDark=!0,e.cssClass="ace-tomorrow-night",e.cssText=".ace-tomorrow-night .ace_gutter {background: #25282c;color: #C5C8C6}.ace-tomorrow-night .ace_print-margin {width: 1px;background: #25282c}.ace-tomorrow-night  {background-color: #1D1F21;color: #C5C8C6}.ace-tomorrow-night .ace_cursor {color: #AEAFAD}.ace-tomorrow-night .ace_marker-layer .ace_selection {background: #373B41}.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #1D1F21;border-radius: 2px}.ace-tomorrow-night .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-tomorrow-night .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #4B4E55}.ace-tomorrow-night .ace_marker-layer .ace_active-line {background: #282A2E}.ace-tomorrow-night .ace_gutter-active-line {background-color: #282A2E}.ace-tomorrow-night .ace_marker-layer .ace_selected-word {border: 1px solid #373B41}.ace-tomorrow-night .ace_invisible {color: #4B4E55}.ace-tomorrow-night .ace_keyword,.ace-tomorrow-night .ace_meta,.ace-tomorrow-night .ace_storage,.ace-tomorrow-night .ace_storage.ace_type,.ace-tomorrow-night .ace_support.ace_type {color: #B294BB}.ace-tomorrow-night .ace_keyword.ace_operator {color: #8ABEB7}.ace-tomorrow-night .ace_constant.ace_character,.ace-tomorrow-night .ace_constant.ace_language,.ace-tomorrow-night .ace_constant.ace_numeric,.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,.ace-tomorrow-night .ace_support.ace_constant,.ace-tomorrow-night .ace_variable.ace_parameter {color: #DE935F}.ace-tomorrow-night .ace_constant.ace_other {color: #CED1CF}.ace-tomorrow-night .ace_invalid {color: #CED2CF;background-color: #DF5F5F}.ace-tomorrow-night .ace_invalid.ace_deprecated {color: #CED2CF;background-color: #B798BF}.ace-tomorrow-night .ace_fold {background-color: #81A2BE;border-color: #C5C8C6}.ace-tomorrow-night .ace_entity.ace_name.ace_function,.ace-tomorrow-night .ace_support.ace_function,.ace-tomorrow-night .ace_variable {color: #81A2BE}.ace-tomorrow-night .ace_support.ace_class,.ace-tomorrow-night .ace_support.ace_type {color: #F0C674}.ace-tomorrow-night .ace_heading,.ace-tomorrow-night .ace_string {color: #B5BD68}.ace-tomorrow-night .ace_entity.ace_name.ace_tag,.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow-night .ace_meta.ace_tag,.ace-tomorrow-night .ace_string.ace_regexp,.ace-tomorrow-night .ace_variable {color: #CC6666}.ace-tomorrow-night .ace_comment {color: #969896}.ace-tomorrow-night .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y;}";var n=t("../lib/dom");n.importCssString(e.cssText,e.cssClass)}),define("ace/theme/chrome",["require","exports","module","ace/lib/dom"],function(t,e){e.isDark=!1,e.cssClass="ace-chrome",e.cssText='.ace-chrome .ace_gutter {    background: #ebebeb;    color: #333;    overflow : hidden;}    .ace-chrome .ace_print-margin {    width: 1px;    background: #e8e8e8;}.ace-chrome {    background-color: #FFFFFF;}.ace-chrome .ace_cursor {    color: black;}.ace-chrome .ace_invisible {    color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {    color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {    color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {    color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {    background-color: rgb(153, 0, 0);    color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {    color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {    color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class    .ace-chrome .ace_support.ace_other {    color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {    font-style:italic;    color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {    color: rgb(104, 118, 135);}.ace-chrome .ace_comment {    color: #236e24;}.ace-chrome .ace_comment.ace_doc {    color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {    color: #236e24;}.ace-chrome .ace_constant.ace_numeric {    color: rgb(0, 0, 205);}.ace-chrome .ace_variable {    color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {    color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {    color: #0000A2;}.ace-chrome .ace_heading {    color: rgb(12, 7, 255);}.ace-chrome .ace_list {    color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {    background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {    background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {    background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {    margin: -1px 0 0 -1px;    border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {    background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {    background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {    background: rgb(250, 250, 255);    border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {    color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {    color: rgb(255, 0, 0)}.ace-chrome .ace_string {    color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {    color: #994409;}.ace-chrome .ace_indent-guide {    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=t("../lib/dom");n.importCssString(e.cssText,e.cssClass)}),define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/tokenizer","ace/mode/html_highlight_rules","ace/mode/behaviour/html","ace/mode/folding/html","ace/mode/html_completions"],function(t,e){var n=t("../lib/oop"),i=t("./text").Mode,r=t("./javascript").Mode,s=t("./css").Mode,o=(t("../tokenizer").Tokenizer,t("./html_highlight_rules").HtmlHighlightRules),a=t("./behaviour/html").HtmlBehaviour,l=t("./folding/html").FoldMode,c=t("./html_completions").HtmlCompletions,h=function(){this.HighlightRules=o,this.$behaviour=new a,this.$completer=new c,this.createModeDelegates({"js-":r,"css-":s}),this.foldingRules=new l};n.inherits(h,i),function(){this.blockComment={start:"<!--",end:"-->"},this.getNextLineIndent=function(t,e){return this.$getIndent(e)},this.checkOutdent=function(){return!1},this.getCompletions=function(t,e,n,i){return this.$completer.getCompletions(t,e,n,i)}}.call(h.prototype),e.Mode=h}),define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(t,e){var n=t("../lib/oop"),i=t("./text").Mode,r=(t("../tokenizer").Tokenizer,t("./javascript_highlight_rules").JavaScriptHighlightRules),s=t("./matching_brace_outdent").MatchingBraceOutdent,o=(t("../range").Range,t("../worker/worker_client").WorkerClient),a=t("./behaviour/cstyle").CstyleBehaviour,l=t("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=r,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};n.inherits(c,i),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t),s=r.tokens,o=r.state;if(s.length&&"comment"==s[s.length-1].type)return i;if("start"==t||"no_regex"==t){var a=e.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(i+=n)}else if("doc-start"==t){if("start"==o||"no_regex"==o)return"";var a=e.match(/^\s*(\/?)\*/);a&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(t){var e=new o(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return e.attachToDocument(t.getDocument()),e.on("jslint",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e}}.call(c.prototype),e.Mode=c}),define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,e){var n=t("../lib/oop"),i=t("./doc_comment_highlight_rules").DocCommentHighlightRules,r=t("./text_highlight_rules").TextHighlightRules,s=function(){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),e="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",n="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*\\b",r="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},i.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+n+")(\\.)(prototype)(\\.)("+n+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+n+")(\\.)("+n+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+n+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+n+")(\\.)("+n+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+n+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+n+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+e+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|timeEnd|assert)\b/},{token:t,regex:n},{token:"keyword.operator",regex:/--|\+\+|[!$%&*+\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=/,next:"start"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"start"},{token:"comment",regex:/^#!.*$/}],start:[i.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/\\w*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:n},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],comment:[{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment"}],line_comment_regex_allowed:[{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment"}],line_comment:[{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment"}],qqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},this.embedRules(i,"doc-",[i.getEndRule("no_regex")])};n.inherits(s,r),e.JavaScriptHighlightRules=s}),define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e){var n=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc.tag",regex:"\\bTODO\\b"},{defaultToken:"comment.doc"}]}};n.inherits(r,i),r.getStartRule=function(t){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:t}},r.getEndRule=function(t){return{token:"comment.doc",regex:"\\*\\/",next:t}},e.DocCommentHighlightRules=r}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e){var n=t("../range").Range,i=function(){};(function(){this.checkOutdent=function(t,e){return/^\s+$/.test(t)?/^\s*\}/.test(e):!1},this.autoOutdent=function(t,e){var i=t.getLine(e),r=i.match(/^(\s*\})/);if(!r)return 0;var s=r[1].length,o=t.findMatchingBracket({row:e,column:s});if(!o||o.row==e)return 0;var a=this.$getIndent(t.getLine(o.row));t.replace(new n(e,0,e,s-1),a)},this.$getIndent=function(t){return t.match(/^\s*/)[0]}}).call(i.prototype),e.MatchingBraceOutdent=i}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e){var n=t("../../lib/oop"),i=t("../behaviour").Behaviour,r=t("../../token_iterator").TokenIterator,s=t("../../lib/lang"),o=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l=0,c=-1,h="",u=0,d=-1,f="",p="",g=function(){g.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new r(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",o)){var s=new r(e,n.row,n.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",o))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",a)},g.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},g.recordAutoInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isAutoInsertedClosing(i,r,h[0])||(l=0),c=i.row,h=n+r.substr(i.column),l++},g.recordMaybeInsert=function(t,e,n){var i=t.getCursorPosition(),r=e.doc.getLine(i.row);this.isMaybeInsertedClosing(i,r)||(u=0),d=i.row,f=r.substr(0,i.column)+n,p=r.substr(i.column),u++},g.isAutoInsertedClosing=function(t,e,n){return l>0&&t.row===c&&n===h[0]&&e.substr(t.column)===h},g.isMaybeInsertedClosing=function(t,e){return u>0&&t.row===d&&e.substr(t.column)===p&&e.substr(0,t.column)==f
},g.popAutoInsertedClosing=function(){h=h.substr(1),l--},g.clearMaybeInsertedClosing=function(){u=0,d=-1},this.add("braces","insertion",function(t,e,n,i,r){var o=n.getCursorPosition(),a=i.doc.getLine(o.row);if("{"==r){var l=n.getSelectionRange(),c=i.doc.getTextRange(l);if(""!==c&&"{"!==c&&n.getWrapBehavioursEnabled())return{text:"{"+c+"}",selection:!1};if(g.isSaneInsertion(n,i))return/[\]\}\)]/.test(a[o.column])?(g.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==r){var h=a.substring(o.column,o.column+1);if("}"==h){var d=i.$findOpeningBracket("}",{column:o.column+1,row:o.row});if(null!==d&&g.isAutoInsertedClosing(o,a,r))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if("\n"==r||"\r\n"==r){var f="";g.isMaybeInsertedClosing(o,a)&&(f=s.stringRepeat("}",u),g.clearMaybeInsertedClosing());var h=a.substring(o.column,o.column+1);if("}"==h||""!==f){var p=i.findMatchingBracket({row:o.row,column:o.column},"}");if(!p)return null;var m=this.getNextLineIndent(t,a.substring(0,o.column),i.getTabString()),v=this.$getIndent(a);return{text:"\n"+m+"\n"+v+f,selection:[1,m.length,1,m.length]}}}}),this.add("braces","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){var o=i.doc.getLine(r.start.row),a=o.substring(r.end.column,r.end.column+1);if("}"==a)return r.end.column++,r;u--}}),this.add("parens","insertion",function(t,e,n,i,r){if("("==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return{text:"("+o+")",selection:!1};if(g.isSaneInsertion(n,i))return g.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var h=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==h&&g.isAutoInsertedClosing(a,l,r))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s){var o=i.doc.getLine(r.start.row),a=o.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(t,e,n,i,r){if("["==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return{text:"["+o+"]",selection:!1};if(g.isSaneInsertion(n,i))return g.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var h=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==h&&g.isAutoInsertedClosing(a,l,r))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s){var o=i.doc.getLine(r.start.row),a=o.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(t,e,n,i,r){if('"'==r||"'"==r){var s=r,o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return{text:s+a+s,selection:!1};var l=n.getCursorPosition(),c=i.doc.getLine(l.row),h=c.substring(l.column-1,l.column);if("\\"==h)return null;for(var u,d=i.getTokens(o.start.row),f=0,p=-1,m=0;m<d.length&&(u=d[m],"string"==u.type?p=-1:0>p&&(p=u.value.indexOf(s)),!(u.value.length+f>o.start.column));m++)f+=d[m].value.length;if(!u||0>p&&"comment"!==u.type&&("string"!==u.type||o.start.column!==u.value.length+f-1&&u.value.lastIndexOf(s)===u.value.length-1)){if(!g.isSaneInsertion(n,i))return;return{text:s+s,selection:[1,1]}}if(u&&"string"===u.type){var v=c.substring(l.column,l.column+1);if(v==s)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)){var o=i.doc.getLine(r.start.row),a=o.substring(r.start.column+1,r.start.column+2);if(a==s)return r.end.column++,r}})};n.inherits(g,i),e.CstyleBehaviour=g}),define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,e){var n=t("../../lib/oop"),i=(t("../../range").Range,t("./fold_mode").FoldMode),r=e.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};n.inherits(r,i),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(t,e,n){var i=t.getLine(n),r=i.match(this.foldingStartMarker);if(r){var s=r.index;return r[1]?this.openingBracketBlock(t,r[1],n,s):t.getCommentFoldRange(n,s+r[0].length,1)}if("markbeginend"===e){var r=i.match(this.foldingStopMarker);if(r){var s=r.index+r[0].length;return r[1]?this.closingBracketBlock(t,r[1],n,s):t.getCommentFoldRange(n,s,-1)}}}}.call(r.prototype)}),define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(t,e){var n=t("../lib/oop"),i=t("./text").Mode,r=(t("../tokenizer").Tokenizer,t("./css_highlight_rules").CssHighlightRules),s=t("./matching_brace_outdent").MatchingBraceOutdent,o=t("../worker/worker_client").WorkerClient,a=t("./behaviour/css").CssBehaviour,l=t("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=r,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};n.inherits(c,i),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t).tokens;if(r.length&&"comment"==r[r.length-1].type)return i;var s=e.match(/^.*\{\s*$/);return s&&(i+=n),i},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(t){var e=new o(["ace"],"ace/mode/css_worker","Worker");return e.attachToDocument(t.getDocument()),e.on("csslint",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e}}.call(c.prototype),e.Mode=c}),define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(t,e){var n=t("../lib/oop"),i=(t("../lib/lang"),t("./text_highlight_rules").TextHighlightRules),r=e.supportType="animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index",s=e.supportFunction="rgb|rgba|url|attr|counter|counters",o=e.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",a=e.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",l=e.supportConstantFonts="arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",c=e.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",h=e.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",u=e.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",d=function(){var t=this.createKeywordMapper({"support.function":s,"support.constant":o,"support.type":r,"support.constant.color":a,"support.constant.fonts":l},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+c+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:c},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:u},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:t,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};n.inherits(d,i),e.CssHighlightRules=d}),define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,e){var n=t("../../lib/oop"),i=(t("../behaviour").Behaviour,t("./cstyle").CstyleBehaviour),r=t("../../token_iterator").TokenIterator,s=function(){this.inherit(i),this.add("colon","insertion",function(t,e,n,i,s){if(":"===s){var o=n.getCursorPosition(),a=new r(i,o.row,o.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(o.row),h=c.substring(o.column,o.column+1);if(":"===h)return{text:"",selection:[1,1]};if(!c.substring(o.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(t,e,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&":"===o){var a=n.getCursorPosition(),l=new r(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var h=i.doc.getLine(s.start.row),u=h.substring(s.end.column,s.end.column+1);if(";"===u)return s.end.column++,s}}}),this.add("semicolon","insertion",function(t,e,n,i,r){if(";"===r){var s=n.getCursorPosition(),o=i.doc.getLine(s.row),a=o.substring(s.column,s.column+1);if(";"===a)return{text:"",selection:[1,1]}}})};n.inherits(s,i),e.CssBehaviour=s}),define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(t,e){var n=t("../lib/oop"),i=t("../lib/lang"),r=t("./css_highlight_rules").CssHighlightRules,s=t("./javascript_highlight_rules").JavaScriptHighlightRules,o=t("./xml_highlight_rules").XmlHighlightRules,a=i.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),l=function(){o.call(this),this.addRules({attributes:[{include:"space"},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"keyword.operator.separator",regex:"=",push:[{include:"space"},{token:"string",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"string"}],tag:[{token:function(t,e){var n=a[e];return["meta.tag.punctuation.begin","meta.tag.name"+(n?"."+n:"")]},regex:"(<)([-_a-zA-Z0-9:]+)",next:"start_tag_stuff"},{token:function(t,e){var n=a[e];return["meta.tag.punctuation.begin","meta.tag.name"+(n?"."+n:"")]},regex:"(</)([-_a-zA-Z0-9:]+)",next:"end_tag_stuff"}],start_tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.end",regex:"/?>",next:"start"}],end_tag_stuff:[{include:"space"},{token:"meta.tag.punctuation.end",regex:">",next:"start"}]}),this.embedTagRules(r,"css-","style"),this.embedTagRules(s,"js-","script"),this.constructor===l&&this.normalizeRules()};n.inherits(l,o),e.HtmlHighlightRules=l}),define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/xml_util","ace/mode/text_highlight_rules"],function(t,e){var n=t("../lib/oop"),i=(t("./xml_util"),t("./text_highlight_rules").TextHighlightRules),r=function(){this.$rules={start:[{token:"punctuation.string.begin",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.begin","keyword.instruction"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_declaration"},{token:["punctuation.instruction.begin","keyword.instruction"],regex:"(<\\?)([-_a-zA-Z0-9]+)",next:"instruction"},{token:"comment",regex:"<\\!--",next:"comment"},{token:["punctuation.doctype.begin","meta.tag.doctype"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype"},{include:"tag"},{include:"reference"}],xml_declaration:[{include:"attributes"},{include:"instruction"}],instruction:[{token:"punctuation.instruction.end",regex:"\\?>",next:"start"}],doctype:[{include:"space"},{include:"string"},{token:"punctuation.doctype.end",regex:">",next:"start"},{token:"xml-pe",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.begin",regex:"\\[",push:"declarations"}],declarations:[{token:"text",regex:"\\s+"},{token:"punctuation.end",regex:"]",next:"pop"},{token:["punctuation.begin","keyword"],regex:"(<\\!)([-_a-zA-Z0-9]+)",push:[{token:"text",regex:"\\s+"},{token:"punctuation.end",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.end",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:"-->",next:"start"},{defaultToken:"comment"}],tag:[{token:["meta.tag.punctuation.begin","meta.tag.name"],regex:"(<)((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"attributes"},{token:"meta.tag.punctuation.end",regex:"/?>",next:"start"}]},{token:["meta.tag.punctuation.begin","meta.tag.name"],regex:"(</)((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"space"},{token:"meta.tag.punctuation.end",regex:">",next:"start"}]}],space:[{token:"text",regex:"\\s+"}],reference:[{token:"constant.language.escape",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},{token:"invalid.illegal",regex:"&"}],string:[{token:"string",regex:"'",push:"qstring_inner"},{token:"string",regex:'"',push:"qqstring_inner"}],qstring_inner:[{token:"string",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string"}],qqstring_inner:[{token:"string",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string"}],attributes:[{token:"entity.other.attribute-name",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.separator",regex:"="},{include:"space"},{include:"string"}]},this.constructor===r&&this.normalizeRules()};(function(){this.embedTagRules=function(t,e,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.begin","meta.tag.name."+n],regex:"(<)("+n+")",next:[{include:"space"},{include:"attributes"},{token:"meta.tag.punctuation.end",regex:"/?>",next:e+"start"}]}),this.$rules[n+"-end"]=[{include:"space"},{token:"meta.tag.punctuation.end",regex:">",next:"start",onMatch:function(t,e,n){return n.splice(0),this.token}}],this.embedRules(t,e,[{token:["meta.tag.punctuation.begin","meta.tag.name."+n],regex:"(</)("+n+")",next:n+"-end"},{token:"string.begin",regex:"<\\!\\[CDATA\\["},{token:"string.end",regex:"\\]\\]>"}])}}).call(i.prototype),n.inherits(r,i),e.XmlHighlightRules=r}),define("ace/mode/xml_util",["require","exports","module"],function(t,e){function n(t){return[{token:"string",regex:'"',next:t+"_qqstring"},{token:"string",regex:"'",next:t+"_qstring"}]}function i(t,e){return[{token:"string",regex:t,next:e},{token:"constant.language.escape",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},{defaultToken:"string"}]}e.tag=function(t,e,r,s){t[e]=[{token:"text",regex:"\\s+"},{token:s?function(t){return s[t]?"meta.tag.tag-name."+s[t]:"meta.tag.tag-name"}:"meta.tag.tag-name",regex:"[-_a-zA-Z0-9:]+",next:e+"_embed_attribute_list"},{token:"empty",regex:"",next:e+"_embed_attribute_list"}],t[e+"_qstring"]=i("'",e+"_embed_attribute_list"),t[e+"_qqstring"]=i('"',e+"_embed_attribute_list"),t[e+"_embed_attribute_list"]=[{token:"meta.tag.r",regex:"/?>",next:r},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat(n(e))}}),define("ace/mode/behaviour/html",["require","exports","module","ace/lib/oop","ace/mode/behaviour/xml","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,e){function n(t,e){var n=t.type.split(".");return e.split(".").every(function(t){return-1!==n.indexOf(t)})}var i=t("../../lib/oop"),r=t("../behaviour/xml").XmlBehaviour,s=(t("./cstyle").CstyleBehaviour,t("../../token_iterator").TokenIterator),o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=function(){this.inherit(r),this.add("autoclosing","insertion",function(t,e,i,r,a){if(">"==a){var l=i.getCursorPosition(),c=new s(r,l.row,l.column),h=c.getCurrentToken();if(h&&n(h,"string")&&c.getCurrentTokenColumn()+h.value.length>l.column)return;var u=!1;if(h&&(n(h,"meta.tag")||n(h,"text")&&h.value.match("/")))u=!0;else do h=c.stepBackward();while(h&&(n(h,"string")||n(h,"keyword.operator")||n(h,"entity.attribute-name")||n(h,"text")));if(!h||!n(h,"meta.tag.name")||c.stepBackward().value.match("/"))return;var d=h.value;if(u)var d=d.substring(0,l.column-h.start);if(-1!==o.indexOf(d))return;return{text:"></"+d+">",selection:[1,1]}}})};i.inherits(a,r),e.HtmlBehaviour=a}),define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,e){function n(t,e){var n=t.type.split(".");return e.split(".").every(function(t){return-1!==n.indexOf(t)})}var i=t("../../lib/oop"),r=t("../behaviour").Behaviour,s=t("./cstyle").CstyleBehaviour,o=t("../../token_iterator").TokenIterator,a=function(){this.inherit(s,["string_dquotes"]),this.add("autoclosing","insertion",function(t,e,i,r,s){if(">"==s){var a=i.getCursorPosition(),l=new o(r,a.row,a.column),c=l.getCurrentToken();if(c&&n(c,"string")&&l.getCurrentTokenColumn()+c.value.length>a.column)return;var h=!1;if(c&&(n(c,"meta.tag")||n(c,"text")&&c.value.match("/")))h=!0;else do c=l.stepBackward();while(c&&(n(c,"string")||n(c,"keyword.operator")||n(c,"entity.attribute-name")||n(c,"text")));if(!c||!n(c,"meta.tag.name")||l.stepBackward().value.match("/"))return;var u=c.value;if(h)var u=u.substring(0,a.column-c.start);return{text:"></"+u+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(t,e,n,i,r){if("\n"==r){var s=n.getCursorPosition(),o=i.getLine(s.row),a=o.substring(s.column,s.column+2);if("</"==a){var l=this.$getIndent(o),c=l+i.getTabString();return{text:"\n"+c+"\n"+l,selection:[1,c.length,1,c.length]}}}})};i.inherits(a,r),e.XmlBehaviour=a}),define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,e){var n=t("../../lib/oop"),i=t("./mixed").FoldMode,r=t("./xml").FoldMode,s=t("./cstyle").FoldMode,o=e.FoldMode=function(){i.call(this,new r({area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1,li:1,dt:1,dd:1,p:1,rt:1,rp:1,optgroup:1,option:1,colgroup:1,td:1,th:1}),{"js-":new s,"css-":new s})};n.inherits(o,i)}),define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,e){var n=t("../../lib/oop"),i=t("./fold_mode").FoldMode,r=e.FoldMode=function(t,e){this.defaultMode=t,this.subModes=e};n.inherits(r,i),function(){this.$getMode=function(t){"string"!=typeof t&&(t=t[0]);for(var e in this.subModes)if(0===t.indexOf(e))return this.subModes[e];return null},this.$tryMode=function(t,e,n,i){var r=this.$getMode(t);return r?r.getFoldWidget(e,n,i):""},this.getFoldWidget=function(t,e,n){return this.$tryMode(t.getState(n-1),t,e,n)||this.$tryMode(t.getState(n),t,e,n)||this.defaultMode.getFoldWidget(t,e,n)},this.getFoldWidgetRange=function(t,e,n){var i=this.$getMode(t.getState(n-1));return i&&i.getFoldWidget(t,e,n)||(i=this.$getMode(t.getState(n))),i&&i.getFoldWidget(t,e,n)||(i=this.defaultMode),i.getFoldWidgetRange(t,e,n)}}.call(r.prototype)}),define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(t,e){var n=t("../../lib/oop"),i=t("../../lib/lang"),r=t("../../range").Range,s=t("./fold_mode").FoldMode,o=t("../../token_iterator").TokenIterator,a=e.FoldMode=function(t){s.call(this),this.voidElements=t||{}};n.inherits(a,s),function(){this.getFoldWidget=function(t,e,n){var i=this._getFirstTagInLine(t,n);return i.closing?"markbeginend"==e?"end":"":!i.tagName||this.voidElements[i.tagName.toLowerCase()]?"":i.selfClosing?"":-1!==i.value.indexOf("/"+i.tagName)?"":"start"},this._getFirstTagInLine=function(t,e){for(var n=t.getTokens(e),r="",s=0;s<n.length;s++){var o=n[s];r+=0===o.type.lastIndexOf("meta.tag",0)?o.value:i.stringRepeat(" ",o.value.length)}return this._parseTag(r)},this.tagRe=/^(\s*)(<?(\/?)([-_a-zA-Z0-9:!]*)\s*(\/?)>?)/,this._parseTag=function(t){var e=t.match(this.tagRe),n=0;return{value:t,match:e?e[2]:"",closing:e?!!e[3]:!1,selfClosing:e?!!e[5]||"/>"==e[2]:!1,tagName:e?e[4]:"",column:e[1]?n+e[1].length:n}},this._readTagForward=function(t){var e=t.getCurrentToken();if(!e)return null;var n,i="";do if(0===e.type.lastIndexOf("meta.tag",0)){if(!n)var n={row:t.getCurrentTokenRow(),column:t.getCurrentTokenColumn()};if(i+=e.value,-1!==i.indexOf(">")){var r=this._parseTag(i);return r.start=n,r.end={row:t.getCurrentTokenRow(),column:t.getCurrentTokenColumn()+e.value.length},t.stepForward(),r}}while(e=t.stepForward());return null},this._readTagBackward=function(t){var e=t.getCurrentToken();if(!e)return null;var n,i="";do if(0===e.type.lastIndexOf("meta.tag",0)&&(n||(n={row:t.getCurrentTokenRow(),column:t.getCurrentTokenColumn()+e.value.length}),i=e.value+i,-1!==i.indexOf("<"))){var r=this._parseTag(i);return r.end=n,r.start={row:t.getCurrentTokenRow(),column:t.getCurrentTokenColumn()},t.stepBackward(),r}while(e=t.stepBackward());return null},this._pop=function(t,e){for(;t.length;){var n=t[t.length-1];if(e&&n.tagName!=e.tagName){if(this.voidElements[e.tagName])return;if(this.voidElements[n.tagName]){t.pop();continue}return null}return t.pop()}},this.getFoldWidgetRange=function(t,e,n){var i=this._getFirstTagInLine(t,n);if(!i.match)return null;var s,a=i.closing||i.selfClosing,l=[];if(a)for(var c=new o(t,n,i.column+i.match.length),h={row:n,column:i.column};s=this._readTagBackward(c);){if(s.selfClosing){if(l.length)continue;return s.start.column+=s.tagName.length+2,s.end.column-=2,r.fromPoints(s.start,s.end)}if(s.closing)l.push(s);else if(this._pop(l,s),0==l.length)return s.start.column+=s.tagName.length+2,r.fromPoints(s.start,h)}else for(var c=new o(t,n,i.column),u={row:n,column:i.column+i.tagName.length+2};s=this._readTagForward(c);){if(s.selfClosing){if(l.length)continue;return s.start.column+=s.tagName.length+2,s.end.column-=2,r.fromPoints(s.start,s.end)}if(s.closing){if(this._pop(l,s),0==l.length)return r.fromPoints(u,s.start)}else l.push(s)}}}.call(a.prototype)}),define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(t,e){function n(t,e){var n=t.type.split(".");return e.split(".").every(function(t){return-1!==n.indexOf(t)})}function i(t,e){var i=new r(t,e.row,e.column),s=i.getCurrentToken();if(!(s&&(n(s,"tag")||n(s,"text")&&s.value.match("/"))))do s=i.stepBackward();while(s&&(n(s,"string")||n(s,"operator")||n(s,"attribute-name")||n(s,"text")));return s&&n(s,"tag-name")&&!i.stepBackward().value.match("/")?s.value:void 0}var r=t("../token_iterator").TokenIterator,s=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","lang","spellcheck","style","tabindex","title","translate"],o=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],a=s.concat(o),l={html:["manifest"],head:[],title:[],base:["href","target"],link:["href","hreflang","rel","media","type","sizes"],meta:["http-equiv","name","content","charset"],style:["type","media","scoped"],script:["charset","type","src","defer","async"],noscript:["href"],body:["onafterprint","onbeforeprint","onbeforeunload","onhashchange","onmessage","onoffline","onpopstate","onredo","onresize","onstorage","onundo","onunload"],section:[],nav:[],article:["pubdate"],aside:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],footer:[],address:[],main:[],p:[],hr:[],pre:[],blockquote:["cite"],ol:["start","reversed"],ul:[],li:["value"],dl:[],dt:[],dd:[],figure:[],figcaption:[],div:[],a:["href","target","ping","rel","media","hreflang","type"],em:[],strong:[],small:[],s:[],cite:[],q:["cite"],dfn:[],abbr:[],data:[],time:["datetime"],code:[],"var":[],samp:[],kbd:[],sub:[],sup:[],i:[],b:[],u:[],mark:[],ruby:[],rt:[],rp:[],bdi:[],bdo:[],span:[],br:[],wbr:[],ins:["cite","datetime"],del:["cite","datetime"],img:["alt","src","height","width","usemap","ismap"],iframe:["name","src","height","width","sandbox","seamless"],embed:["src","height","width","type"],object:["param","data","type","height","width","usemap","name","form","classid"],param:["name","value"],video:["src","autobuffer","autoplay","loop","controls","width","height","poster"],audio:["src","autobuffer","autoplay","loop","controls"],source:["src","type","media"],track:["kind","src","srclang","label","default"],canvas:["width","height"],map:["name"],area:["shape","coords","href","hreflang","alt","target","media","rel","ping","type"],svg:[],math:[],table:["summary"],caption:[],colgroup:["span"],col:["span"],tbody:[],thead:[],tfoot:[],tr:[],td:["headers","rowspan","colspan"],th:["headers","rowspan","colspan","scope"],form:["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],fieldset:["disabled","form","name"],legend:[],label:["form","for"],input:["type","accept","alt","autocomplete","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","multiple","pattern","placeholder","readonly","required","size","src","step","width","files","value"],button:["autofocus","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","value","type"],select:["autofocus","disabled","form","multiple","name","size"],datalist:[],optgroup:["disabled","label"],option:["disabled","selected","label","value"],textarea:["autofocus","disabled","form","maxlength","name","placeholder","readonly","required","rows","cols","wrap"],keygen:["autofocus","challenge","disabled","form","keytype","name"],output:["for","form","name"],progress:["value","max"],meter:["value","min","max","low","high","optimum"],details:["open"],summary:[],command:["type","label","icon","disabled","checked","radiogroup","command"],menu:["type","label"],dialog:["open"]},c=Object.keys(l),h=function(){};
(function(){this.getCompletions=function(t,e,i,r){var s=e.getTokenAt(i.row,i.column);return s?n(s,"tag-name")||"<"==s.value&&n(s,"text")?this.getTagCompletions(t,e,i,r):n(s,"text")||n(s,"attribute-name")?this.getAttributeCompetions(t,e,i,r):[]:[]},this.getTagCompletions=function(t,e,n,i){var r=c;return i&&(r=r.filter(function(t){return 0===t.indexOf(i)})),r.map(function(t){return{value:t,meta:"tag"}})},this.getAttributeCompetions=function(t,e,n,r){var s=i(e,n);if(!s)return[];var o=a;return s in l&&(o=o.concat(l[s])),r&&(o=o.filter(function(t){return 0===t.indexOf(r)})),o.map(function(t){return{caption:t,snippet:t+'="$0"',meta:"attribute"}})}}).call(h.prototype),e.HtmlCompletions=h}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(s){}r(e)},t.widget=function(e,n,i){var r,s,o,a,l={},c=e.split(".")[0];e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},s=t[c][e],o=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,s,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=s,e}}()):void(l[e]=i)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||e:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:r}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(n){for(var r,s,o=i.call(arguments,1),a=0,l=o.length;l>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==e&&(n[r]=t.isPlainObject(s)?t.isPlainObject(n[r])?t.widget.extend({},n[r],s):t.widget.extend({},s):s);return n},t.widget.bridge=function(n,r){var s=r.prototype.widgetFullName||n;t.fn[n]=function(o){var a="string"==typeof o,l=i.call(arguments,1),c=this;return o=!a&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,this.each(a?function(){var i,r=t.data(this,s);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,l),i!==r&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}:function(){var e=t.data(this,s);e?e.option(o||{})._init():t.data(this,s,new r(o,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,s,o,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(s=a[n]=t.widget.extend({},this.options[n]),o=0;o<r.length-1;o++)s[r[o]]=s[r[o]]||{},s=s[r[o]];if(n=r.pop(),1===arguments.length)return s[n]===e?null:s[n];s[n]=i}else{if(1===arguments.length)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,o){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,h=l[2];h?r.delegate(h,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,s,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return e.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],s=e.multipart||!t.support.xhrFileUpload,o="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),s&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),s?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:o,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||o,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(o,e.blob,r.name):t.each(e.files,function(r,s){(i._isInstanceOf("File",s)||i._isInstanceOf("Blob",s))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||o,s,s.uploadName||s.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),s=r.promise();return n=n||this.options.context||s,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),s.abort=r.promise,this._enhancePromise(s)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,s){return(e||s)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(e,s)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,s=this,o=e.files[0],a=o.size,l=e.uploadedBytes,c=e.maxChunkSize||a,h=this._blobSlice,u=t.Deferred(),d=u.promise();return this._isXHRUpload(e)&&h&&(l||a>c)&&!e.data?n?!0:l>=a?(o.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",o.error])):(r=function(){var n=t.extend({},e),d=n._progress.loaded;n.blob=h.call(o,l,l+c,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,s._initXHRData(n),s._initProgressListener(n),i=(s._trigger("chunksend",null,n)!==!1&&t.ajax(n)||s._getXHRPromise(!1,n.context)).done(function(i,o,c){l=s._getUploadedBytes(c)||l+n.chunkSize,d+n.chunkSize-n._progress.loaded&&s._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=o,n.jqXHR=c,s._trigger("chunkdone",null,n),s._trigger("chunkalways",null,n),a>l?r():u.resolveWith(n.context,[i,o,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,s._trigger("chunkfail",null,n),s._trigger("chunkalways",null,n),u.rejectWith(n.context,[t,e,i])})},this._enhancePromise(d),d.abort=function(){return i.abort()},r(),d):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var s=r._progress.total,o=r._response;r._progress.loaded<s&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:s,total:s}),r),o.result=r.result=e,o.textStatus=r.textStatus=n,o.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,s,o,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=t.Deferred(),this._slots.push(s),o=s.pipe(c)):(this._sequence=this._sequence.pipe(c,c),o=this._sequence),o.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(s&&s.rejectWith(l.context,r),c())},this._enhancePromise(o)):c()},_onAdd:function(e,n){var i,r,s,o,a=this,l=!0,c=t.extend({},this.options,n),h=n.files,u=h.length,d=c.limitMultiFileUploads,f=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(c),v=0;if(!f||u&&void 0!==h[0].size||(f=void 0),(c.singleFileUploads||d||f)&&this._isXHRUpload(c))if(c.singleFileUploads||f||!d)if(!c.singleFileUploads&&f)for(s=[],i=[],o=0;u>o;o+=1)g+=h[o].size+p,(o+1===u||g+h[o+1].size+p>f||d&&o+1-v>=d)&&(s.push(h.slice(v,o+1)),r=m.slice(v,o+1),r.length||(r=m),i.push(r),v=o+1,g=0);else i=m;else for(s=[],i=[],o=0;u>o;o+=d)s.push(h.slice(o,o+d)),r=m.slice(o,o+d),r.length||(r=m),i.push(r);else s=[h],i=[m];return n.originalFiles=h,t.each(s||h,function(r,o){var c=t.extend({},n);return c.files=s?o:[o],c.paramName=i[r],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(e,c),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var n=e.clone(!0);t("<form></form>").append(n)[0].reset(),e.after(n).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===e[0]?n[0]:i}),e[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,n){var i,r=this,s=t.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),s.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,s.resolve(e._file)):e.file(function(t){t.relativePath=n,s.resolve(t)},o):e.isDirectory?(i=e.createReader(),i.readEntries(function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){s.resolve(t)}).fail(o)},o)):s.resolve([]),s.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=e.dataTransfer;n&&-1!==t.inArray("Files",n.types)&&this._trigger("dragover",t.Event("dragover",{delegatedEvent:e}))!==!1&&(e.preventDefault(),n.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options;t.each(t(this.element[0].cloneNode(!1)).data(),function(t,i){e._isRegExpOption(t,i)&&(i=e._getRegExp(i)),n[t]=i})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,s=t.Deferred(),o=s.promise();return o.abort=function(){return i=!0,n?n.abort():(s.reject(null,"abort","abort"),o)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void s.reject();e.files=t,n=r._onSend(null,e).then(function(t,e,n){s.resolve(t,e,n)},function(t,e,n){s.reject(t,e,n)})}}),this._enhancePromise(o)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){function e(){s=!1;for(var e=0;e<i.length;e++){var r=t(i[e]).filter(function(){return t(this).is(":appeared")});if(r.trigger("appear",[r]),n){var o=n.not(r);o.trigger("disappear",[o])}n=r}}var n,i=[],r=!1,s=!1,o={interval:250,force_process:!1},a=t(window);t.expr[":"].appeared=function(e){var n=t(e);if(!n.is(":visible"))return!1;var i=a.scrollLeft(),r=a.scrollTop(),s=n.offset(),o=s.left,l=s.top;return l+n.height()>=r&&l-(n.data("appear-top-offset")||0)<=r+a.height()&&o+n.width()>=i&&o-(n.data("appear-left-offset")||0)<=i+a.width()?!0:!1},t.fn.extend({appear:function(n){var a=t.extend({},o,n||{}),l=this.selector||this;if(!r){var c=function(){s||(s=!0,setTimeout(e,a.interval))};t(window).scroll(c).resize(c),r=!0}return a.force_process&&setTimeout(e,a.interval),i.push(l),t(l)}}),t.extend({force_appear:function(){return r?(e(),!0):!1}})}(jQuery),function(t){var e={init:function(n){var i=t.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(){},onInit:function(){}},n||{}),r=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage?i.currentPage-1:i.invertPageOrder?i.pages-1:0,i.halfDisplayed=i.displayedPages/2,this.each(function(){r.addClass(i.cssStyle+" simple-pagination").data("pagination",i),e._draw.call(r)}),i.onInit(),this},selectPage:function(t){return e._selectPage.call(this,t-1),this},prevPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1):t.currentPage>0&&e._selectPage.call(this,t.currentPage-1),this},nextPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage>0&&e._selectPage.call(this,t.currentPage-1):t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(t){this.data("pagination").pages=t},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(t){var n=this.data("pagination");return n.currentPage=t-1,this.data("pagination",n),e._draw.call(this),this},redraw:function(){return e._draw.call(this),this},disable:function(){var t=this.data("pagination");return t.disabled=!0,this.data("pagination",t),e._draw.call(this),this},enable:function(){var t=this.data("pagination");return t.disabled=!1,this.data("pagination",t),e._draw.call(this),this},updateItems:function(t){var n=this.data("pagination");n.items=t,n.pages=e._getPages(n),this.data("pagination",n),e._draw.call(this)},updateItemsOnPage:function(t){var n=this.data("pagination");return n.itemsOnPage=t,n.pages=e._getPages(n),this.data("pagination",n),e._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var n,i,r=this.data("pagination"),s=e._getInterval(r);e.destroy.call(this),i="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var o="UL"===i?this:t("<ul"+(r.listStyle?' class="'+r.listStyle+'"':"")+"></ul>").appendTo(this);if(r.prevText&&e._appendItem.call(this,r.invertPageOrder?r.currentPage+1:r.currentPage-1,{text:r.prevText,classes:"prev"}),r.nextText&&r.nextAtFront&&e._appendItem.call(this,r.invertPageOrder?r.currentPage-1:r.currentPage+1,{text:r.nextText,classes:"next"}),r.invertPageOrder){if(s.end<r.pages&&r.edges>0){if(r.useStartEdge){var a=Math.max(r.pages-r.edges,s.end);for(n=r.pages-1;n>=a;n--)e._appendItem.call(this,n)}r.pages-r.edges>s.end&&r.pages-r.edges-s.end!=1?o.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):r.pages-r.edges-s.end==1&&e._appendItem.call(this,s.end)}}else if(s.start>0&&r.edges>0){if(r.useStartEdge){var l=Math.min(r.edges,s.start);for(n=0;l>n;n++)e._appendItem.call(this,n)}r.edges<s.start&&s.start-r.edges!=1?o.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):s.start-r.edges==1&&e._appendItem.call(this,r.edges)}if(r.invertPageOrder)for(n=s.end-1;n>=s.start;n--)e._appendItem.call(this,n);else for(n=s.start;n<s.end;n++)e._appendItem.call(this,n);if(r.invertPageOrder){if(s.start>0&&r.edges>0&&(r.edges<s.start&&s.start-r.edges!=1?o.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):s.start-r.edges==1&&e._appendItem.call(this,r.edges),r.useEndEdge)){var l=Math.min(r.edges,s.start);for(n=l-1;n>=0;n--)e._appendItem.call(this,n)}}else if(s.end<r.pages&&r.edges>0&&(r.pages-r.edges>s.end&&r.pages-r.edges-s.end!=1?o.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):r.pages-r.edges-s.end==1&&e._appendItem.call(this,s.end),r.useEndEdge)){var a=Math.max(r.pages-r.edges,s.end);for(n=a;n<r.pages;n++)e._appendItem.call(this,n)}r.nextText&&!r.nextAtFront&&e._appendItem.call(this,r.invertPageOrder?r.currentPage-1:r.currentPage+1,{text:r.nextText,classes:"next"}),r.ellipsePageSet&&!r.disabled&&e._ellipseClick.call(this,o)},_getPages:function(t){var e=Math.ceil(t.items/t.itemsOnPage);return e||1},_getInterval:function(t){return{start:Math.ceil(t.currentPage>t.halfDisplayed?Math.max(Math.min(t.currentPage-t.halfDisplayed,t.pages-t.displayedPages),0):0),end:Math.ceil(t.currentPage>t.halfDisplayed?Math.min(t.currentPage+t.halfDisplayed,t.pages):Math.min(t.displayedPages,t.pages))}},_appendItem:function(n,i){var r,s,o=this,a=o.data("pagination"),l=t("<li></li>"),c=o.find("ul");n=0>n?0:n<a.pages?n:a.pages-1,r={text:n+1,classes:""},a.labelMap.length&&a.labelMap[n]&&(r.text=a.labelMap[n]),r=t.extend(r,i||{}),n==a.currentPage||a.disabled?(l.addClass(a.disabled||"prev"===r.classes||"next"===r.classes?"disabled":"active"),s=t('<span class="current">'+r.text+"</span>")):(s=t('<a href="'+a.hrefTextPrefix+(n+1)+a.hrefTextSuffix+'" class="page-link">'+r.text+"</a>"),s.click(function(t){return e._selectPage.call(o,n,t)})),r.classes&&s.addClass(r.classes),l.append(s),c.length?c.append(l):o.append(l)},_selectPage:function(t,n){var i=this.data("pagination");return i.currentPage=t,i.selectOnClick&&e._draw.call(this),i.onPageClick(t+1,n)},_ellipseClick:function(n){var i=this,r=this.data("pagination"),s=n.find(".ellipse");s.addClass("clickable").parent().removeClass("disabled"),s.click(function(){if(!r.disable){var n=t(this),o=(parseInt(n.parent().prev().text(),10)||0)+1;n.html('<input type="number" min="1" max="'+r.pages+'" step="1" value="'+o+'">').find("input").focus().click(function(t){t.stopPropagation()}).keyup(function(n){var o=t(this).val();13===n.which&&""!==o?o>0&&o<=r.pages&&e._selectPage.call(i,o-1):27===n.which&&s.empty().html(r.ellipseText)}).bind("blur",function(){var n=t(this).val();return""!==n&&e._selectPage.call(i,n-1),s.empty().html(r.ellipseText),!1})}return!1})}};t.fn.pagination=function(n){return e[n]&&"_"!=n.charAt(0)?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.pagination"):e.init.apply(this,arguments)}}(jQuery);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return a[t]||"&amp;"}function n(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function i(t){return t instanceof o?t.toString():t||0===t?(t=""+t,c.test(t)?t.replace(l,e):t):""}function r(t){return t||0===t?d(t)&&0===t.length?!0:!1:!0}var s={},o=t,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;s.extend=n;var h=Object.prototype.toString;s.toString=h;var u=function(t){return"function"==typeof t};u(/x/)&&(u=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var u;s.isFunction=u;var d=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===h.call(t):!1};return s.isArray=d,s.escapeExpression=i,s.isEmpty=r,s
}(t),n=function(){"use strict";function t(t,e){var i;e&&e.firstLine&&(i=e.firstLine,t+=" - "+i+":"+e.firstColumn);for(var r=Error.prototype.constructor.call(this,t),s=0;s<n.length;s++)this[n[s]]=r[n[s]];i&&(this.lineNumber=i,this.column=e.firstColumn)}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new a("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},r=n.fn;return d(e)&&(e=e.call(this)),e===!0?r(this):e===!1||null==e?i(this):u(e)?e.length>0?t.helpers.each(e,n):i(this):r(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,r=e.inverse,s=0,o="";if(d(t)&&(t=t.call(this)),e.data&&(n=m(e.data)),t&&"object"==typeof t)if(u(t))for(var a=t.length;a>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===t.length-1),o+=i(t[s],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l,n.index=s,n.first=0===s),o+=i(t[l],{data:n}),s++);return 0===s&&(o=r(this)),o}),t.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return d(t)&&(t=t.call(this)),o.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function r(t,e){g.log(t,e)}var s={},o=t,a=e,l="1.3.0";s.VERSION=l;var c=4;s.COMPILER_REVISION=c;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=h;var u=o.isArray,d=o.isFunction,f=o.toString,p="[object Object]";s.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:g,log:r,registerHelper:function(t,e,n){if(f.call(t)===p){if(n||e)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){f.call(t)===p?o.extend(this.partials,t):this.partials[t]=e}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(g.level<=t){var n=g.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};s.logger=g,s.log=r;var m=function(t){var e={};return o.extend(e,t),e};return s.createFrame=m,s}(e,n),r=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=d;if(e!==n){if(n>e){var i=f[n],r=f[e];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new u("No environment passed to template");var n=function(t,n,i,r,s,o){var a=e.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(e.compile){var l={helpers:r,partials:s,data:o};return s[n]=e.compile(t,{data:void 0!==o},e),s[n](i,l)}throw new u("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:h.escapeExpression,invokePartial:n,programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=o(t,e,n):i||(i=this.programs[t]=o(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},h.extend(n,e),h.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var s,o,a=r.partial?r:e;r.partial||(s=r.helpers,o=r.partials);var l=t.call(i,a,n,s,o,r.data);return r.partial||e.VM.checkRevision(i.compilerInfo),l}}function s(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r}function o(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}function a(t,e,n,i,r,s){var o={partial:!0,helpers:i,partials:r,data:s};if(void 0===t)throw new u("The partial "+e+" could not be found");return t instanceof Function?t(n,o):void 0}function l(){return""}var c={},h=t,u=e,d=n.COMPILER_REVISION,f=n.REVISION_CHANGES;return c.checkRevision=i,c.template=r,c.programWithDepth=s,c.program=o,c.invokePartial=a,c.noop=l,c}(e,n,i),s=function(t,e,n,i,r){"use strict";var s,o=t,a=e,l=n,c=i,h=r,u=function(){var t=new o.HandlebarsEnvironment;return c.extend(t,o),t.SafeString=a,t.Exception=l,t.Utils=c,t.VM=h,t.template=function(e){return h.template(e,t)},t},d=u();return d.create=u,s=d}(i,t,n,e,r),o=function(t){"use strict";function e(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var n,i=t,r={ProgramNode:function(t,n,i,s){var o,a;3===arguments.length?(s=i,i=null):2===arguments.length&&(s=n,n=null),e.call(this,s),this.type="program",this.statements=t,this.strip={},i?(a=i[0],a?(o={first_line:a.firstLine,last_line:a.lastLine,last_column:a.lastColumn,first_column:a.firstColumn},this.inverse=new r.ProgramNode(i,n,o)):this.inverse=new r.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(t,n,i,s,o){if(e.call(this,o),this.type="mustache",this.strip=s,null!=i&&i.charAt){var a=i.charAt(3)||i.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!i;this.sexpr=t instanceof r.SexprNode?t:new r.SexprNode(t,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,n,i){e.call(this,i),this.type="sexpr",this.hash=n;var r=this.id=t[0],s=this.params=t.slice(1),o=this.eligibleHelper=r.isSimple;this.isHelper=o&&(s.length||n)},PartialNode:function(t,n,i,r){e.call(this,r),this.type="partial",this.partialName=t,this.context=n,this.strip=i},BlockNode:function(t,n,r,s,o){if(e.call(this,o),t.sexpr.id.original!==s.path.original)throw new i(t.sexpr.id.original+" doesn't match "+s.path.original,this);this.type="block",this.mustache=t,this.program=n,this.inverse=r,this.strip={left:t.strip.left,right:s.strip.right},(n||r).strip.left=t.strip.right,(r||n).strip.right=s.strip.left,r&&!n&&(this.isInverse=!0)},ContentNode:function(t,n){e.call(this,n),this.type="content",this.string=t},HashNode:function(t,n){e.call(this,n),this.type="hash",this.pairs=t},IdNode:function(t,n){e.call(this,n),this.type="ID";for(var r="",s=[],o=0,a=0,l=t.length;l>a;a++){var c=t[a].part;if(r+=(t[a].separator||"")+c,".."===c||"."===c||"this"===c){if(s.length>0)throw new i("Invalid path: "+r,this);".."===c?o++:this.isScoped=!0}else s.push(c)}this.original=r,this.parts=s,this.string=s.join("."),this.depth=o,this.isSimple=1===t.length&&!this.isScoped&&0===o,this.stringModeValue=this.string},PartialNameNode:function(t,n){e.call(this,n),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,n){e.call(this,n),this.type="DATA",this.id=t},StringNode:function(t,n){e.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,n){e.call(this,n),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,n){e.call(this,n),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,n){e.call(this,n),this.type="comment",this.comment=t}};return n=r}(n),a=function(){"use strict";var t,e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(e,n,i,r,s,o){var a=o.length-1;switch(s){case 1:return new r.ProgramNode(o[a-1],this._$);case 2:return new r.ProgramNode([],this._$);case 3:this.$=new r.ProgramNode([],o[a-1],o[a],this._$);break;case 4:this.$=new r.ProgramNode(o[a-2],o[a-1],o[a],this._$);break;case 5:this.$=new r.ProgramNode(o[a-1],o[a],[],this._$);break;case 6:this.$=new r.ProgramNode(o[a],this._$);break;case 7:this.$=new r.ProgramNode([],this._$);break;case 8:this.$=new r.ProgramNode([],this._$);break;case 9:this.$=[o[a]];break;case 10:o[a-1].push(o[a]),this.$=o[a-1];break;case 11:this.$=new r.BlockNode(o[a-2],o[a-1].inverse,o[a-1],o[a],this._$);break;case 12:this.$=new r.BlockNode(o[a-2],o[a-1],o[a-1].inverse,o[a],this._$);break;case 13:this.$=o[a];break;case 14:this.$=o[a];break;case 15:this.$=new r.ContentNode(o[a],this._$);break;case 16:this.$=new r.CommentNode(o[a],this._$);break;case 17:this.$=new r.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 18:this.$=new r.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 19:this.$={path:o[a-1],strip:t(o[a-2],o[a])};break;case 20:this.$=new r.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 21:this.$=new r.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 22:this.$=new r.PartialNode(o[a-2],o[a-1],t(o[a-3],o[a]),this._$);break;case 23:this.$=t(o[a-1],o[a]);break;case 24:this.$=new r.SexprNode([o[a-2]].concat(o[a-1]),o[a],this._$);break;case 25:this.$=new r.SexprNode([o[a]],null,this._$);break;case 26:this.$=o[a];break;case 27:this.$=new r.StringNode(o[a],this._$);break;case 28:this.$=new r.IntegerNode(o[a],this._$);break;case 29:this.$=new r.BooleanNode(o[a],this._$);break;case 30:this.$=o[a];break;case 31:o[a-1].isHelper=!0,this.$=o[a-1];break;case 32:this.$=new r.HashNode(o[a],this._$);break;case 33:this.$=[o[a-2],o[a]];break;case 34:this.$=new r.PartialNameNode(o[a],this._$);break;case 35:this.$=new r.PartialNameNode(new r.StringNode(o[a],this._$),this._$);break;case 36:this.$=new r.PartialNameNode(new r.IntegerNode(o[a],this._$));break;case 37:this.$=new r.DataNode(o[a],this._$);break;case 38:this.$=new r.IdNode(o[a],this._$);break;case 39:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 40:this.$=[{part:o[a]}];break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 47:this.$=[o[a]];break;case 48:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],s=[],o=this.table,a="",l=0,c=0,h=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,g,m,v,y,w,b,C,A={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===f||"undefined"==typeof f)&&(f=e()),m=o[g]&&o[g][f]),"undefined"==typeof m||!m.length||!m[0]){var F="";if(!h){C=[];for(y in o[g])this.terminals_[y]&&y>2&&C.push("'"+this.terminals_[y]+"'");F=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(F,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:u,expected:C})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(m[1]),f=null,p?(f=p,p=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(w=this.productions_[m[1]][1],A.$=r[r.length-w],A._$={first_line:s[s.length-(w||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(w||1)].first_column,last_column:s[s.length-1].last_column},d&&(A._$.range=[s[s.length-(w||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(A,a,c,l,this.yy,m[1],r,s),"undefined"!=typeof v)return v;w&&(i=i.slice(0,-1*w*2),r=r.slice(0,-1*w),s=s.slice(0,-1*w)),i.push(this.productions_[m[1]][0]),r.push(A.$),s.push(A._$),b=o[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(n=this._input.match(this.rules[s[o]]),!n||e&&!(n[0].length>e[0].length)||(e=n,i=o,this.options.flex));o++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return r(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return r(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return e.yytext=r(1,2).replace(/\\"/g,'"'),32;case 24:return e.yytext=r(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return e.yytext=r(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return n.lexer=i,e.prototype=n,n.Parser=e,new e}();return t=e}(),l=function(t,e){"use strict";function n(t){return t.constructor===s.ProgramNode?t:(r.yy=s,r.parse(t))}var i={},r=t,s=e;return i.parser=r,i.parse=n,i}(a,o),c=function(t){"use strict";function e(){}function n(t,e,n){if(null==t||"string"!=typeof t&&t.constructor!==n.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var i=n.parse(t),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)}function i(t,e,n){function i(){var i=n.parse(t),r=(new n.Compiler).compile(i,e),s=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(s)}if(null==t||"string"!=typeof t&&t.constructor!==n.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var r;return function(t,e){return r||(r=i()),r.call(this,t,e)}}var r={},s=t;return r.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var t,e,n,i=this.opcodes,r=[],s=0,o=i.length;o>s;s++)if(t=i[s],"DECLARE"===t.opcode)r.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)n=t.args[a],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),e.push(n);r.push(t.opcode+" "+e.join(" "))}return r.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;e>n;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var s=0;s<i.args.length;s++)if(i.args[s]!==r.args[s])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(n=0;e>n;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(t)},accept:function(t){var e,n=t.strip||{};return n.left&&this.opcode("strip"),e=this[t.type](t),n.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,n=0,i=e.length;i>n;n++)this.accept(e[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,n=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,s=n.depths.list.length;s>r;r++)e=n.depths.list[r],2>e||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,n=t.program,i=t.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=e.sexpr,s=this.classifySexpr(r);"helper"===s?this.helperSexpr(r,n,i):"simple"===s?(this.simpleSexpr(r),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,n,i=t.pairs;this.opcode("pushHash");for(var r=0,s=i.length;s>r;r++)e=i[r],n=e[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(t,e,n){var i=t.id,r=i.parts[0],s=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new s("You specified knownHelpersOnly, but used the unknown helper "+r,t);this.opcode("invokeHelper",i.length,r,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var n=1,i=t.parts.length;i>n;n++)this.opcode("lookup",t.parts[n])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new s("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,n=0,i=e.length;i>n;n++)this.opcode("lookup",e[n])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,n=t.eligibleHelper,i=this.options;if(n&&!e){var r=t.id.parts[0];i.knownHelpers[r]?e=!0:i.knownHelpersOnly&&(n=!1)}return e?"helper":n?"ambiguous":"simple"},pushParams:function(t){for(var e,n=t.length;n--;)e=t[n],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,n){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}},r.precompile=n,r.compile=i,r}(n),h=function(t,e){"use strict";function n(t){this.value=t}function i(){}var r,s=t.COMPILER_REVISION,o=t.REVISION_CHANGES,a=t.log,l=e;i.prototype={nameLookup:function(t,e){var n,r;return 0===t.indexOf("depth")&&(n=!0),r=/^[0-9]+$/.test(e)?t+"["+e+"]":i.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",n?"("+t+" && "+r+")":r},compilerInfo:function(){var t=s,e=o[t];return"this.compilerInfo = ["+t+",'"+e+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,n,i){this.environment=t,this.options=e||{},a("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var r,s=t.opcodes;this.i=0;for(var o=s.length;this.i<o;this.i++)r=s[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args),r.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,n="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(n+=" data = data || {};"),t.push(n)}t.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,s=this.environment.depths.list.length;s>r;r++)i.push("depth"+this.environment.depths.list[r]);var o=this.mergeSource();if(this.isChild||(o=this.compilerInfo()+o),t)return i.push(o),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+o+"}";return a("debug",l+"\n\n"),l
},mergeSource:function(){for(var t,e="",n=0,i=this.source.length;i>n;n++){var r=this.source[n];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=r+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(t,e,!0),r=this.nameLookup("depth"+this.lastContext,e,"context"),s="helper = "+i.name+" || "+r;i.paramsInit&&(s+=","+i.paramsInit),this.push("("+s+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),r=this.nameLookup("depth"+this.lastContext,t,"context"),s=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+s+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+r+"; "+s+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),e=this.popStack());var r=this.hash;e&&r.contexts.push("'"+t+"': "+e),n&&r.types.push("'"+t+"': "+n),r.values.push("'"+t+"': ("+i+")")},compiler:i,compileChildren:function(t,e){for(var n,i,r=t.children,s=0,o=r.length;o>s;s++){n=r[s],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,e,this.context),this.context.environments[a]=n):(n.index=a,n.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;n>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,n=this.environment.children[t],i=n.depths.list,r=[n.index,n.name,"data"],s=0,o=i.length;o>s;s++)e=i[s],r.push(1===e?"depth0":"depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i,r,s="",o=this.isInline();if(o){var a=this.popStack(!0);if(a instanceof n)e=a.value,r=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();s="("+this.push(l)+" = "+a+"),",e=this.topStack()}}else e=this.topStack();var c=t.call(this,e);return o?(r||this.popStack(),i&&this.stackSlot--,this.push("("+s+c+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+s+c+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var r=t[e];r instanceof n?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,i=e[e.length-1];return!t&&i instanceof n?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,n){var i=[],r=this.setupParams(t,i,n),s=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:s,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupOptions:function(t,e){var n,i,r,s=[],o=[],a=[];s.push("hash:"+this.popStack()),this.options.stringParams&&(s.push("hashTypes:"+this.popStack()),s.push("hashContexts:"+this.popStack())),i=this.popStack(),r=this.popStack(),(r||i)&&(r||(this.context.aliases.self="this",r="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),s.push("inverse:"+i),s.push("fn:"+r));for(var l=0;t>l;l++)n=this.popStack(),e.push(n),this.options.stringParams&&(a.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+o.join(",")+"]"),s.push("types:["+a.join(",")+"]")),this.options.data&&s.push("data:data"),s},setupParams:function(t,e,n){var i="{"+this.setupOptions(t,e).join(",")+"}";return n?(this.useRegister("options"),e.push("options"),"options="+i):(e.push(i),"")}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),h=i.RESERVED_WORDS={},u=0,d=c.length;d>u;u++)h[c[u]]=!0;return i.isValidJavaScriptVariableName=function(t){return!i.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)?!0:!1},r=i}(i,n),u=function(t,e,n,i,r){"use strict";var s,o=t,a=e,l=n.parser,c=n.parse,h=i.Compiler,u=i.compile,d=i.precompile,f=r,p=o.create,g=function(){var t=p();return t.compile=function(e,n){return u(e,n,t)},t.precompile=function(e,n){return d(e,n,t)},t.AST=a,t.Compiler=h,t.JavaScriptCompiler=f,t.Parser=l,t.parse=c,t};return o=g(),o.create=g,s=o}(s,o,l,c,h);return u}();!function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t){return function(){return this[t].apply(this,arguments)}}function s(e,n){function i(t,e){return e.toLowerCase()}var r,s=t(e).data(),o={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in s)n.test(l)&&(r=l.replace(a,i),o[r]=s[l]);return o}function o(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var a=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=d.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate=n.multidate!==!1?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=g.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):g.parseDate(n.startDate,r,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):g.parseDate(n.endDate,r,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var s=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===s.length)switch(s[0]){case"top":case"bottom":n.orientation.y=s[0];break;case"left":case"right":n.orientation.x=s[0]}else o=t.grep(s,function(t){return/^left|right$/.test(t)}),n.orientation.x=o[0]||"auto",o=t.grep(s,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=o[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,s=0;s<t.length;s++)n=t[s][0],2===t[s].length?(i=e,r=t[s][1]):3===t[s].length&&(i=t[s][1],r=t[s][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,s=0;s<t.length;s++)n=t[s][0],2===t[s].length?(r=e,i=t[s][1]):3===t[s].length&&(r=t[s][1],i=t[s][2]),n.off(i,r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=a.width(),s=a.height(),o=a.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=c.left,f=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-u)):(this.picker.addClass("datepicker-orient-left"),c.left<0?d-=c.left-i:c.left+e>r&&(d=r-e-i));var p,g,m=this.o.orientation.y;"auto"===m&&(p=-o+c.top-n,g=o+s-(c.top+h+n),m=Math.max(p,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f+=h:f-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:d,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,r=new Date(this.viewDate),s=r.getUTCFullYear(),o=r.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,h=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,u=p[this.o.language].today||p.en.today||"",d=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[o]+" "+s),this.picker.find("tfoot th.today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(s,o-1,28),m=g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,w=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),C=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),A=new Date(Number(A=n(C.getUTCFullYear(),0,1))+(11-A.getUTCDay())%7*864e5),F=(C-A)/864e5/7+1;w.push('<td class="cw">'+F+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==t.noop){var E=this.o.beforeShowDay(this._utc_to_local(f));E===e?E={}:"boolean"==typeof E?E={enabled:E}:"string"==typeof E&&(E={classes:E}),E.enabled===!1&&y.push("disabled"),E.classes&&(y=y.concat(E.classes.split(/\s+/))),E.tooltip&&(i=E.tooltip)}y=t.unique(y),w.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var x=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&x.eq(e.getUTCMonth()).addClass("active")}),(a>s||s>c)&&x.addClass("disabled"),s===a&&x.slice(0,l).addClass("disabled"),s===c&&x.slice(h+1).addClass("disabled"),w="",s=10*parseInt(s/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var k,D=t.map(this.dates,function(t){return t.getUTCFullYear()}),S=-1;11>S;S++)k=["year"],-1===S?k.push("old"):10===S&&k.push("new"),-1!==t.inArray(s,D)&&k.push("active"),(a>s||s>c)&&k.push("disabled"),w+='<span class="'+k.join(" ")+'">'+s+"</span>",s+=1;_.html(w)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var i,r,s,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=g.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(s=1,r=o.parent().find("span").index(o),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,s))):(s=1,r=0,i=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,s))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(s=parseInt(o.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o.is(".old")?0===r?(r=11,i-=1):r-=1:o.is(".new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,s)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,r,s=new Date(t.valueOf()),o=s.getUTCDate(),a=s.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)r=-1===n?function(){return s.getUTCMonth()===a}:function(){return s.getUTCMonth()!==i},i=a+n,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)s=this.moveMonth(s,n);i=s.getUTCMonth(),s.setUTCDate(o),r=function(){return i!==s.getUTCMonth()}}for(;r();)s.setUTCDate(--o),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,n,r,s=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),r=new Date(o),r.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),r=new Date(o),r.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(o),s=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(s){this._trigger(this.dates.length?"changeDate":"clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var h=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),r=t.inArray(e.target,this.inputs),s=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[r])for(;s>r&&i>this.dates[r];)this.pickers[r++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var u=t.fn.datepicker;t.fn.datepicker=function(n){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var a=t(this),l=a.data("datepicker"),u="object"==typeof n&&n;if(!l){var f=s(this,"date"),p=t.extend({},d,f,u),g=o(p.language),m=t.extend({},d,g,f,u);if(a.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||a.find("input").toArray()};a.data("datepicker",l=new h(this,t.extend(m,v)))}else a.data("datepicker",l=new c(this,m))}return"string"==typeof n&&"function"==typeof l[n]&&(r=l[n].apply(l,i),r!==e)?!1:void 0}),r!==e?r:this};var d=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,r,s){function o(){var t=this.slice(0,d[h].length),e=d[h].slice(0,t.length);return t===e}if(!i)return e;if(i instanceof Date)return i;
"string"==typeof r&&(r=g.parseFormat(r));var a,l,h,u=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,h=0;h<d.length;h++)switch(a=u.exec(d[h]),l=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}d=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,m,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=r.parts.slice();if(d.length!==b.length&&(b=t(b).filter(function(e,n){return-1!==t.inArray(n,y)}).toArray()),d.length===b.length){var C;for(h=0,C=b.length;C>h;h++){if(f=parseInt(d[h],10),a=b[h],isNaN(f))switch(a){case"MM":m=t(p[s].months).filter(o),f=t.inArray(m[0],p[s].months)+1;break;case"M":m=t(p[s].monthsShort).filter(o),f=t.inArray(m[0],p[s].monthsShort)+1}v[a]=f}var A,F;for(h=0;h<y.length;h++)F=y[h],F in v&&!isNaN(v[F])&&(A=new Date(i),w[F](A,v[F]),isNaN(A)||(i=A))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=g.parseFormat(n));var r={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var s=t.extend([],n.separators),o=0,a=n.parts.length;a>=o;o++)s.length&&e.push(s.shift()),e.push(r[n.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t,e,n){"use strict";var i=function(e,n){this.widget="",this.$element=t(e),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.disableMousewheel=n.disableMousewheel,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.orientation=n.orientation,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.showWidgetOnAddonClick=n.showWidgetOnAddonClick,this._init()};i.prototype={constructor:i,_init:function(){var e=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.$element.on(this.template?{"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}:{"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1?t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),i=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},getTemplate:function(){var t,e,n,i,r,s;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',r='<span class="bootstrap-timepicker-meridian"></span>'),s='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+r+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">\xd7</a><h3>Pick a Time</h3></div><div class="modal-content">'+s+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+s+"</div>"}return t},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(n).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var n=e.originalEvent.wheelDelta||-e.originalEvent.detail,i=null;switch("mousewheel"===e.type?i=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(i=40*e.originalEvent.detail),i&&(e.preventDefault(),t(this).scrollTop(i+t(this).scrollTop())),this.highlightedUnit){case"minute":n>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":n>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:n>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},place:function(){if(!this.isInline){var n=this.$widget.outerWidth(),i=this.$widget.outerHeight(),r=10,s=t(e).width(),o=t(e).height(),a=t(e).scrollTop(),l=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,c=this.component?this.component.parent().offset():this.$element.offset(),h=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),d=c.left,f=c.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.picker.addClass("datepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(d-=n-u)):(this.$widget.addClass("timepicker-orient-left"),c.left<0?d-=c.left-r:c.left+n>s&&(d=s-n-r));var p,g,m=this.orientation.y;"auto"===m&&(p=-a+c.top-i,g=a+o-(c.top+h+i),m=Math.max(p,g)===g?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+m),"top"===m?f+=h:f-=i+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:f,left:d,zIndex:l})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,n=e.getHours(),i=e.getMinutes(),r=e.getSeconds(),s="AM";0!==r&&(r=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep,60===r&&(i+=1,r=0)),0!==i&&(i=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep,60===i&&(n+=1,i=0)),this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),s="PM"):s="AM"),this.hour=n,this.minute=i,this.second=r,this.meridian=s,this.update()}else t===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(!t)return void this.clear();var n,i,r,s,o;"object"==typeof t&&t.getMonth?(i=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),this.showMeridian&&(o="AM",i>12&&(o="PM",i%=12),12===i&&(o="PM"))):(o=null!==t.match(/p/i)?"PM":"AM",t=t.replace(/[^0-9\:]/g,""),n=t.split(":"),i=n[0]?n[0].toString():n.toString(),r=n[1]?n[1].toString():"",s=n[2]?n[2].toString():"",i.length>4&&(s=i.substr(4,2)),i.length>2&&(r=i.substr(2,2),i=i.substr(0,2)),r.length>2&&(s=r.substr(2,2),r=r.substr(0,2)),s.length>2&&(s=s.substr(2,2)),i=parseInt(i,10),r=parseInt(r,10),s=parseInt(s,10),isNaN(i)&&(i=0),isNaN(r)&&(r=0),isNaN(s)&&(s=0),this.showMeridian?1>i?i=1:i>12&&(i=12):(i>=24?i=23:0>i&&(i=0),13>i&&"PM"===o&&(i+=12)),0>r?r=0:r>=60&&(r=59),this.showSeconds&&(isNaN(s)?s=0:0>s?s=0:s>=60&&(s=59))),this.hour=i,this.minute=r,this.second=s,this.meridian=o,this.update(e)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var e=this;t(n).on("mousedown.timepicker, touchend.timepicker",function(t){e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,n=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target),i=n.closest("a").data("action");i&&this[i](),this.update(),n.is("input")&&n.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var n=t(e.target),i=n.attr("class").replace("bootstrap-timepicker-","");switch(e.keyCode){case 9:if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.keyCode||77===t.keyCode||80===t.keyCode||46===t.keyCode||8===t.keyCode||t.keyCode>=46&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=t(this),s=r.data("timepicker"),o="object"==typeof e&&e;s||r.data("timepicker",s=new i(this,t.extend({},t.fn.timepicker.defaults,o,t(this).data()))),"string"==typeof e&&s[e].apply(s,n)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0},t.fn.timepicker.Constructor=i}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function i(){var i,r;return n.settings.submitHandler?(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),r=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),void 0!==r?r:!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var e,n;return t(this[0]).is("form")?e=this.validate().form():(e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e})),e},removeAttrs:function(e){var n={},i=this;return t.each(e.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(e,n){var i,r,s,o,a,l,c=this[0];if(e)switch(i=t.data(c.form,"validator").settings,r=i.rules,s=t.validator.staticRules(c),e){case"add":t.extend(s,t.validator.normalizeRule(n)),delete s.messages,r[c.name]=s,n.messages&&(i.messages[c.name]=t.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=s[n],delete s[n],"required"===n&&t(c).removeAttr("aria-required")}),l):(delete r[c.name],s)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c),o.required&&(a=o.required,delete o.required,o=t.extend({required:a},o),t(c).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=t.extend(o,{remote:a})),o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n=this.clean(e),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=t(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),t(e).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!e.objectLength(t(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i=t(e),r=e.type;return"radio"===r||"checkbox"===r?t("input[name='"+e.name+"']:checked").val():"number"===r&&"undefined"!=typeof e.validity?e.validity.badInput?!1:i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,s=t(e).rules(),o=t.map(s,function(t,e){return e}).length,a=!1,l=this.elementValue(e);for(i in s){r={method:i,parameters:s[i]};try{if(n=t.validator.methods[i].call(this,l,e,r.parameters),"dependency-mismatch"===n&&1===o){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",c),c}}if(!a)return this.objectLength(s)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e,method:n.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,s,o=this.errorsFor(e),a=this.idOrName(e),l=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(n)):(o=t("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(n||""),i=o,this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),o.is("label")?o.attr("for",a):0===o.parents("label[for='"+a+"']").length&&(s=o.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+s+"\\b"))||(l+=" "+s):l=s,t(e).attr("aria-describedby",l),r=this.groups[e.name],r&&t.each(this.groups,function(e,n){n===r&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))
}))),!n&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var n=this.idOrName(e),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n,i,r={},s=t(e),o=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(i=e.getAttribute(n),""===i&&(i=!0),i=!!i):i=s.attr(n),/min|max/.test(n)&&(null===o||/number|range|text/.test(o))&&(i=Number(i)),i||0===i?r[n]=i:o===n&&"range"!==o&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},s=t(e);for(n in t.validator.methods)i=s.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(r===!1)return void delete e[i];if(r.param||r.depends){var s=!0;switch(typeof r.depends){case"string":s=!!t(r.depends,n.form).length;break;case"function":s=r.depends.call(n,n)}s?e[i]=void 0!==r.param?r.param:!0:delete e[i]}}),t.each(e,function(i,r){e[i]=t.isFunction(r)?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,s=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)i=t.charAt(n),s=parseInt(i,10),o&&(s*=2)>9&&(s-=9),r+=s,o=!o;return r%10===0},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var r,s,o=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),o.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=o.message,i="string"==typeof i&&{url:i}||i,o.old===e?o.valid:(o.old=e,r=this,this.startRequest(n),s={},s[n.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,context:r.currentForm,success:function(i){var s,a,l,c=i===!0||"true"===i;r.settings.messages[n.name].remote=o.originalMessage,c?(l=r.formSubmitted,r.prepareElement(n),r.formSubmitted=l,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(s={},a=i||r.defaultMessage(n,"remote"),s[n.name]=o.message=t.isFunction(a)?a(e):a,r.invalid[n.name]=!0,r.showErrors(s)),o.valid=c,r.stopRequest(n,c)}},i)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,s=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(n[s]&&n[s].abort(),n[s]=e.apply(this,arguments),n[s]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,n,i){return this.bind(n,function(n){var r=t(n.target);return r.is(e)?i.apply(r,arguments):void 0})}})});var DateFormat={};!function(t){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],s={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;t.format=function(){function t(t){return e[parseInt(t,10)]||t}function a(t){return n[parseInt(t,10)]||t}function l(t){var e=parseInt(t,10)-1;return i[e]||t}function c(t){var e=parseInt(t,10)-1;return r[e]||t}function h(t){return s[t]||t}function u(t){var e,n,i,r,s,o=t,a="";return-1!==o.indexOf(".")&&(r=o.split("."),o=r[0],a=r[r.length-1]),s=o.split(":"),3===s.length?(e=s[0],n=s[1],i=s[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),o=o.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:o,hour:e,minute:n,second:i,millis:a}):{time:"",hour:"",minute:"",second:"",millis:""}}function d(t,e){for(var n=e-String(t).length,i=0;n>i;i++)t="0"+t;return t}return{parseDate:function(t){var e,n,i={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof t)return this.parseDate(new Date(t));if("function"==typeof t.getFullYear)i.year=String(t.getFullYear()),i.month=String(t.getMonth()+1),i.dayOfMonth=String(t.getDate()),i.time=u(t.toTimeString()+"."+t.getMilliseconds());else if(-1!=t.search(o))e=t.split(/[T\+-]/),i.year=e[0],i.month=e[1],i.dayOfMonth=e[2],i.time=u(e[3].split(".")[0]);else switch(e=t.split(" "),6===e.length&&isNaN(e[5])&&(e[e.length]="()"),e.length){case 6:i.year=e[5],i.month=h(e[1]),i.dayOfMonth=e[2],i.time=u(e[3]);break;case 2:n=e[0].split("-"),i.year=n[0],i.month=n[1],i.dayOfMonth=n[2],i.time=u(e[1]);break;case 7:case 9:case 10:i.year=e[3],i.month=h(e[1]),i.dayOfMonth=e[2],i.time=u(e[4]);break;case 1:n=e[0].split(""),i.year=n[0]+n[1]+n[2]+n[3],i.month=n[5]+n[6],i.dayOfMonth=n[8]+n[9],i.time=u(n[13]+n[14]+n[15]+n[16]+n[17]+n[18]+n[19]+n[20]);break;default:return null}return i.date=i.time?new Date(i.year,i.month-1,i.dayOfMonth,i.time.hour,i.time.minute,i.time.second,i.time.millis):new Date(i.year,i.month-1,i.dayOfMonth),i.dayOfWeek=String(i.date.getDay()),i},date:function(e,n){try{var i=this.parseDate(e);if(null===i)return e;for(var r,s=i.year,o=i.month,h=i.dayOfMonth,u=i.dayOfWeek,f=i.time,p="",g="",m="",v=!1,y=0;y<n.length;y++){var w=n.charAt(y),b=n.charAt(y+1);if(v)"'"==w?(g+=""===p?"'":p,p="",v=!1):p+=w;else switch(p+=w,m="",p){case"ddd":g+=t(u),p="";break;case"dd":if("d"===b)break;g+=d(h,2),p="";break;case"d":if("d"===b)break;g+=parseInt(h,10),p="";break;case"D":h=1==h||21==h||31==h?parseInt(h,10)+"st":2==h||22==h?parseInt(h,10)+"nd":3==h||23==h?parseInt(h,10)+"rd":parseInt(h,10)+"th",g+=h,p="";break;case"MMMM":g+=c(o),p="";break;case"MMM":if("M"===b)break;g+=l(o),p="";break;case"MM":if("M"===b)break;g+=d(o,2),p="";break;case"M":if("M"===b)break;g+=parseInt(o,10),p="";break;case"y":case"yyy":if("y"===b)break;g+=p,p="";break;case"yy":if("y"===b)break;g+=String(s).slice(-2),p="";break;case"yyyy":g+=s,p="";break;case"HH":g+=d(f.hour,2),p="";break;case"H":if("H"===b)break;g+=parseInt(f.hour,10),p="";break;case"hh":r=0===parseInt(f.hour,10)?12:f.hour<13?f.hour:f.hour-12,g+=d(r,2),p="";break;case"h":if("h"===b)break;r=0===parseInt(f.hour,10)?12:f.hour<13?f.hour:f.hour-12,g+=parseInt(r,10),p="";break;case"mm":g+=d(f.minute,2),p="";break;case"m":if("m"===b)break;g+=f.minute,p="";break;case"ss":g+=d(f.second.substring(0,2),2),p="";break;case"s":if("s"===b)break;g+=f.second,p="";break;case"S":case"SS":if("S"===b)break;g+=p,p="";break;case"SSS":var C="000"+f.millis.substring(0,3);g+=C.substring(C.length-3),p="";break;case"a":g+=f.hour>=12?"PM":"AM",p="";break;case"p":g+=f.hour>=12?"p.m.":"a.m.",p="";break;case"E":g+=a(u),p="";break;case"'":p="",v=!0;break;default:g+=w,p=""}}return g+=m}catch(A){return console&&console.log&&console.log(A),e}},prettyDate:function(t){var e,n,i;return("string"==typeof t||"number"==typeof t)&&(e=new Date(t)),"object"==typeof t&&(e=new Date(t.toString())),n=((new Date).getTime()-e.getTime())/1e3,i=Math.floor(n/86400),isNaN(i)||0>i?void 0:60>n?"just now":120>n?"1 minute ago":3600>n?Math.floor(n/60)+" minutes ago":7200>n?"1 hour ago":86400>n?Math.floor(n/3600)+" hours ago":1===i?"Yesterday":7>i?i+" days ago":31>i?Math.ceil(i/7)+" weeks ago":i>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(t,e){return this.date(new Date(t),e||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(t){t.format=DateFormat.format}(jQuery),function(){var t,e,n,i,r,s,o,a,l=[].slice,c={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,n,i,r,s;if(i=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(r=0,s=n.length;s>r;r++)e=n[r],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var n,i,r,s,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[t],!i)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(r=s=0,o=i.length;o>s;r=++s)if(n=i[r],n===e){i.splice(r,1);break}return this},t}(),t=function(t){function n(t,e){var r,s,o;if(this.element=t,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,r=null!=(o=n.optionsForElement(this.element))?o:{},this.options=i({},this.defaultOptions,r,null!=e?e:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?n.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:n.getElements(this.options.clickable,"clickable")),this.init()}var i,r;return h(n,t),n.prototype.Emitter=e,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return o},forceFallback:!1,fallback:function(){var t,e,i,r,s,o;for(this.element.className=""+this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),r=0,s=o.length;s>r;r++)t=o[r],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),i=e.getElementsByTagName("span")[0],i&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=n*e.optHeight:null==e.optHeight&&(e.optHeight=1/n*e.optWidth),i=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,r,s,o,a,l,c,h,u,d,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=n.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),u=t.previewElement.querySelectorAll("[data-dz-name]"),s=0,l=u.length;l>s;s++)e=u[s],e.textContent=t.name;for(d=t.previewElement.querySelectorAll("[data-dz-size]"),o=0,c=d.length;c>o;o++)e=d[o],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),i=function(e){return function(i){return i.preventDefault(),i.stopPropagation(),t.status===n.UPLOADING?n.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?n.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),f=t.previewElement.querySelectorAll("[data-dz-remove]"),p=[],a=0,h=f.length;h>a;a++)r=f[a],p.push(r.addEventListener("click",i));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,i,r,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),s=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,r=s.length;r>i;i++)n=s[i],n.alt=t.name,n.src=e;return setTimeout(function(){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var n,i,r,s,o;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),s=t.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],i=0,r=s.length;r>i;i++)n=s[i],o.push(n.textContent=e);return o}},errormultiple:o,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:o,uploadprogress:function(t,e){var n,i,r,s,o;if(t.previewElement){for(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],i=0,r=s.length;r>i;i++)n=s[i],o.push("PROGRESS"===n.nodeName?n.value=e:n.style.width=""+e+"%");return o}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:o,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:o,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var t,e,n,i,r,s,o;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],s=0,o=n.length;o>s;s++){e=n[s];for(t in e)r=e[t],i[t]=r}return i},n.prototype.getAcceptedFiles=function(){var t,e,n,i,r;for(i=this.files,r=[],e=0,n=i.length;n>e;e++)t=i[e],t.accepted&&r.push(t);return r},n.prototype.getRejectedFiles=function(){var t,e,n,i,r;for(i=this.files,r=[],e=0,n=i.length;n>e;e++)t=i[e],t.accepted||r.push(t);return r},n.prototype.getFilesWithStatus=function(t){var e,n,i,r,s;for(r=this.files,s=[],n=0,i=r.length;i>n;n++)e=r[n],e.status===t&&s.push(e);return s},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getActiveFiles=function(){var t,e,i,r,s;for(r=this.files,s=[],e=0,i=r.length;i>e;e++)t=r[e],(t.status===n.UPLOADING||t.status===n.QUEUED)&&s.push(t);return s},n.prototype.init=function(){var t,e,i,r,s,o,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,n,r,s;if(n=t.hiddenFileInput.files,n.length)for(r=0,s=n.length;s>r;r++)e=n[r],t.addFile(e);return i()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,a=this.events,r=0,s=a.length;s>r;r++)t=a[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(n){return e(n),t.emit("dragenter",n)}}(this),dragover:function(t){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(r){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",e(n),t.emit("dragover",n)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(n){return e(n),t.drop(n)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(i){return e!==t.element||i.target===t.element||n.elementInside(i.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var t,e,n,i,r,s,o,a;if(i=0,n=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),s=0,o=a.length;o>s;s++)e=a[s],i+=e.upload.bytesSent,n+=e.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},n.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},n.prototype.getFallbackForm=function(){var t,e,i,r;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=n.createElement(i),"FORM"!==this.element.tagName?(r=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:e)},n.prototype.getExistingFallback=function(){var t,e,n,i,r,s;for(e=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},s=["div","form"],i=0,r=s.length;r>i;i++)if(n=s[i],t=e(this.element.getElementsByTagName(n)))return t},n.prototype.setupEventListeners=function(){var t,e,n,i,r,s,o;for(s=this.listeners,o=[],i=0,r=s.length;r>i;i++)t=s[i],o.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.addEventListener(e,n,!1));return r}());return o},n.prototype.removeEventListeners=function(){var t,e,n,i,r,s,o;for(s=this.listeners,o=[],i=0,r=s.length;r>i;i++)t=s[i],o.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.removeEventListener(e,n,!1));return r}());return o},n.prototype.disable=function(){var t,e,n,i,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(this.cancelUpload(t));return r},n.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(t){var e,n,i,r,s,o,a,l;for(o=["TB","GB","MB","KB","b"],i=r=null,n=a=0,l=o.length;l>a;n=++a)if(s=o[n],e=Math.pow(this.options.filesizeBase,4-n)/10,t>=e){i=t/Math.pow(this.options.filesizeBase,4-n),r=s;break}return i=Math.round(10*i)/10,"<strong>"+i+"</strong> "+r},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(n=t.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))
},n.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},n.prototype.handleFiles=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.addFile(e));return r},n.prototype._addFilesFromItems=function(t){var e,n,i,r,s;for(s=[],i=0,r=t.length;r>i;i++)n=t[i],s.push(null!=n.webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?this.addFile(n.getAsFile()):e.isDirectory?this._addFilesFromDirectory(e,e.name):void 0:null!=n.getAsFile?null==n.kind||"file"===n.kind?this.addFile(n.getAsFile()):void 0:void 0);return s},n.prototype._addFilesFromDirectory=function(t,e){var n,i;return n=t.createReader(),i=function(t){return function(n){var i,r,s;for(r=0,s=n.length;s>r;r++)i=n[r],i.isFile?i.file(function(n){return t.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+e+"/"+n.name,t.addFile(n))}):i.isDirectory&&t._addFilesFromDirectory(i,""+e+"/"+i.name)}}(this),n.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},n.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},n.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=n.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(n){return n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)e=t[n],this.enqueueFile(e);return null},n.prototype.enqueueFile=function(t){if(t.status!==n.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=n.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},n.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},n.prototype.removeFile=function(t){return t.status===n.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},n.prototype.removeAllFiles=function(t){var e,i,r,s;for(null==t&&(t=!1),s=this.files.slice(),i=0,r=s.length;r>i;i++)e=s[i],(e.status!==n.UPLOADING||t)&&this.removeFile(e);return null},n.prototype.createThumbnail=function(t,e){var n;return n=new FileReader,n.onload=function(i){return function(){var r;return"image/svg+xml"===t.type?(i.emit("thumbnail",t,n.result),void(null!=e&&e())):(r=document.createElement("img"),r.onload=function(){var n,o,a,l,c,h,u,d;return t.width=r.width,t.height=r.height,a=i.options.resize.call(i,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),n=document.createElement("canvas"),o=n.getContext("2d"),n.width=a.trgWidth,n.height=a.trgHeight,s(o,r,null!=(c=a.srcX)?c:0,null!=(h=a.srcY)?h:0,a.srcWidth,a.srcHeight,null!=(u=a.trgX)?u:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),l=n.toDataURL("image/png"),i.emit("thumbnail",t,l),null!=e?e():void 0},r.onerror=e,r.src=n.result)}}(this),n.readAsDataURL(t)},n.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;e>t;){if(!i.length)return;this.processFile(i.shift()),t++}}},n.prototype.processFile=function(t){return this.processFiles([t])},n.prototype.processFiles=function(t){var e,i,r;for(i=0,r=t.length;r>i;i++)e=t[i],e.processing=!0,e.status=n.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},n.prototype._getFilesWithXhr=function(t){var e,n;return n=function(){var n,i,r,s;for(r=this.files,s=[],n=0,i=r.length;i>n;n++)e=r[n],e.xhr===t&&s.push(e);return s}.call(this)},n.prototype.cancelUpload=function(t){var e,i,r,s,o,a,l;if(t.status===n.UPLOADING){for(i=this._getFilesWithXhr(t.xhr),r=0,o=i.length;o>r;r++)e=i[r],e.status=n.CANCELED;for(t.xhr.abort(),s=0,a=i.length;a>s;s++)e=i[s],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=t.status)===n.ADDED||l===n.QUEUED)&&(t.status=n.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},n.prototype.uploadFile=function(t){return this.uploadFiles([t])},n.prototype.uploadFiles=function(t){var e,s,o,a,l,c,h,u,d,f,p,g,m,v,y,w,b,C,A,F,E,x,_,k,D,S,B,M,$,T,L,R,O,I;for(A=new XMLHttpRequest,F=0,k=t.length;k>F;F++)e=t[F],e.xhr=A;g=r(this.options.method,t),b=r(this.options.url,t),A.open(g,b,!0),A.withCredentials=!!this.options.withCredentials,y=null,o=function(n){return function(){var i,r,s;for(s=[],i=0,r=t.length;r>i;i++)e=t[i],s.push(n._errorProcessing(t,y||n.options.dictResponseError.replace("{{statusCode}}",A.status),A));return s}}(this),w=function(n){return function(i){var r,s,o,a,l,c,h,u,d;if(null!=i)for(s=100*i.loaded/i.total,o=0,c=t.length;c>o;o++)e=t[o],e.upload={progress:s,total:i.total,bytesSent:i.loaded};else{for(r=!0,s=100,a=0,h=t.length;h>a;a++)e=t[a],(100!==e.upload.progress||e.upload.bytesSent!==e.upload.total)&&(r=!1),e.upload.progress=s,e.upload.bytesSent=e.upload.total;if(r)return}for(d=[],l=0,u=t.length;u>l;l++)e=t[l],d.push(n.emit("uploadprogress",e,s,e.upload.bytesSent));return d}}(this),A.onload=function(e){return function(i){var r;if(t[0].status!==n.CANCELED&&4===A.readyState){if(y=A.responseText,A.getResponseHeader("content-type")&&~A.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(s){i=s,y="Invalid JSON response from server."}return w(),200<=(r=A.status)&&300>r?e._finished(t,y,i):o()}}}(this),A.onerror=function(){return function(){return t[0].status!==n.CANCELED?o():void 0}}(this),v=null!=($=A.upload)?$:A,v.onprogress=w,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(c,this.options.headers);for(a in c)l=c[a],A.setRequestHeader(a,l);if(s=new FormData,this.options.params){T=this.options.params;for(p in T)C=T[p],s.append(p,C)}for(E=0,D=t.length;D>E;E++)e=t[E],this.emit("sending",e,A,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,A,s),"FORM"===this.element.tagName)for(L=this.element.querySelectorAll("input, textarea, select, button"),x=0,S=L.length;S>x;x++)if(u=L[x],d=u.getAttribute("name"),f=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(R=u.options,_=0,B=R.length;B>_;_++)m=R[_],m.selected&&s.append(d,m.value);else(!f||"checkbox"!==(O=f.toLowerCase())&&"radio"!==O||u.checked)&&s.append(d,u.value);for(h=M=0,I=t.length-1;I>=0?I>=M:M>=I;h=I>=0?++M:--M)s.append(this._getParamName(h),t[h],t[h].name);return A.send(s)},n.prototype._finished=function(t,e,i){var r,s,o;for(s=0,o=t.length;o>s;s++)r=t[s],r.status=n.SUCCESS,this.emit("success",r,e,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},n.prototype._errorProcessing=function(t,e,i){var r,s,o;for(s=0,o=t.length;o>s;s++)r=t[s],r.status=n.ERROR,this.emit("error",r,e,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},n}(e),t.version="4.0.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[n(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,i,r,s,o;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],e=function(t){var e,n,r,s;for(s=[],n=0,r=t.length;r>n;n++)e=t[n],s.push(/(^| )dropzone($| )/.test(e.className)?i.push(e):void 0);return s},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],r=0,s=i.length;s>r;r++)n=i[r],o.push(t.optionsForElement(n)!==!1?new t(n):void 0);return o},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,i,r,s;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=t.blacklistedBrowsers,i=0,r=s.length;r>i;i++)n=s[i],n.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var n,i,r,s;for(s=[],i=0,r=t.length;r>i;i++)n=t[i],n!==e&&s.push(n);return s},n=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(t,e){var n,i,r,s,o,a,l,c;if(t instanceof Array){r=[];try{for(s=0,a=t.length;a>s;s++)i=t[s],r.push(this.getElement(i,e))}catch(h){n=h,r=null}}else if("string"==typeof t)for(r=[],c=document.querySelectorAll(t),o=0,l=c.length;l>o;o++)i=c[o],r.push(i);else null!=t.nodeType&&(r=[t]);if(null==r||!r.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},t.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},t.isValidFile=function(t,e){var n,i,r,s,o;if(!e)return!0;for(e=e.split(","),i=t.type,n=i.replace(/\/.*$/,""),s=0,o=e.length;o>s;s++)if(r=e[s],r=r.trim(),"."===r.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",r=function(t){var e,n,i,r,s,o,a,l,c,h;for(a=t.naturalWidth,o=t.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=o,i=n.getContext("2d"),i.drawImage(t,0,0),r=i.getImageData(0,0,1,o).data,h=0,s=o,l=o;l>h;)e=r[4*(l-1)+3],0===e?s=l:h=l,l=s+h>>1;return c=l/o,0===c?1:c},s=function(t,e,n,i,s,o,a,l,c,h){var u;return u=r(e),t.drawImage(e,n,i,s,o,a,l,c,h/u)},i=function(t,e){var n,i,r,s,o,a,l,c,h;if(r=!1,h=!0,i=t.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",s=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?t:i)[l](a+n.type,s,!1),!r&&(r=!0)?e.call(t,n.type||n):void 0):void 0},o=function(){var t;try{c.doScroll("left")}catch(e){return t=e,void setTimeout(o,50)}return s("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{h=!t.frameElement}catch(u){}h&&o()}return i[n](a+"DOMContentLoaded",s,!1),i[n](a+"readystatechange",s,!1),t[n](a+"load",s,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},i(window,t._autoDiscoverFunction)}.call(this),function(t){function e(t,e,n,i){var r,s=0,o=0,a=0,n=(n||"(").toString(),i=(i||")").toString();for(r=0;r<t.length;r++){var l=t[r];if(l.indexOf(n,s)>l.indexOf(i,s)||~l.indexOf(n,s)&&!~l.indexOf(i,s)||!~l.indexOf(n,s)&&~l.indexOf(i,s)){if(o=l.indexOf(n,s),a=l.indexOf(i,s),~o&&!~a||!~o&&~a){var c=t.slice(0,(r||1)+1).join(e);t=[c].concat(t.slice((r||1)+1))}s=(a>o?a:o)+1,r=0}else s=0}return t}function n(t,e){for(var n,r=0,s="";n=t.substr(r).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)r=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),s+=t.substr(0,n.index)+n[0];t=s+=t.substr(r);var o,a,l=t.match(/:([^\/]+)/gi);if(l){a=l.length;for(var c=0;a>c;c++)o=l[c],t="::"===o.slice(0,2)?o.slice(1):t.replace(o,i(o,e))}return t}function i(t,e,n){n=t;for(var i in e)if(e.hasOwnProperty(i)&&(n=e[i](t),n!==t))break;return n===t?"([._a-zA-Z0-9-%()]+)":n}function r(t,e,n){if(!t.length)return n();var i=0;!function r(){e(t[i],function(e){e||e===!1?(n(e),n=function(){}):(i+=1,i===t.length?n():r())})}()}function o(t){for(var e=[],n=0,i=t.length;i>n;n++)e=e.concat(t[n]);return e}function a(t,e){for(var n=0;n<t.length;n+=1)if(e(t[n],n,t)===!1)return}function l(){return""===c.hash||"#"===c.hash}var c=document.location,h={mode:"modern",hash:c.hash,history:!1,check:function(){var t=c.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function n(t){for(var e=0,n=u.listeners.length;n>e;e++)u.listeners[e](t)}var i=this;if(this.history=e,u.listeners||(u.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=n},500):window.onhashchange=n,this.mode="modern";else{var r=document.createElement("iframe");r.id="state-frame",r.style.display="none",document.body.appendChild(r),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&i.check()}),window.setInterval(function(){i.check()},50),this.onHashChanged=n,this.mode="legacy"}return u.listeners.push(t),this.mode},destroy:function(t){if(u&&u.listeners)for(var e=u.listeners,n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),this.history===!0?(window.history.pushState({},document.title,t),this.fire()):c.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),n=e.contentDocument||e.contentWindow.document;n.open(),n.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var t=this._hash;return t!=c.hash&&(c.hash=t),this},onHashChanged:function(){}},u=t.Router=function(t){return this instanceof u?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(t||{}),void 0):new u(t)};u.prototype.init=function(t){var e,n=this;return this.handler=function(t){var e=t&&t.newURL||window.location.hash,i=n.history===!0?n.getPath():e.replace(/.*#/,"");n.dispatch("on","/"===i.charAt(0)?i:"/"+i)},h.init(this.handler,this.history),this.history===!1?l()&&t?c.hash=t:l()||n.dispatch("on","/"+c.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(e=l()&&t?t:l()?null:c.hash.replace(/^#/,""),e&&window.history.replaceState({},document.title,e)):e=this.getPath(),(e||this.run_in_init===!0)&&this.handler()),this},u.prototype.explode=function(){var t=this.history===!0?this.getPath():c.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},u.prototype.setRoute=function(t,e,n){var i=this.explode();return"number"==typeof t&&"string"==typeof e?i[t]=e:"string"==typeof n?i.splice(t,e,s):i=[t],h.setHash(i.join("/")),i},u.prototype.insertEx=function(t,e,n,i){return"once"===t&&(t="on",n=function(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}(n)),this._insert(t,e,n,i)},u.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){var n=this.explode();e=n.indexOf(t)}else e=this.explode();return e},u.prototype.destroy=function(){return h.destroy(this.handler),this},u.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t};var d=/\?.*/;u.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict="undefined"==typeof t.strict?!0:t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&t.run_handler_in_init!==!1,this.convert_hash_in_init=this.history===!0&&t.convert_hash_in_init!==!1,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},u.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var n=new RegExp(t,"g");return this.params[t]=function(t){return t.replace(n,e.source||e)},this},u.prototype.on=u.prototype.route=function(t,n,i){var r=this;return!i&&"function"==typeof n&&(i=n,n=t,t="on"),Array.isArray(n)?n.forEach(function(e){r.on(t,e,i)}):(n.source&&(n=n.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach(function(t){r.on(t.toLowerCase(),n,i)}):(n=n.split(new RegExp(this.delimiter)),n=e(n,this.delimiter),this.insert(t,this.scope.concat(n),i),void 0))},u.prototype.path=function(t,n){var i=this.scope.length;t.source&&(t=t.source.replace(/\\\//gi,"/")),t=t.split(new RegExp(this.delimiter)),t=e(t,this.delimiter),this.scope=this.scope.concat(t),n.call(this,this),this.scope.splice(i,t.length)},u.prototype.dispatch=function(t,e,n){function i(){s.last=o.after,s.invoke(s.runlist(o),s,n)}var r,s=this,o=this.traverse(t,e.replace(d,""),this.routes,""),a=this._invoked;return this._invoked=!0,o&&0!==o.length?("forward"===this.recurse&&(o=o.reverse()),r=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],r&&r.length>0&&a?(this.async?this.invoke(r,this,i):(this.invoke(r,this),i()),!0):(i(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},n),!1)},u.prototype.invoke=function(t,e,n){var i,s=this;this.async?(i=function(n,s){return Array.isArray(n)?r(n,i,s):void("function"==typeof n&&n.apply(e,(t.captures||[]).concat(s)))},r(t,i,function(){n&&n.apply(e,arguments)})):(i=function(n){return Array.isArray(n)?a(n,i):"function"==typeof n?n.apply(e,t.captures||[]):void("string"==typeof n&&s.resource&&s.resource[n].apply(e,t.captures||[]))},a(t,i))},u.prototype.traverse=function(t,e,n,i,r){function s(t){function e(t){for(var n=t.length-1;n>=0;n--)Array.isArray(t[n])?(e(t[n]),0===t[n].length&&t.splice(n,1)):r(t[n])||t.splice(n,1)}function n(t){for(var e=[],i=0;i<t.length;i++)e[i]=Array.isArray(t[i])?n(t[i]):t[i];return e}if(!r)return t;var i=n(t);return i.matched=t.matched,i.captures=t.captures,i.after=t.after.filter(r),e(i),i}var o,a,l,c,h=[];if(e===this.delimiter&&n[t])return c=[[n.before,n[t]].filter(Boolean)],c.after=[n.after].filter(Boolean),c.matched=!0,c.captures=[],s(c);for(var u in n)if(n.hasOwnProperty(u)&&(!this._methods[u]||this._methods[u]&&"object"==typeof n[u]&&!Array.isArray(n[u]))){if(o=a=i+this.delimiter+u,this.strict||(a+="["+this.delimiter+"]?"),l=e.match(new RegExp("^"+a)),!l)continue;if(l[0]&&l[0]==e&&n[u][t])return c=[[n[u].before,n[u][t]].filter(Boolean)],c.after=[n[u].after].filter(Boolean),c.matched=!0,c.captures=l.slice(1),this.recurse&&n===this.routes&&(c.push([n.before,n.on].filter(Boolean)),c.after=c.after.concat([n.after].filter(Boolean))),s(c);if(c=this.traverse(t,e,n[u],o),c.matched)return c.length>0&&(h=h.concat(c)),this.recurse&&(h.push([n[u].before,n[u].on].filter(Boolean)),c.after=c.after.concat([n[u].after].filter(Boolean)),n===this.routes&&(h.push([n.before,n.on].filter(Boolean)),c.after=c.after.concat([n.after].filter(Boolean)))),h.matched=!0,h.captures=c.captures,h.after=c.after,s(h)}return!1},u.prototype.insert=function(t,e,i,r){var s,o,a,l,c;if(e=e.filter(function(t){return t&&t.length>0}),r=r||this.routes,c=e.shift(),/\:|\*/.test(c)&&!/\\d|\\w/.test(c)&&(c=n(c,this.params)),e.length>0)return r[c]=r[c]||{},this.insert(t,e,i,r[c]);if(c||e.length||r!==this.routes){if(o=typeof r[c],a=Array.isArray(r[c]),r[c]&&!a&&"object"==o)switch(s=typeof r[c][t]){case"function":return void(r[c][t]=[r[c][t],i]);case"object":return void r[c][t].push(i);case"undefined":return void(r[c][t]=i)}else if("undefined"==o)return l={},l[t]=i,r[c]=l,void 0;throw new Error("Invalid route context: "+o)}switch(s=typeof r[t]){case"function":return void(r[t]=[r[t],i]);case"object":return void r[t].push(i);case"undefined":return void(r[t]=i)}},u.prototype.extend=function(t){function e(t){i._methods[t]=!0,i[t]=function(){var e=1===arguments.length?[t,""]:[t];i.on.apply(i,e.concat(Array.prototype.slice.call(arguments)))}}var n,i=this,r=t.length;for(n=0;r>n;n++)e(t[n])},u.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(o(t)):o(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},u.prototype.mount=function(t,n){function i(n,i){var s=n,o=n.split(r.delimiter),a=typeof t[n],l=""===o[0]||!r._methods[o[0]],c=l?"on":s;l&&(s=s.slice((s.match(new RegExp("^"+r.delimiter))||[""])[0].length),o.shift()),l&&"object"===a&&!Array.isArray(t[n])?(i=i.concat(o),r.mount(t[n],i)):(l&&(i=i.concat(s.split(r.delimiter)),i=e(i,r.delimiter)),r.insert(c,i,t[n]))}if(t&&"object"==typeof t&&!Array.isArray(t)){var r=this;n=n||[],Array.isArray(n)||(n=n.split(r.delimiter));for(var s in t)t.hasOwnProperty(s)&&i(s,n.slice(0))}}}("object"==typeof exports?exports:window),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function(t,e){"use strict";function n(e,n,i,r){for(var s=[],o=0;o<e.length;o++){var a=e[o];if(a){var l=tinycolor(a),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,a)?" sp-thumb-active":"";var h=l.toString(r.preferredFormat||"rgb"),u=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();s.push('<span title="'+h+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')}else{var d="sp-clear-display";s.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+s.join("")+"</div>"}function i(){for(var t=0;t<p.length;t++)p[t]&&p[t].hide()}function r(e,n){var i=t.extend({},f,e);return i.callbacks={move:c(i.move,n),change:c(i.change,n),show:c(i.show,n),hide:c(i.hide,n),beforeShow:c(i.beforeShow,n),updatedPosition:c(i.updatedPosition,n)},i}function s(s,a){function c(){if(G.showPaletteOnly&&(G.showPalette=!0),Pe.text(G.showPaletteOnly?G.togglePaletteMoreText:G.togglePaletteLessText),G.palette){fe=G.palette.slice(0),pe=t.isArray(fe[0])?fe:[fe],ge={};for(var e=0;e<pe.length;e++)for(var n=0;n<pe[e].length;n++){var i=tinycolor(pe[e][n]).toRgbString();ge[i]=!0}}Fe.toggleClass("sp-flat",V),Fe.toggleClass("sp-input-disabled",!G.showInput),Fe.toggleClass("sp-alpha-enabled",G.showAlpha),Fe.toggleClass("sp-clear-enabled",Xe),Fe.toggleClass("sp-buttons-disabled",!G.showButtons),Fe.toggleClass("sp-palette-buttons-disabled",!G.togglePaletteOnly),Fe.toggleClass("sp-palette-disabled",!G.showPalette),Fe.toggleClass("sp-palette-only",G.showPaletteOnly),Fe.toggleClass("sp-initial-disabled",!G.showInitial),Fe.addClass(G.className).addClass(G.containerClassName),H()}function f(){function e(e){return e.data&&e.data.ignore?(T(t(e.target).closest(".sp-thumb-el").data("color")),O()):(T(t(e.target).closest(".sp-thumb-el").data("color")),O(),N(!0),G.hideAfterPaletteSelect&&M()),!1}if(g&&Fe.find("*:not(input)").attr("unselectable","on"),c(),ze&&Ce.after(Ue).hide(),Xe||Oe.hide(),V)Ce.after(Fe).hide();else{var n="parent"===G.appendTo?Ce.parent():t(G.appendTo);1!==n.length&&(n=t("body")),n.append(Fe)}w(),We.bind("click.spectrum touchstart.spectrum",function(e){Ae||k(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(Ce.is(":disabled")||G.disabled===!0)&&j(),Fe.click(l),$e.change(_),$e.bind("paste",function(){setTimeout(_,1)}),$e.keydown(function(t){13==t.keyCode&&_()}),Re.text(G.cancelText),Re.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),$(),M()}),Oe.attr("title",G.clearText),Oe.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Ze=!0,O(),V&&N(!0)}),Ie.text(G.chooseText),Ie.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),g&&$e.is(":focus")&&$e.trigger("change"),R()&&(N(!0),M())}),Pe.text(G.showPaletteOnly?G.togglePaletteMoreText:G.togglePaletteLessText),Pe.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),G.showPaletteOnly=!G.showPaletteOnly,G.showPaletteOnly||V||Fe.css("left","-="+(Ee.outerWidth(!0)+5)),c()}),h(Be,function(t,e,n){de=t/oe,Ze=!1,n.shiftKey&&(de=Math.round(10*de)/10),O()},E,x),h(ke,function(t,e){ce=parseFloat(e/re),Ze=!1,G.showAlpha||(de=1),O()},E,x),h(xe,function(t,e,n){if(n.shiftKey){if(!we){var i=he*ee,r=ne-ue*ne,s=Math.abs(t-i)>Math.abs(e-r);we=s?"x":"y"}}else we=null;var o=!we||"x"===we,a=!we||"y"===we;o&&(he=parseFloat(t/ee)),a&&(ue=parseFloat((ne-e)/ne)),Ze=!1,G.showAlpha||(de=1),O()},E,x),Ye?(T(Ye),I(),qe=Ve||tinycolor(Ye).format,b(Ye)):I(),V&&D();var i=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Te.delegate(".sp-thumb-el",i,e),Le.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}function w(){if(K&&window.localStorage){try{var e=window.localStorage[K].split(",#");e.length>1&&(delete window.localStorage[K],t.each(e,function(t,e){b(e)}))}catch(n){}try{me=window.localStorage[K].split(";")}catch(n){}}}function b(e){if(q){var n=tinycolor(e).toRgbString();if(!ge[n]&&-1===t.inArray(n,me))for(me.push(n);me.length>ve;)me.shift();if(K&&window.localStorage)try{window.localStorage[K]=me.join(";")}catch(i){}}}function C(){var t=[];if(G.showPalette)for(var e=0;e<me.length;e++){var n=tinycolor(me[e]).toRgbString();ge[n]||t.push(me[e])}return t.reverse().slice(0,G.maxSelectionSize)}function A(){var e=L(),i=t.map(pe,function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,G)});w(),me&&i.push(n(C(),e,"sp-palette-row sp-palette-row-selection",G)),Te.html(i.join(""))}function F(){if(G.showInitial){var t=Ge,e=L();Le.html(n([t,e],e,"sp-palette-row-initial",G))}}function E(){(0>=ne||0>=ee||0>=re)&&H(),te=!0,Fe.addClass(ye),we=null,Ce.trigger("dragstart.spectrum",[L()])}function x(){te=!1,Fe.removeClass(ye),Ce.trigger("dragstop.spectrum",[L()])}function _(){var t=$e.val();if(null!==t&&""!==t||!Xe){var e=tinycolor(t);e.isValid()?(T(e),N(!0)):$e.addClass("sp-validation-error")}else T(null),N(!0)}function k(){J?M():D()}function D(){var e=t.Event("beforeShow.spectrum");return J?void H():(Ce.trigger(e,[L()]),void(X.beforeShow(L())===!1||e.isDefaultPrevented()||(i(),J=!0,t(be).bind("keydown.spectrum",S),t(be).bind("click.spectrum",B),t(window).bind("resize.spectrum",Q),Ue.addClass("sp-active"),Fe.removeClass("sp-hidden"),H(),I(),Ge=L(),F(),X.show(Ge),Ce.trigger("show.spectrum",[Ge]))))}function S(t){27===t.keyCode&&M()}function B(t){2!=t.button&&(te||(Ke?N(!0):$(),M()))}function M(){J&&!V&&(J=!1,t(be).unbind("keydown.spectrum",S),t(be).unbind("click.spectrum",B),t(window).unbind("resize.spectrum",Q),Ue.removeClass("sp-active"),Fe.addClass("sp-hidden"),X.hide(L()),Ce.trigger("hide.spectrum",[L()]))}function $(){T(Ge,!0),N(!0),X.change(Ge),Ce.trigger("change",[Ge])}function T(t,e){if(tinycolor.equals(t,L()))return void I();var n,i;!t&&Xe?Ze=!0:(Ze=!1,n=tinycolor(t),i=n.toHsv(),ce=i.h%360/360,he=i.s,ue=i.v,de=i.a),I(),n&&n.isValid()&&!e&&(qe=Ve||n.getFormat())}function L(t){return t=t||{},Xe&&Ze?null:tinycolor.fromRatio({h:ce,s:he,v:ue,a:Math.round(100*de)/100},{format:t.format||qe})}function R(){return!$e.hasClass("sp-validation-error")}function O(){I(),X.move(L()),Ce.trigger("move.spectrum",[L()])}function I(){$e.removeClass("sp-validation-error"),P();var t=tinycolor.fromRatio({h:ce,s:1,v:1});xe.css("background-color",t.toHexString());var e=qe;1>de&&(0!==de||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var n=L({format:e}),i="";if(je.removeClass("sp-clear-display"),je.css("background-color","transparent"),!n&&Xe)je.addClass("sp-clear-display");else{var r=n.toHexString(),s=n.toRgbString();if(m||1===n.alpha?je.css("background-color",s):(je.css("background-color","transparent"),je.css("filter",n.toFilter())),G.showAlpha){var o=n.toRgb();o.a=0;var a=tinycolor(o).toRgbString(),l="linear-gradient(left, "+a+", "+r+")";g?Se.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(Se.css("background","-webkit-"+l),Se.css("background","-moz-"+l),Se.css("background","-ms-"+l),Se.css("background","linear-gradient(to right, "+a+", "+r+")"))}i=n.toString(e)}G.showInput&&$e.val(i),G.showPalette&&A(),F()}function P(){var t=he,e=ue;if(Xe&&Ze)Me.hide(),De.hide(),_e.hide();else{Me.show(),De.show(),_e.show();var n=t*ee,i=ne-e*ne;n=Math.max(-ie,Math.min(ee-ie,n-ie)),i=Math.max(-ie,Math.min(ne-ie,i-ie)),_e.css({top:i+"px",left:n+"px"});var r=de*oe;Me.css({left:r-ae/2+"px"});var s=ce*re;De.css({top:s-le+"px"})}}function N(t){var e=L(),n="",i=!tinycolor.equals(e,Ge);e&&(n=e.toString(qe),b(e)),Ne&&Ce.val(n),t&&i&&(X.change(e),Ce.trigger("change",[e]))}function H(){Ce.trigger("beforereflow.spectrum"),ee=xe.width(),ne=xe.height(),ie=_e.height(),se=ke.width(),re=ke.height(),le=De.height(),oe=Be.width(),ae=Me.width(),V||(Fe.css("position","absolute"),G.offset?Fe.offset(G.offset):(Fe.offset(o(Fe,We)),X.updatedPosition())),P(),G.showPalette&&A(),Ce.trigger("reflow.spectrum",[Fe])}function z(){Ce.show(),We.unbind("click.spectrum touchstart.spectrum"),Fe.remove(),Ue.remove(),p[Qe.id]=null}function U(n,i){return n===e?t.extend({},G):i===e?G[n]:(G[n]=i,void c())}function W(){Ae=!1,Ce.attr("disabled",!1),We.removeClass("sp-disabled")}function j(){M(),Ae=!0,Ce.attr("disabled",!0),We.addClass("sp-disabled")}function Y(t){G.offset=t,H()}var G=r(a,s),V=G.flat,q=G.showSelectionPalette,K=G.localStorageKey,Z=G.theme,X=G.callbacks,Q=u(H,10),J=!1,te=!1,ee=0,ne=0,ie=0,re=0,se=0,oe=0,ae=0,le=0,ce=0,he=0,ue=0,de=1,fe=[],pe=[],ge={},me=G.selectionPalette.slice(0),ve=G.maxSelectionSize,ye="sp-dragging",we=null,be=s.ownerDocument,Ce=(be.body,t(s)),Ae=!1,Fe=t(y,be).addClass(Z),Ee=Fe.find(".sp-picker-container"),xe=Fe.find(".sp-color"),_e=Fe.find(".sp-dragger"),ke=Fe.find(".sp-hue"),De=Fe.find(".sp-slider"),Se=Fe.find(".sp-alpha-inner"),Be=Fe.find(".sp-alpha"),Me=Fe.find(".sp-alpha-handle"),$e=Fe.find(".sp-input"),Te=Fe.find(".sp-palette"),Le=Fe.find(".sp-initial"),Re=Fe.find(".sp-cancel"),Oe=Fe.find(".sp-clear"),Ie=Fe.find(".sp-choose"),Pe=Fe.find(".sp-palette-toggle"),Ne=Ce.is("input"),He=Ne&&"color"===Ce.attr("type")&&d(),ze=Ne&&!V,Ue=ze?t(v).addClass(Z).addClass(G.className).addClass(G.replacerClassName):t([]),We=ze?Ue:Ce,je=Ue.find(".sp-preview-inner"),Ye=G.color||Ne&&Ce.val(),Ge=!1,Ve=G.preferredFormat,qe=Ve,Ke=!G.showButtons||G.clickoutFiresChange,Ze=!Ye,Xe=G.allowEmpty&&!He;f();var Qe={show:D,hide:M,toggle:k,reflow:H,option:U,enable:W,disable:j,offset:Y,set:function(t){T(t),N()
},get:L,destroy:z,container:Fe};return Qe.id=p.push(Qe)-1,Qe}function o(e,n){var i=0,r=e.outerWidth(),s=e.outerHeight(),o=n.outerHeight(),a=e[0].ownerDocument,l=a.documentElement,c=l.clientWidth+t(a).scrollLeft(),h=l.clientHeight+t(a).scrollTop(),u=n.offset();return u.top+=o,u.left-=Math.min(u.left,u.left+r>c&&c>r?Math.abs(u.left+r-c):0),u.top-=Math.min(u.top,u.top+s>h&&h>s?Math.abs(s+o-i):i),u}function a(){}function l(t){t.stopPropagation()}function c(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function h(e,n,i,r){function s(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function o(t){if(h){if(g&&c.documentMode<9&&!t.button)return l();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],r=i&&i.pageX||t.pageX,o=i&&i.pageY||t.pageY,a=Math.max(0,Math.min(r-u.left,f)),m=Math.max(0,Math.min(o-u.top,d));p&&s(t),n.apply(e,[a,m,t])}}function a(n){var r=n.which?3==n.which:2==n.button;r||h||i.apply(e,arguments)!==!1&&(h=!0,d=t(e).height(),f=t(e).width(),u=t(e).offset(),t(c).bind(m),t(c.body).addClass("sp-dragging"),o(n),s(n))}function l(){h&&(t(c).unbind(m),t(c.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(e,arguments)},0)),h=!1}n=n||function(){},i=i||function(){},r=r||function(){};var c=document,h=!1,u={},d=0,f=0,p="ontouchstart"in window,m={};m.selectstart=s,m.dragstart=s,m["touchmove mousemove"]=o,m["touchend mouseup"]=l,t(e).bind("touchstart mousedown",a)}function u(t,e,n){var i;return function(){var r=this,s=arguments,o=function(){i=null,t.apply(r,s)};n&&clearTimeout(i),(n||!i)&&(i=setTimeout(o,e))}}function d(){return t.fn.spectrum.inputTypeColorSupport()}var f={beforeShow:a,move:a,change:a,show:a,hide:a,updatedPosition:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],g=!!/msie/i.exec(window.navigator.userAgent),m=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),y=function(){var t="";if(g)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),w="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=p[t(this).data(w)];if(r){var s=r[e];if(!s)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=r.get():"container"==e?n=r.container:"option"==e?n=r.option.apply(r,i):"destroy"==e?(r.destroy(),t(this).removeData(w)):s.apply(r,i)}}),n}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),i=s(this,n);t(this).data(w,i.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=h,t.fn.spectrum.defaults=f,t.fn.spectrum.inputTypeColorSupport=function b(){if("undefined"==typeof b._cachedResult){var e=t("<input type='color' value='!' />")[0];b._cachedResult="color"===e.type&&"!"!==e.value}return b._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},r=1,o=!1,a=!1;return"string"==typeof t&&(t=$(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),o=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=S(t.s),t.v=S(t.v),n=s(t.h,t.s,t.v),o=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=S(t.s),t.l=S(t.l),n=i(t.h,t.s,t.l),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=A(r),{ok:o,format:t.format||a,r:P(255,N(n.r,0)),g:P(255,N(n.g,0)),b:P(255,N(n.b,0)),a:r}}function e(t,e,n){return{r:255*F(t,255),g:255*F(e,255),b:255*F(n,255)}}function n(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var i,r,s=N(t,e,n),o=P(t,e,n),a=(s+o)/2;if(s==o)i=r=0;else{var l=s-o;switch(r=a>.5?l/(2-s-o):l/(s+o),s){case t:i=(e-n)/l+(n>e?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:a}}function i(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var r,s,o;if(t=F(t,360),e=F(e,100),n=F(n,100),0===e)r=s=o=n;else{var a=.5>n?n*(1+e):n+e-n*e,l=2*n-a;r=i(l,a,t+1/3),s=i(l,a,t),o=i(l,a,t-1/3)}return{r:255*r,g:255*s,b:255*o}}function r(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var i,r,s=N(t,e,n),o=P(t,e,n),a=s,l=s-o;if(r=0===s?0:l/s,s==o)i=0;else{switch(s){case t:i=(e-n)/l+(n>e?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:a}}function s(t,e,n){t=6*F(t,360),e=F(e,100),n=F(n,100);var i=O.floor(t),r=t-i,s=n*(1-e),o=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6,c=[n,o,s,s,a,n][l],h=[a,n,n,o,s,s][l],u=[s,s,a,n,n,o][l];return{r:255*c,g:255*h,b:255*u}}function o(t,e,n,i){var r=[D(I(t).toString(16)),D(I(e).toString(16)),D(I(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){var r=[D(B(i)),D(I(t).toString(16)),D(I(e).toString(16)),D(I(n).toString(16))];return r.join("")}function l(t,e){e=0===e?0:e||10;var n=z(t).toHsl();return n.s-=e/100,n.s=E(n.s),z(n)}function c(t,e){e=0===e?0:e||10;var n=z(t).toHsl();return n.s+=e/100,n.s=E(n.s),z(n)}function h(t){return z(t).desaturate(100)}function u(t,e){e=0===e?0:e||10;var n=z(t).toHsl();return n.l+=e/100,n.l=E(n.l),z(n)}function d(t,e){e=0===e?0:e||10;var n=z(t).toRgb();return n.r=N(0,P(255,n.r-I(255*-(e/100)))),n.g=N(0,P(255,n.g-I(255*-(e/100)))),n.b=N(0,P(255,n.b-I(255*-(e/100)))),z(n)}function f(t,e){e=0===e?0:e||10;var n=z(t).toHsl();return n.l-=e/100,n.l=E(n.l),z(n)}function p(t,e){var n=z(t).toHsl(),i=(I(n.h)+e)%360;return n.h=0>i?360+i:i,z(n)}function g(t){var e=z(t).toHsl();return e.h=(e.h+180)%360,z(e)}function m(t){var e=z(t).toHsl(),n=e.h;return[z(t),z({h:(n+120)%360,s:e.s,l:e.l}),z({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=z(t).toHsl(),n=e.h;return[z(t),z({h:(n+90)%360,s:e.s,l:e.l}),z({h:(n+180)%360,s:e.s,l:e.l}),z({h:(n+270)%360,s:e.s,l:e.l})]}function y(t){var e=z(t).toHsl(),n=e.h;return[z(t),z({h:(n+72)%360,s:e.s,l:e.l}),z({h:(n+216)%360,s:e.s,l:e.l})]}function w(t,e,n){e=e||6,n=n||30;var i=z(t).toHsl(),r=360/n,s=[z(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(z(i));return s}function b(t,e){e=e||6;for(var n=z(t).toHsv(),i=n.h,r=n.s,s=n.v,o=[],a=1/e;e--;)o.push(z({h:i,s:r,v:s})),s=(s+a)%1;return o}function C(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function A(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function F(t,e){_(t)&&(t="100%");var n=k(t);return t=P(e,N(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),O.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function E(t){return P(1,N(0,t))}function x(t){return parseInt(t,16)}function _(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function k(t){return"string"==typeof t&&-1!=t.indexOf("%")}function D(t){return 1==t.length?"0"+t:""+t}function S(t){return 1>=t&&(t=100*t+"%"),t}function B(t){return Math.round(255*parseFloat(t)).toString(16)}function M(t){return x(t)/255}function $(t){t=t.replace(T,"").replace(L,"").toLowerCase();var e=!1;if(U[t])t=U[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=j.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=j.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=j.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=j.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=j.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=j.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=j.hex8.exec(t))?{a:M(n[1]),r:x(n[2]),g:x(n[3]),b:x(n[4]),format:e?"name":"hex8"}:(n=j.hex6.exec(t))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),format:e?"name":"hex"}:(n=j.hex3.exec(t))?{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var T=/^[\s,#]+/,L=/\s+$/,R=0,O=Math,I=O.round,P=O.min,N=O.max,H=O.random,z=function(e,n){if(e=e?e:"",n=n||{},e instanceof z)return e;if(!(this instanceof z))return new z(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=I(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=I(this._r)),this._g<1&&(this._g=I(this._g)),this._b<1&&(this._b=I(this._b)),this._ok=i.ok,this._tc_id=R++};z.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=A(t),this._roundA=I(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=I(360*t.h),n=I(100*t.s),i=I(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=I(360*t.h),i=I(100*t.s),r=I(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return o(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:I(this._r),g:I(this._g),b:I(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+I(this._r)+", "+I(this._g)+", "+I(this._b)+")":"rgba("+I(this._r)+", "+I(this._g)+", "+I(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:I(100*F(this._r,255))+"%",g:I(100*F(this._g,255))+"%",b:I(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+I(100*F(this._r,255))+"%, "+I(100*F(this._g,255))+"%, "+I(100*F(this._b,255))+"%)":"rgba("+I(100*F(this._r,255))+"%, "+I(100*F(this._g,255))+"%, "+I(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:W[o(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=z(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},z.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:S(t[i]));t=n}return z(t,e)},z.equals=function(t,e){return t&&e?z(t).toRgbString()==z(e).toRgbString():!1},z.random=function(){return z.fromRatio({r:H(),g:H(),b:H()})},z.mix=function(t,e,n){n=0===n?0:n||50;var i,r=z(t).toRgb(),s=z(e).toRgb(),o=n/100,a=2*o-1,l=s.a-r.a;i=a*l==-1?a:(a+l)/(1+a*l),i=(i+1)/2;var c=1-i,h={r:s.r*i+r.r*c,g:s.g*i+r.g*c,b:s.b*i+r.b*c,a:s.a*o+r.a*(1-o)};return z(h)},z.readability=function(t,e){var n=z(t),i=z(e),r=n.toRgb(),s=i.toRgb(),o=n.getBrightness(),a=i.getBrightness(),l=Math.max(r.r,s.r)-Math.min(r.r,s.r)+Math.max(r.g,s.g)-Math.min(r.g,s.g)+Math.max(r.b,s.b)-Math.min(r.b,s.b);return{brightness:Math.abs(o-a),color:l}},z.isReadable=function(t,e){var n=z.readability(t,e);return n.brightness>125&&n.color>500},z.mostReadable=function(t,e){for(var n=null,i=0,r=!1,s=0;s<e.length;s++){var o=z.readability(t,e[s]),a=o.brightness>125&&o.color>500,l=3*(o.brightness/125)+o.color/500;(a&&!r||a&&r&&l>i||!a&&!r&&l>i)&&(r=a,i=l,n=z(e[s]))}return n};var U=z.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=z.hexNames=C(U),j=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=z}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function e(t){return null===t?0/0:+t}function n(t){return!isNaN(t)}function i(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var s=i+r>>>1;t(e[s],n)<0?i=s+1:r=s}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var s=i+r>>>1;t(e[s],n)>0?r=s:i=s+1}return i}}}function r(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function o(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function a(){this._=Object.create(null)}function l(t){return(t+="")===ha||t[0]===ua?ua+t:t}function c(t){return(t+="")[0]===ua?t.slice(1):t}function h(t){return l(t)in this._}function u(t){return(t=l(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(c(e));return t}function f(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function m(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=da.length;i>n;++n){var r=da[n]+e;if(r in t)return r}}function y(){}function w(){}function b(t){function e(){for(var e,i=n,r=-1,s=i.length;++r<s;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new a;return e.on=function(e,r){var s,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,s=n.indexOf(o)).concat(n.slice(s+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function C(){Ko.event.preventDefault()}function A(){for(var t,e=Ko.event;t=e.sourceEvent;)e=t;return e}function F(t){for(var e=new w,n=0,i=arguments.length;++n<i;)e[arguments[n]]=b(e);return e.of=function(n,i){return function(r){try{var s=r.sourceEvent=Ko.event;r.target=t,Ko.event=r,e[r.type].apply(n,i)}finally{Ko.event=s}}},e}function E(t){return pa(t,wa),t}function x(t){return"function"==typeof t?t:function(){return ga(t,this)}}function _(t){return"function"==typeof t?t:function(){return ma(t,this)}}function k(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function s(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Ko.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?a:o:t.local?s:r}function D(t){return t.trim().replace(/\s+/g," ")}function S(t){return new RegExp("(?:^|\\s+)"+Ko.requote(t)+"(?:\\s+|$)","g")}function B(t){return(t+"").trim().split(/^|\s+/)}function M(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=B(t).map($);var r=t.length;return"function"==typeof e?i:n}function $(t){var e=S(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",D(r+" "+t))):n.setAttribute("class",D(r.replace(e," ")))}}function T(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function s(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?s:r}function L(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function R(t){return"function"==typeof t?t:(t=Ko.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function O(t){return{__data__:t}}function I(t){return function(){return ya(this,t)}}function P(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function N(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,s=t[n],o=0,a=s.length;a>o;o++)(r=s[o])&&e(r,o,n);return t}function H(t){return pa(t,Ca),t}function z(t){var e,n;return function(i,r,s){var o,a=t[s].update,l=a.length;for(s!=n&&(n=s,e=0),r>=e&&(e=r+1);!(o=a[e])&&++e<l;);return o}}function U(){var t=this.__transition__;t&&++t.active}function W(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=l(e,Xo(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function s(){var e,n=new RegExp("^__on([^.]+)"+Ko.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,a=t.indexOf("."),l=j;a>0&&(t=t.slice(0,a));var c=Fa.get(t);return c&&(t=c,l=Y),a?e?r:i:e?y:s}function j(t,e){return function(n){var i=Ko.event;Ko.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Ko.event=i}}}function Y(t,e){var n=j(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function G(){var t=".dragsuppress-"+ ++xa,e="click"+t,n=Ko.select(ta).on("touchmove"+t,C).on("dragstart"+t,C).on("selectstart"+t,C);if(Ea){var i=Jo.style,r=i[Ea];i[Ea]="none"}return function(s){function o(){n.on(e,null)}n.on(t,null),Ea&&(i[Ea]=r),s&&(n.on(e,function(){C(),o()},!0),setTimeout(o,0))}}function V(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>_a&&(ta.scrollX||ta.scrollY)){n=Ko.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();_a=!(r.f||r.e),n.remove()}return _a?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function q(){return Ko.event.changedTouches[0].identifier}function K(){return Ko.event.target}function Z(){return ta}function X(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function J(t){return t>1?0:-1>t?ka:Math.acos(t)}function te(t){return t>1?Sa:-1>t?-Sa:Math.asin(t)}function ee(t){return((t=Math.exp(t))-1/t)/2}function ne(t){return((t=Math.exp(t))+1/t)/2}function ie(t){return((t=Math.exp(2*t))-1)/(t+1)}function re(t){return(t=Math.sin(t/2))*t}function se(){}function oe(t,e,n){return this instanceof oe?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof oe?new oe(t.h,t.s,t.l):be(""+t,Ce,oe):new oe(t,e,n)}function ae(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?s+(o-s)*t/60:180>t?o:240>t?s+(o-s)*(240-t)/60:s}function r(t){return Math.round(255*i(t))}var s,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,s=2*n-o,new me(r(t+120),r(t),r(t-120))}function le(t,e,n){return this instanceof le?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof le?new le(t.h,t.c,t.l):t instanceof he?de(t.l,t.a,t.b):de((t=Ae((t=Ko.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new le(t,e,n)}function ce(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new he(n,Math.cos(t*=$a)*e,Math.sin(t)*e)}function he(t,e,n){return this instanceof he?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof he?new he(t.l,t.a,t.b):t instanceof le?ce(t.h,t.c,t.l):Ae((t=me(t)).r,t.g,t.b):new he(t,e,n)}function ue(t,e,n){var i=(t+16)/116,r=i+e/500,s=i-n/200;return r=fe(r)*Wa,i=fe(i)*ja,s=fe(s)*Ya,new me(ge(3.2404542*r-1.5371385*i-.4985314*s),ge(-.969266*r+1.8760108*i+.041556*s),ge(.0556434*r-.2040259*i+1.0572252*s))}function de(t,e,n){return t>0?new le(Math.atan2(n,e)*Ta,Math.sqrt(e*e+n*n),t):new le(0/0,0/0,t)}function fe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pe(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ge(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function me(t,e,n){return this instanceof me?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof me?new me(t.r,t.g,t.b):be(""+t,me,ae):new me(t,e,n)}function ve(t){return new me(t>>16,t>>8&255,255&t)}function ye(t){return ve(t)+""}function we(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function be(t,e,n){var i,r,s,o=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Ee(r[0]),Ee(r[1]),Ee(r[2]))}return(s=qa.get(t))?e(s.r,s.g,s.b):(null==t||"#"!==t.charAt(0)||isNaN(s=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&s)>>4,o=o>>4|o,a=240&s,a=a>>4|a,l=15&s,l=l<<4|l):7===t.length&&(o=(16711680&s)>>16,a=(65280&s)>>8,l=255&s)),e(o,a,l))}function Ce(t,e,n){var i,r,s=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),a=o-s,l=(o+s)/2;return a?(r=.5>l?a/(o+s):a/(2-o-s),i=t==o?(e-n)/a+(n>e?6:0):e==o?(n-t)/a+2:(t-e)/a+4,i*=60):(i=0/0,r=l>0&&1>l?0:i),new oe(i,r,l)}function Ae(t,e,n){t=Fe(t),e=Fe(e),n=Fe(n);var i=pe((.4124564*t+.3575761*e+.1804375*n)/Wa),r=pe((.2126729*t+.7151522*e+.072175*n)/ja),s=pe((.0193339*t+.119192*e+.9503041*n)/Ya);return he(116*r-16,500*(i-r),200*(r-s))}function Fe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ee(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function xe(t){return"function"==typeof t?t:function(){return t}}function _e(t){return t}function ke(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),De(e,n,t,i)}}function De(t,e,n,i){function r(){var t,e=l.status;if(!e&&Be(l)||e>=200&&300>e||304===e){try{t=n.call(s,l)}catch(i){return void o.error.call(s,i)}o.load.call(s,t)}else o.error.call(s,l)}var s={},o=Ko.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!ta.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=Ko.event;Ko.event=t;try{o.progress.call(s,l)}finally{Ko.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",s):e},s.responseType=function(t){return arguments.length?(c=t,s):c},s.response=function(t){return n=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(Xo(arguments)))}}),s.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var h in a)l.setRequestHeader(h,a[h]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=r&&s.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(s,l),l.send(null==i?null:i),s},s.abort=function(){return l.abort(),s},Ko.rebind(s,o,"on"),null==i?s:s.get(Se(i))}function Se(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Be(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Me(){var t=$e(),e=Te()-t;e>24?(isFinite(e)&&(clearTimeout(Qa),Qa=setTimeout(Me,e)),Xa=0):(Xa=1,tl(Me))}function $e(){var t=Date.now();for(Ja=Ka;Ja;)t>=Ja.t&&(Ja.f=Ja.c(t-Ja.t)),Ja=Ja.n;return t}function Te(){for(var t,e=Ka,n=1/0;e;)e.f?e=t?t.n=e.n:Ka=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Za=t,n}function Le(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Re(t,e){var n=Math.pow(10,3*ca(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Oe(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,s=i&&n?function(t,e){for(var r=t.length,s=[],o=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>e));)a=i[o=(o+1)%i.length];return s.reverse().join(n)}:_e;return function(t){var n=nl.exec(t),i=n[1]||" ",o=n[2]||">",a=n[3]||"-",l=n[4]||"",c=n[5],h=+n[6],u=n[7],d=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===o)&&(c=i="0",o="="),f){case"n":u=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):("e"==f||"f"==f)&&(d=Math.max(0,Math.min(20,d)))),f=il.get(f)||Ie;var w=c&&u;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>p){var l=Ko.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=p;t=f(t,d);var b,C,A=t.lastIndexOf(".");if(0>A){var F=y?t.lastIndexOf("e"):-1;0>F?(b=t,C=""):(b=t.substring(0,F),C=t.substring(F))}else b=t.substring(0,A),C=e+t.substring(A+1);!c&&u&&(b=s(b,1/0));var E=g.length+b.length+C.length+(w?0:r.length),x=h>E?new Array(E=h-E+1).join(i):"";return w&&(b=s(x+b,x.length?h-C.length:1/0)),r+=g,t=b+C,("<"===o?r+t+x:">"===o?x+r+t:"^"===o?x.substring(0,E>>=1)+r+t+x.substring(E):r+(w?t:x+t))+n}}}function Ie(t){return t+""}function Pe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ne(t,e,n){function i(e){var n=t(e),i=s(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new sl(n-1)),1),n}function s(t,n){return e(t=new sl(+t),n),t}function o(t,i,s){var o=r(t),a=[];if(s>1)for(;i>o;)n(o)%s||a.push(new Date(+o)),e(o,1);else for(;i>o;)a.push(new Date(+o)),e(o,1);return a}function a(t,e,n){try{sl=Pe;var i=new Pe;return i._=t,o(i,e,n)}finally{sl=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=s,t.range=o;var l=t.utc=He(t);return l.floor=l,l.round=He(i),l.ceil=He(r),l.offset=He(s),l.range=a,t}function He(t){return function(e,n){try{sl=Pe;var i=new Pe;return i._=e,t(i,n)._}finally{sl=Date}}}function ze(t){function e(t){function e(e){for(var n,r,s,o=[],a=-1,l=0;++a<i;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(r=al[n=t.charAt(++a)])&&(n=t.charAt(++a)),(s=D[n])&&(n=s(e,null==r?"e"===n?" ":"0":r)),o.push(n),l=a+1);
return o.push(t.slice(l,a)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var s=null!=i.Z&&sl!==Pe,o=new(s?Pe:sl);return"j"in i?o.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),s?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,s,o,a=0,l=e.length,c=n.length;l>a;){if(i>=c)return-1;if(r=e.charCodeAt(a++),37===r){if(o=e.charAt(a++),s=S[o in al?e.charAt(a++):o],!s||(i=s(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){A.lastIndex=0;var i=A.exec(e.slice(n));return i?(t.w=F.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=C.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.m=x.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,i){return n(t,D.c.toString(),e,i)}function l(t,e,i){return n(t,D.x.toString(),e,i)}function c(t,e,i){return n(t,D.X.toString(),e,i)}function h(t,e,n){var i=w.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var u=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{sl=Pe;var e=new sl;return e._=t,i(e)}finally{sl=Date}}var i=e(t);return n.parse=function(t){try{sl=Pe;var e=i.parse(t);return e&&e._}finally{sl=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ln;var w=Ko.map(),b=We(g),C=je(g),A=We(m),F=je(m),E=We(v),x=je(v),_=We(y),k=je(y);p.forEach(function(t,e){w.set(t.toLowerCase(),e)});var D={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(u),d:function(t,e){return Ue(t.getDate(),e,2)},e:function(t,e){return Ue(t.getDate(),e,2)},H:function(t,e){return Ue(t.getHours(),e,2)},I:function(t,e){return Ue(t.getHours()%12||12,e,2)},j:function(t,e){return Ue(1+rl.dayOfYear(t),e,3)},L:function(t,e){return Ue(t.getMilliseconds(),e,3)},m:function(t,e){return Ue(t.getMonth()+1,e,2)},M:function(t,e){return Ue(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ue(t.getSeconds(),e,2)},U:function(t,e){return Ue(rl.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ue(rl.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Ue(t.getFullYear()%100,e,2)},Y:function(t,e){return Ue(t.getFullYear()%1e4,e,4)},Z:on,"%":function(){return"%"}},S={a:i,A:r,b:s,B:o,c:a,d:Je,e:Je,H:en,I:en,j:tn,L:sn,m:Qe,M:nn,p:h,S:rn,U:Ge,w:Ye,W:Ve,x:l,X:c,y:Ke,Y:qe,Z:Ze,"%":an};return e}function Ue(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",s=r.length;return i+(n>s?new Array(n-s+1).join(e)+r:r)}function We(t){return new RegExp("^(?:"+t.map(Ko.requote).join("|")+")","i")}function je(t){for(var e=new a,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ye(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ge(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ve(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function qe(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ke(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+2));return i?(t.y=Xe(+i[0]),n+i[0].length):-1}function Ze(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Xe(t){return t+(t>68?1900:2e3)}function Qe(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Je(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function tn(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function en(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function nn(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function rn(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function sn(t,e,n){ll.lastIndex=0;var i=ll.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function on(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=ca(e)/60|0,r=ca(e)%60;return n+Ue(i,"0",2)+Ue(r,"0",2)}function an(t,e,n){cl.lastIndex=0;var i=cl.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ln(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function cn(){}function hn(t,e,n){var i=n.s=t+e,r=i-t,s=i-r;n.t=t-s+(e-r)}function un(t,e){t&&fl.hasOwnProperty(t.type)&&fl[t.type](t,e)}function dn(t,e,n){var i,r=-1,s=t.length-n;for(e.lineStart();++r<s;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function fn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)dn(t[n],e,1);e.polygonEnd()}function pn(){function t(t,e){t*=$a,e=e*$a/2+ka/4;var n=t-i,o=n>=0?1:-1,a=o*n,l=Math.cos(e),c=Math.sin(e),h=s*c,u=r*l+h*Math.cos(a),d=h*o*Math.sin(a);gl.add(Math.atan2(d,u)),i=t,r=l,s=c}var e,n,i,r,s;ml.point=function(o,a){ml.point=t,i=(e=o)*$a,r=Math.cos(a=(n=a)*$a/2+ka/4),s=Math.sin(a)},ml.lineEnd=function(){t(e,n)}}function gn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function mn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function wn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function bn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Cn(t){return[Math.atan2(t[1],t[0]),te(t[2])]}function An(t,e){return ca(t[0]-e[0])<Ba&&ca(t[1]-e[1])<Ba}function Fn(t,e){t*=$a;var n=Math.cos(e*=$a);En(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function En(t,e,n){++vl,wl+=(t-wl)/vl,bl+=(e-bl)/vl,Cl+=(n-Cl)/vl}function xn(){function t(t,r){t*=$a;var s=Math.cos(r*=$a),o=s*Math.cos(t),a=s*Math.sin(t),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*l-i*a)*c+(c=i*o-e*l)*c+(c=e*a-n*o)*c),e*o+n*a+i*l);yl+=c,Al+=c*(e+(e=o)),Fl+=c*(n+(n=a)),El+=c*(i+(i=l)),En(e,n,i)}var e,n,i;Dl.point=function(r,s){r*=$a;var o=Math.cos(s*=$a);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(s),Dl.point=t,En(e,n,i)}}function _n(){Dl.point=Fn}function kn(){function t(t,e){t*=$a;var n=Math.cos(e*=$a),o=n*Math.cos(t),a=n*Math.sin(t),l=Math.sin(e),c=r*l-s*a,h=s*o-i*l,u=i*a-r*o,d=Math.sqrt(c*c+h*h+u*u),f=i*o+r*a+s*l,p=d&&-J(f)/d,g=Math.atan2(d,f);xl+=p*c,_l+=p*h,kl+=p*u,yl+=g,Al+=g*(i+(i=o)),Fl+=g*(r+(r=a)),El+=g*(s+(s=l)),En(i,r,s)}var e,n,i,r,s;Dl.point=function(o,a){e=o,n=a,Dl.point=t,o*=$a;var l=Math.cos(a*=$a);i=l*Math.cos(o),r=l*Math.sin(o),s=Math.sin(a),En(i,r,s)},Dl.lineEnd=function(){t(e,n),Dl.lineEnd=_n,Dl.point=Fn}}function Dn(){return!0}function Sn(t,e,n,i,r){var s=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(An(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l=new Mn(n,t,null,!0),c=new Mn(n,null,l,!1);l.o=c,s.push(l),o.push(c),l=new Mn(i,t,null,!1),c=new Mn(i,null,l,!0),l.o=c,s.push(l),o.push(c)}}),o.sort(e),Bn(s),Bn(o),s.length){for(var a=0,l=n,c=o.length;c>a;++a)o[a].e=l=!l;for(var h,u,d=s[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;h=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var a=0,c=h.length;c>a;++a)r.point((u=h[a])[0],u[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){h=f.p.z;for(var a=h.length-1;a>=0;--a)r.point((u=h[a])[0],u[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,h=f.z,p=!p}while(!f.v);r.lineEnd()}}}function Bn(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Mn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function $n(t,e,n,i){return function(r,s){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&s.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=a,m.lineStart()}function c(){y.point=o,m.lineEnd()}function h(t,e){g.push([t,e]);var n=r(t,e);b.point(n[0],n[1])}function u(){b.lineStart(),g=[]}function d(){h(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=w.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(C||(s.polygonStart(),C=!0),s.lineStart();++o<i;)s.point((r=t[o])[0],r[1]);s.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Tn))}var f,p,g,m=e(s),v=r.invert(i[0],i[1]),y={point:o,lineStart:l,lineEnd:c,polygonStart:function(){y.point=h,y.lineStart=u,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=c,f=Ko.merge(f);var t=Nn(v,p);f.length?(C||(s.polygonStart(),C=!0),Sn(f,Rn,t,n,s)):t&&(C||(s.polygonStart(),C=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),C&&(s.polygonEnd(),C=!1),f=p=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}},w=Ln(),b=e(w),C=!1;return y}}function Tn(t){return t.length>1}function Ln(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:y,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Rn(t,e){return((t=t.x)[0]<0?t[1]-Sa-Ba:Sa-t[1])-((e=e.x)[0]<0?e[1]-Sa-Ba:Sa-e[1])}function On(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?ka:-ka,l=ca(s-n);ca(l-ka)<Ba?(t.point(n,i=(i+o)/2>0?Sa:-Sa),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(s,i),e=0):r!==a&&l>=ka&&(ca(n-r)<Ba&&(n-=r*Ba),ca(s-a)<Ba&&(s-=a*Ba),i=In(n,i,s,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=s,i=o),r=a},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function In(t,e,n,i){var r,s,o=Math.sin(t-n);return ca(o)>Ba?Math.atan((Math.sin(e)*(s=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*s*o)):(e+i)/2}function Pn(t,e,n,i){var r;if(null==t)r=n*Sa,i.point(-ka,r),i.point(0,r),i.point(ka,r),i.point(ka,0),i.point(ka,-r),i.point(0,-r),i.point(-ka,-r),i.point(-ka,0),i.point(-ka,r);else if(ca(t[0]-e[0])>Ba){var s=t[0]<e[0]?ka:-ka;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}function Nn(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],s=0,o=0;gl.reset();for(var a=0,l=e.length;l>a;++a){var c=e[a],h=c.length;if(h)for(var u=c[0],d=u[0],f=u[1]/2+ka/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===h&&(m=0),t=c[m];var v=t[0],y=t[1]/2+ka/4,w=Math.sin(y),b=Math.cos(y),C=v-d,A=C>=0?1:-1,F=A*C,E=F>ka,x=p*w;if(gl.add(Math.atan2(x*A*Math.sin(F),g*b+x*Math.cos(F))),s+=E?C+A*Da:C,E^d>=n^v>=n){var _=vn(gn(u),gn(t));bn(_);var k=vn(r,_);bn(k);var D=(E^C>=0?-1:1)*te(k[2]);(i>D||i===D&&(_[0]||_[1]))&&(o+=E^C>=0?1:-1)}if(!m++)break;d=v,p=w,g=b,u=t}}return(-Ba>s||Ba>s&&0>gl)^1&o}function Hn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>s}function n(t){var n,s,l,c,h;return{lineStart:function(){c=l=!1,h=1},point:function(u,d){var f,p=[u,d],g=e(u,d),m=o?g?0:r(u,d):g?r(u+(0>u?ka:-ka),d):0;if(!n&&(c=l=g)&&t.lineStart(),g!==l&&(f=i(n,p),(An(n,f)||An(p,f))&&(p[0]+=Ba,p[1]+=Ba,g=e(p[0],p[1]))),g!==l)h=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(a&&n&&o^g){var v;m&s||!(v=i(p,n,!0))||(h=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&An(n,p)||t.point(p[0],p[1]),n=p,l=g,s=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return h|(c&&l)<<1}}}function i(t,e,n){var i=gn(t),r=gn(e),o=[1,0,0],a=vn(i,r),l=mn(a,a),c=a[0],h=l-c*c;if(!h)return!n&&t;var u=s*l/h,d=-s*c/h,f=vn(o,a),p=wn(o,u),g=wn(a,d);yn(p,g);var m=f,v=mn(p,m),y=mn(m,m),w=v*v-y*(mn(p,p)-1);if(!(0>w)){var b=Math.sqrt(w),C=wn(m,(-v-b)/y);if(yn(C,p),C=Cn(C),!n)return C;var A,F=t[0],E=e[0],x=t[1],_=e[1];F>E&&(A=F,F=E,E=A);var k=E-F,D=ca(k-ka)<Ba,S=D||Ba>k;if(!D&&x>_&&(A=x,x=_,_=A),S?D?x+_>0^C[1]<(ca(C[0]-F)<Ba?x:_):x<=C[1]&&C[1]<=_:k>ka^(F<=C[0]&&C[0]<=E)){var B=wn(m,(-v+b)/y);return yn(B,p),[C,Cn(B)]}}}function r(e,n){var i=o?t:ka-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var s=Math.cos(t),o=s>0,a=ca(s)>Ba,l=pi(t,6*$a);return $n(e,n,l,o?[0,-t]:[-ka,t-ka])}function zn(t,e,n,i){return function(r){var s,o=r.a,a=r.b,l=o.x,c=o.y,h=a.x,u=a.y,d=0,f=1,p=h-l,g=u-c;if(s=t-l,p||!(s>0)){if(s/=p,0>p){if(d>s)return;f>s&&(f=s)}else if(p>0){if(s>f)return;s>d&&(d=s)}if(s=n-l,p||!(0>s)){if(s/=p,0>p){if(s>f)return;s>d&&(d=s)}else if(p>0){if(d>s)return;f>s&&(f=s)}if(s=e-c,g||!(s>0)){if(s/=g,0>g){if(d>s)return;f>s&&(f=s)}else if(g>0){if(s>f)return;s>d&&(d=s)}if(s=i-c,g||!(0>s)){if(s/=g,0>g){if(s>f)return;s>d&&(d=s)}else if(g>0){if(d>s)return;f>s&&(f=s)}return d>0&&(r.a={x:l+d*p,y:c+d*g}),1>f&&(r.b={x:l+f*p,y:c+f*g}),r}}}}}}function Un(t,e,n,i){function r(i,r){return ca(i[0]-t)<Ba?r>0?0:3:ca(i[0]-n)<Ba?r>0?2:1:ca(i[1]-e)<Ba?r>0?1:0:r>0?3:2}function s(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var s,o=1,a=m[r],l=a.length,c=a[0];l>o;++o)s=a[o],c[1]<=i?s[1]>i&&Q(c,s,t)>0&&++e:s[1]<=i&&Q(c,s,t)<0&&--e,c=s;return 0!==e}function c(s,a,l,c){var h=0,u=0;if(null==s||(h=r(s,l))!==(u=r(a,l))||o(s,a)<0^l>0){do c.point(0===h||3===h?t:n,h>1?i:e);while((h=(h+l+4)%4)!==u)}else c.point(a[0],a[1])}function h(r,s){return r>=t&&n>=r&&s>=e&&i>=s}function u(t,e){h(t,e)&&a.point(t,e)}function d(){S.point=p,m&&m.push(v=[]),E=!0,F=!1,C=A=0/0}function f(){g&&(p(y,w),b&&F&&k.rejoin(),g.push(k.buffer())),S.point=u,F&&a.lineEnd()}function p(t,e){t=Math.max(-Bl,Math.min(Bl,t)),e=Math.max(-Bl,Math.min(Bl,e));var n=h(t,e);if(m&&v.push([t,e]),E)y=t,w=e,b=n,E=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&F)a.point(t,e);else{var i={a:{x:C,y:A},b:{x:t,y:e}};D(i)?(F||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),x=!1):n&&(a.lineStart(),a.point(t,e),x=!1)}C=t,A=e,F=n}var g,m,v,y,w,b,C,A,F,E,x,_=a,k=Ln(),D=zn(t,e,n,i),S={point:u,lineStart:d,lineEnd:f,polygonStart:function(){a=k,g=[],m=[],x=!0},polygonEnd:function(){a=_,g=Ko.merge(g);var e=l([t,i]),n=x&&e,r=g.length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),r&&Sn(g,s,e,c,a),a.polygonEnd()),g=m=v=null}};return S}}function Wn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function jn(t){var e=0,n=ka/3,i=oi(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*ka/180,n=t[1]*ka/180):[e/ka*180,n/ka*180]},r}function Yn(t,e){function n(t,e){var n=Math.sqrt(s-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,s=1+i*(2*r-i),o=Math.sqrt(s)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,te((s-(t*t+n*n)*r*r)/(2*r))]},n}function Gn(){function t(t,e){$l+=r*t-i*e,i=t,r=e}var e,n,i,r;Il.point=function(s,o){Il.point=t,e=i=s,n=r=o},Il.lineEnd=function(){t(e,n)}}function Vn(t,e){Tl>t&&(Tl=t),t>Rl&&(Rl=t),Ll>e&&(Ll=e),e>Ol&&(Ol=e)}function qn(){function t(t,e){o.push("M",t,",",e,s)}function e(t,e){o.push("M",t,",",e),a.point=n}function n(t,e){o.push("L",t,",",e)}function i(){a.point=t}function r(){o.push("Z")}var s=Kn(4.5),o=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return s=Kn(t),a},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return a}function Kn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Zn(t,e){wl+=t,bl+=e,++Cl}function Xn(){function t(t,i){var r=t-e,s=i-n,o=Math.sqrt(r*r+s*s);Al+=o*(e+t)/2,Fl+=o*(n+i)/2,El+=o,Zn(e=t,n=i)}var e,n;Nl.point=function(i,r){Nl.point=t,Zn(e=i,n=r)}}function Qn(){Nl.point=Zn}function Jn(){function t(t,e){var n=t-i,s=e-r,o=Math.sqrt(n*n+s*s);Al+=o*(i+t)/2,Fl+=o*(r+e)/2,El+=o,o=r*t-i*e,xl+=o*(i+t),_l+=o*(r+e),kl+=3*o,Zn(i=t,r=e)}var e,n,i,r;Nl.point=function(s,o){Nl.point=t,Zn(e=i=s,n=r=o)},Nl.lineEnd=function(){t(e,n)}}function ti(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,o,0,Da)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function s(){t.closePath()}var o=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=s},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return o=t,a},result:y};return a}function ei(t){function e(t){return(a?i:n)(t)}function n(e){return ri(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){w=0/0,E.point=s,e.lineStart()}function s(n,i){var s=gn([n,i]),o=t(n,i);r(w,b,y,C,A,F,w=o[0],b=o[1],y=n,C=s[0],A=s[1],F=s[2],a,e),e.point(w,b)}function o(){E.point=n,e.lineEnd()}function l(){i(),E.point=c,E.lineEnd=h}function c(t,e){s(u=t,d=e),f=w,p=b,g=C,m=A,v=F,E.point=s}function h(){r(w,b,y,C,A,F,f,p,u,g,m,v,a,e),E.lineEnd=o,o()}var u,d,f,p,g,m,v,y,w,b,C,A,F,E={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=i}};return E}function r(e,n,i,a,l,c,h,u,d,f,p,g,m,v){var y=h-e,w=u-n,b=y*y+w*w;if(b>4*s&&m--){var C=a+f,A=l+p,F=c+g,E=Math.sqrt(C*C+A*A+F*F),x=Math.asin(F/=E),_=ca(ca(F)-1)<Ba||ca(i-d)<Ba?(i+d)/2:Math.atan2(A,C),k=t(_,x),D=k[0],S=k[1],B=D-e,M=S-n,$=w*B-y*M;($*$/b>s||ca((y*B+w*M)/b-.5)>.3||o>a*f+l*p+c*g)&&(r(e,n,i,a,l,c,D,S,_,C/=E,A/=E,F,m,v),v.point(D,S),r(D,S,_,C,A,F,h,u,d,f,p,g,m,v))}}var s=.5,o=Math.cos(30*$a),a=16;return e.precision=function(t){return arguments.length?(a=(s=t*t)>0&&16,e):Math.sqrt(s)},e}function ni(t){var e=ei(function(e,n){return t([e*Ta,n*Ta])});return function(t){return ai(e(t))}}function ii(t){this.stream=t}function ri(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function si(t){return oi(function(){return t})()}function oi(t){function e(t){return t=a(t[0]*$a,t[1]*$a),[t[0]*d+l,c-t[1]*d]}function n(t){return t=a.invert((t[0]-l)/d,(c-t[1])/d),t&&[t[0]*Ta,t[1]*Ta]}function i(){a=Wn(o=hi(v,y,w),s);var t=s(g,m);return l=f-t[0]*d,c=p+t[1]*d,r()}function r(){return h&&(h.valid=!1,h=null),e}var s,o,a,l,c,h,u=ei(function(t,e){return t=s(t,e),[t[0]*d+l,c-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,y=0,w=0,b=Sl,C=_e,A=null,F=null;return e.stream=function(t){return h&&(h.valid=!1),h=ai(b(o,u(C(t)))),h.valid=!0,h},e.clipAngle=function(t){return arguments.length?(b=null==t?(A=t,Sl):Hn((A=+t)*$a),r()):A},e.clipExtent=function(t){return arguments.length?(F=t,C=t?Un(t[0][0],t[0][1],t[1][0],t[1][1]):_e,r()):F},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*$a,m=t[1]%360*$a,i()):[g*Ta,m*Ta]},e.rotate=function(t){return arguments.length?(v=t[0]%360*$a,y=t[1]%360*$a,w=t.length>2?t[2]%360*$a:0,i()):[v*Ta,y*Ta,w*Ta]},Ko.rebind(e,u,"precision"),function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,i()}}function ai(t){return ri(t,function(e,n){t.point(e*$a,n*$a)})}function li(t,e){return[t,e]}function ci(t,e){return[t>ka?t-Da:-ka>t?t+Da:t,e]}function hi(t,e,n){return t?e||n?Wn(di(t),fi(e,n)):di(t):e||n?fi(e,n):ci}function ui(t){return function(e,n){return e+=t,[e>ka?e-Da:-ka>e?e+Da:e,n]}}function di(t){var e=ui(t);return e.invert=ui(-t),e}function fi(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),h=c*i+a*r;return[Math.atan2(l*s-h*o,a*i-c*r),te(h*s+l*o)]}var i=Math.cos(t),r=Math.sin(t),s=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),h=c*s-l*o;return[Math.atan2(l*s+c*o,a*i+h*r),te(h*i-a*r)]},n}function pi(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,s,o,a){var l=o*e;null!=r?(r=gi(n,r),s=gi(n,s),(o>0?s>r:r>s)&&(r+=o*Da)):(r=t+o*Da,s=t-.5*l);for(var c,h=r;o>0?h>s:s>h;h-=l)a.point((c=Cn([n,-i*Math.cos(h),-i*Math.sin(h)]))[0],c[1])}}function gi(t,e){var n=gn(e);n[0]-=t,bn(n);var i=J(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ba)%(2*Math.PI)}function mi(t,e,n){var i=Ko.range(t,e-Ba,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function vi(t,e,n){var i=Ko.range(t,e-Ba,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function yi(t){return t.source}function wi(t){return t.target}function bi(t,e,n,i){var r=Math.cos(e),s=Math.sin(e),o=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),c=r*Math.sin(t),h=o*Math.cos(n),u=o*Math.sin(n),d=2*Math.asin(Math.sqrt(re(i-e)+r*o*re(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*h,r=n*c+e*u,o=n*s+e*a;return[Math.atan2(r,i)*Ta,Math.atan2(o,Math.sqrt(i*i+r*r))*Ta]}:function(){return[t*Ta,e*Ta]};return p.distance=d,p}function Ci(){function t(t,r){var s=Math.sin(r*=$a),o=Math.cos(r),a=ca((t*=$a)-e),l=Math.cos(a);Hl+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=i*s-n*o*l)*a),n*s+i*o*l),e=t,n=s,i=o}var e,n,i;zl.point=function(r,s){e=r*$a,n=Math.sin(s*=$a),i=Math.cos(s),zl.point=t},zl.lineEnd=function(){zl.point=zl.lineEnd=y}}function Ai(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),s=t(i*r);return[s*r*Math.sin(e),s*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),s=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*s,i*o),Math.asin(i&&n*s/i)]},n}function Fi(t,e){function n(t,e){o>0?-Sa+Ba>e&&(e=-Sa+Ba):e>Sa-Ba&&(e=Sa-Ba);var n=o/Math.pow(r(e),s);return[n*Math.sin(s*t),o-n*Math.cos(s*t)]}var i=Math.cos(t),r=function(t){return Math.tan(ka/4+t/2)},s=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),s)/s;return s?(n.invert=function(t,e){var n=o-e,i=X(s)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/s,2*Math.atan(Math.pow(o/i,1/s))-Sa]},n):xi}function Ei(t,e){function n(t,e){var n=s-e;return[n*Math.sin(r*t),s-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),s=i/r+t;return ca(r)<Ba?li:(n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,s-X(r)*Math.sqrt(t*t+n*n)]},n)}function xi(t,e){return[t,Math.log(Math.tan(ka/4+e/2))]}function _i(t){var e,n=si(t),i=n.scale,r=n.translate,s=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=s.apply(n,arguments);if(o===n){if(e=null==t){var a=ka*i(),l=r();s([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(o=null);return o},n.clipExtent(null)}function ki(t,e){return[Math.log(Math.tan(ka/4+e/2)),-t]}function Di(t){return t[0]}function Si(t){return t[1]}function Bi(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Mi(t,e){return t[0]-e[0]||t[1]-e[1]}function $i(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ti(t,e,n,i){var r=t[0],s=n[0],o=e[0]-r,a=i[0]-s,l=t[1],c=n[1],h=e[1]-l,u=i[1]-c,d=(a*(l-c)-u*(r-s))/(u*o-a*h);return[r+d*o,l+d*h]}function Li(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Ri(){nr(this),this.edge=this.site=this.circle=null}function Oi(t){var e=Jl.pop()||new Ri;return e.site=t,e}function Ii(t){Vi(t),Zl.remove(t),Jl.push(t),nr(t)}function Pi(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},s=t.P,o=t.N,a=[t];Ii(t);for(var l=s;l.circle&&ca(n-l.circle.x)<Ba&&ca(i-l.circle.cy)<Ba;)s=l.P,a.unshift(l),Ii(l),l=s;a.unshift(l),Vi(l);for(var c=o;c.circle&&ca(n-c.circle.x)<Ba&&ca(i-c.circle.cy)<Ba;)o=c.N,a.push(c),Ii(c),c=o;a.push(c),Vi(c);var h,u=a.length;for(h=1;u>h;++h)c=a[h],l=a[h-1],Ji(c.edge,l.site,c.site,r);l=a[0],c=a[u-1],c.edge=Xi(l.site,c.site,null,r),Gi(l),Gi(c)}function Ni(t){for(var e,n,i,r,s=t.x,o=t.y,a=Zl._;a;)if(i=Hi(a,o)-s,i>Ba)a=a.L;else{if(r=s-zi(a,o),!(r>Ba)){i>-Ba?(e=a.P,n=a):r>-Ba?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=Oi(t);if(Zl.insert(e,l),e||n){if(e===n)return Vi(e),n=Oi(e.site),Zl.insert(l,n),l.edge=n.edge=Xi(e.site,l.site),Gi(e),void Gi(n);if(!n)return void(l.edge=Xi(e.site,l.site));Vi(e),Vi(n);var c=e.site,h=c.x,u=c.y,d=t.x-h,f=t.y-u,p=n.site,g=p.x-h,m=p.y-u,v=2*(d*m-f*g),y=d*d+f*f,w=g*g+m*m,b={x:(m*y-f*w)/v+h,y:(d*w-g*y)/v+u};Ji(n.edge,c,p,b),l.edge=Xi(c,t,null,b),n.edge=Xi(t,p,null,b),Gi(e),Gi(n)}}function Hi(t,e){var n=t.site,i=n.x,r=n.y,s=r-e;if(!s)return i;var o=t.P;if(!o)return-1/0;n=o.site;var a=n.x,l=n.y,c=l-e;if(!c)return a;var h=a-i,u=1/s-1/c,d=h/c;return u?(-d+Math.sqrt(d*d-2*u*(h*h/(-2*c)-l+c/2+r-s/2)))/u+i:(i+a)/2}function zi(t,e){var n=t.N;if(n)return Hi(n,e);var i=t.site;return i.y===e?i.x:1/0}function Ui(t){this.site=t,this.edges=[]}function Wi(t){for(var e,n,i,r,s,o,a,l,c,h,u=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=Kl,m=g.length;m--;)if(s=g[m],s&&s.prepare())for(a=s.edges,l=a.length,o=0;l>o;)h=a[o].end(),i=h.x,r=h.y,c=a[++o%l].start(),e=c.x,n=c.y,(ca(i-e)>Ba||ca(r-n)>Ba)&&(a.splice(o,0,new tr(Qi(s.site,h,ca(i-u)<Ba&&p-r>Ba?{x:u,y:ca(e-u)<Ba?n:p}:ca(r-p)<Ba&&d-i>Ba?{x:ca(n-p)<Ba?e:d,y:p}:ca(i-d)<Ba&&r-f>Ba?{x:d,y:ca(e-d)<Ba?n:f}:ca(r-f)<Ba&&i-u>Ba?{x:ca(n-f)<Ba?e:u,y:f}:null),s.site,null)),++l)}function ji(t,e){return e.angle-t.angle}function Yi(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gi(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,s=n.site;if(i!==s){var o=r.x,a=r.y,l=i.x-o,c=i.y-a,h=s.x-o,u=s.y-a,d=2*(l*u-c*h);if(!(d>=-Ma)){var f=l*l+c*c,p=h*h+u*u,g=(u*f-c*p)/d,m=(l*p-h*f)/d,u=m+a,v=tc.pop()||new Yi;v.arc=t,v.site=r,v.x=g+o,v.y=u+Math.sqrt(g*g+m*m),v.cy=u,t.circle=v;for(var y=null,w=Ql._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}Ql.insert(y,v),y||(Xl=v)}}}}function Vi(t){var e=t.circle;e&&(e.P||(Xl=e.N),Ql.remove(e),tc.push(e),nr(e),t.circle=null)}function qi(t){for(var e,n=ql,i=zn(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Ki(e,t)||!i(e)||ca(e.a.x-e.b.x)<Ba&&ca(e.a.y-e.b.y)<Ba)&&(e.a=e.b=null,n.splice(r,1))}function Ki(t,e){var n=t.b;if(n)return!0;var i,r,s=t.a,o=e[0][0],a=e[1][0],l=e[0][1],c=e[1][1],h=t.l,u=t.r,d=h.x,f=h.y,p=u.x,g=u.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(o>m||m>=a)return;if(d>p){if(s){if(s.y>=c)return}else s={x:m,y:l};n={x:m,y:c}}else{if(s){if(s.y<l)return}else s={x:m,y:c};n={x:m,y:l}}}else if(i=(d-p)/(g-f),r=v-i*m,-1>i||i>1)if(d>p){if(s){if(s.y>=c)return}else s={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(s){if(s.y<l)return}else s={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(g>f){if(s){if(s.x>=a)return}else s={x:o,y:i*o+r};n={x:a,y:i*a+r}}else{if(s){if(s.x<o)return}else s={x:a,y:i*a+r};n={x:o,y:i*o+r}}return t.a=s,t.b=n,!0}function Zi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Xi(t,e,n,i){var r=new Zi(t,e);return ql.push(r),n&&Ji(r,t,e,n),i&&Ji(r,e,t,i),Kl[t.i].edges.push(new tr(r,t,e)),Kl[e.i].edges.push(new tr(r,e,t)),r}function Qi(t,e,n){var i=new Zi(t,null);return i.a=e,i.b=n,ql.push(i),i}function Ji(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function tr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function rr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function sr(t){for(;t.L;)t=t.L;return t}function or(t,e){var n,i,r,s=t.sort(ar).pop();for(ql=[],Kl=new Array(t.length),Zl=new er,Ql=new er;;)if(r=Xl,s&&(!r||s.y<r.y||s.y===r.y&&s.x<r.x))(s.x!==n||s.y!==i)&&(Kl[s.i]=new Ui(s),Ni(s),n=s.x,i=s.y),s=t.pop();else{if(!r)break;Pi(r.arc)}e&&(qi(e),Wi(e));var o={cells:Kl,edges:ql};return Zl=Ql=ql=Kl=null,o}function ar(t,e){return e.y-t.y||e.x-t.x}function lr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function hr(t){return t.y}function ur(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,i,r,s){if(!t(e,n,i,r,s)){var o=.5*(n+r),a=.5*(i+s),l=e.nodes;l[0]&&dr(t,l[0],n,i,o,a),l[1]&&dr(t,l[1],o,i,r,a),l[2]&&dr(t,l[2],n,a,o,s),l[3]&&dr(t,l[3],o,a,r,s)}}function fr(t,e){t=Ko.rgb(t),e=Ko.rgb(e);var n=t.r,i=t.g,r=t.b,s=e.r-n,o=e.g-i,a=e.b-r;return function(t){return"#"+we(Math.round(n+s*t))+we(Math.round(i+o*t))+we(Math.round(r+a*t))}}function pr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=vr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function gr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mr(t,e){var n,i,r,s=nc.lastIndex=ic.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=nc.exec(t))&&(i=ic.exec(e));)(r=i.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:gr(n,i)})),s=ic.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function vr(t,e){for(var n,i=Ko.interpolators.length;--i>=0&&!(n=Ko.interpolators[i](t,e)););return n}function yr(t,e){var n,i=[],r=[],s=t.length,o=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(vr(t[n],e[n]));for(;s>n;++n)r[n]=t[n];for(;o>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function wr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function br(t){return function(e){return 1-t(1-e)}}function Cr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ar(t){return t*t}function Fr(t){return t*t*t}function Er(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function xr(t){return function(e){return Math.pow(e,t)}}function _r(t){return 1-Math.cos(t*Sa)}function kr(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Sr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Da*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Da/e)}}function Br(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Mr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function $r(t,e){t=Ko.hcl(t),e=Ko.hcl(e);var n=t.h,i=t.c,r=t.l,s=e.h-n,o=e.c-i,a=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:-180>s&&(s+=360),function(t){return ce(n+s*t,i+o*t,r+a*t)+""}}function Tr(t,e){t=Ko.hsl(t),e=Ko.hsl(e);var n=t.h,i=t.s,r=t.l,s=e.h-n,o=e.s-i,a=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:-180>s&&(s+=360),function(t){return ae(n+s*t,i+o*t,r+a*t)+""}}function Lr(t,e){t=Ko.lab(t),e=Ko.lab(e);var n=t.l,i=t.a,r=t.b,s=e.l-n,o=e.a-i,a=e.b-r;return function(t){return ue(n+s*t,i+o*t,r+a*t)+""}}function Rr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Or(t){var e=[t.a,t.b],n=[t.c,t.d],i=Pr(e),r=Ir(e,n),s=Pr(Nr(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ta,this.translate=[t.e,t.f],this.scale=[i,s],this.skew=s?Math.atan2(r,s)*Ta:0}function Ir(t,e){return t[0]*e[0]+t[1]*e[1]}function Pr(t){var e=Math.sqrt(Ir(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Nr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hr(t,e){var n,i=[],r=[],s=Ko.transform(t),o=Ko.transform(e),a=s.translate,l=o.translate,c=s.rotate,h=o.rotate,u=s.skew,d=o.skew,f=s.scale,p=o.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:gr(a[0],l[0])},{i:3,x:gr(a[1],l[1])})):i.push(l[0]||l[1]?"translate("+l+")":""),c!=h?(c-h>180?h+=360:h-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:gr(c,h)})):h&&i.push(i.pop()+"rotate("+h+")"),u!=d?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:gr(u,d)}):d&&i.push(i.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:gr(f[0],p[0])},{i:n-2,x:gr(f[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,s=-1;++s<n;)i[(e=r[s]).i]=e.x(t);
return i.join("")}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ur(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Wr(t){for(var e=t.source,n=t.target,i=Yr(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var s=r.length;n!==i;)r.splice(s,0,n),n=n.parent;return r}function jr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yr(t,e){if(t===e)return t;for(var n=jr(t),i=jr(e),r=n.pop(),s=i.pop(),o=null;r===s;)o=r,r=n.pop(),s=i.pop();return o}function Gr(t){t.fixed|=2}function Vr(t){t.fixed&=-7}function qr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Kr(t){t.fixed&=-5}function Zr(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var s,o=t.nodes,a=o.length,l=-1;++l<a;)s=o[l],null!=s&&(Zr(s,e,n),t.charge+=s.charge,i+=s.charge*s.cx,r+=s.charge*s.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,r+=c*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Xr(t,e){return Ko.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=is,t}function Qr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Jr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(s=t.children)&&(r=s.length))for(var r,s,o=-1;++o<r;)n.push(s[o]);for(;null!=(t=i.pop());)e(t)}function ts(t){return t.children}function es(t){return t.value}function ns(t,e){return e.value-t.value}function is(t){return Ko.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function rs(t){return t.x}function ss(t){return t.y}function os(t,e,n){t.y0=e,t.y=n}function as(t){return Ko.range(t.length)}function ls(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function cs(t){for(var e,n=1,i=0,r=t[0][1],s=t.length;s>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function hs(t){return t.reduce(us,0)}function us(t,e){return t+e[1]}function ds(t,e){return fs(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function fs(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,s=[];++n<=e;)s[n]=r*n+i;return s}function ps(t){return[Ko.min(t),Ko.max(t)]}function gs(t,e){return t.value-e.value}function ms(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function vs(t,e){t._pack_next=e,e._pack_prev=t}function ys(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function ws(t){function e(t){h=Math.min(t.x-t.r,h),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(c=n.length)){var n,i,r,s,o,a,l,c,h=1/0,u=-1/0,d=1/0,f=-1/0;if(n.forEach(bs),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(r=n[1],r.x=r.r,r.y=0,e(r),c>2))for(s=n[2],Fs(i,r,s),e(s),ms(i,s),i._pack_prev=s,ms(s,r),r=i._pack_next,o=3;c>o;o++){Fs(i,r,s=n[o]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(ys(a,s)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!ys(l,s);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?vs(i,r=a):vs(i=l,r),o--):(ms(i,s),r=s,e(s))}var v=(h+u)/2,y=(d+f)/2,w=0;for(o=0;c>o;o++)s=n[o],s.x-=v,s.y-=y,w=Math.max(w,s.r+Math.sqrt(s.x*s.x+s.y*s.y));t.r=w,n.forEach(Cs)}}function bs(t){t._pack_next=t._pack_prev=t}function Cs(t){delete t._pack_next,delete t._pack_prev}function As(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var s=-1,o=r.length;++s<o;)As(r[s],e,n,i)}function Fs(t,e,n){var i=t.r+n.r,r=e.x-t.x,s=e.y-t.y;if(i&&(r||s)){var o=e.r+n.r,a=r*r+s*s;o*=o,i*=i;var l=.5+(i-o)/(2*a),c=Math.sqrt(Math.max(0,2*o*(i+a)-(i-=a)*i-o*o))/(2*a);n.x=t.x+l*r+c*s,n.y=t.y+l*s-c*r}else n.x=t.x+i,n.y=t.y}function Es(t,e){return t.parent==e.parent?1:2}function xs(t){var e=t.children;return e.length?e[0]:t.t}function _s(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ks(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Ds(t){for(var e,n=0,i=0,r=t.children,s=r.length;--s>=0;)e=r[s],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ss(t,e,n){return t.a.parent===e.parent?t.a:n}function Bs(t){return 1+Ko.max(t,function(t){return t.y})}function Ms(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function $s(t){var e=t.children;return e&&e.length?$s(e[0]):t}function Ts(t){var e,n=t.children;return n&&(e=n.length)?Ts(n[e-1]):t}function Ls(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Rs(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],s=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>s&&(i+=s/2,s=0),{x:n,y:i,dx:r,dy:s}}function Os(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Is(t){return t.rangeExtent?t.rangeExtent():Os(t.range())}function Ps(t,e,n,i){var r=n(t[0],t[1]),s=i(e[0],e[1]);return function(t){return s(r(t))}}function Ns(t,e){var n,i=0,r=t.length-1,s=t[i],o=t[r];return s>o&&(n=i,i=r,r=n,n=s,s=o,o=n),t[i]=e.floor(s),t[r]=e.ceil(o),t}function Hs(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:pc}function zs(t,e,n,i){var r=[],s=[],o=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=a;)r.push(n(t[o-1],t[o])),s.push(i(e[o-1],e[o]));return function(e){var n=Ko.bisect(t,e,1,a)-1;return s[n](r[n](e))}}function Us(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?zs:Ps,l=i?Ur:zr;return o=r(t,e,l,n),a=r(e,t,l,vr),s}function s(t){return o(t)}var o,a;return s.invert=function(t){return a(t)},s.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},s.range=function(t){return arguments.length?(e=t,r()):e},s.rangeRound=function(t){return s.range(t).interpolate(Rr)},s.clamp=function(t){return arguments.length?(i=t,r()):i},s.interpolate=function(t){return arguments.length?(n=t,r()):n},s.ticks=function(e){return Gs(t,e)},s.tickFormat=function(e,n){return Vs(t,e,n)},s.nice=function(e){return js(t,e),r()},s.copy=function(){return Us(t,e,n,i)},r()}function Ws(t,e){return Ko.rebind(t,e,"range","rangeRound","interpolate","clamp")}function js(t,e){return Ns(t,Hs(Ys(t,e)[2]))}function Ys(t,e){null==e&&(e=10);var n=Os(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),s=e/i*r;return.15>=s?r*=10:.35>=s?r*=5:.75>=s&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Gs(t,e){return Ko.range.apply(Ko,Ys(t,e))}function Vs(t,e,n){var i=Ys(t,e);if(n){var r=nl.exec(n);if(r.shift(),"s"===r[8]){var s=Ko.formatPrefix(Math.max(ca(i[0]),ca(i[1])));return r[7]||(r[7]="."+qs(s.scale(i[2]))),r[8]="f",n=Ko.format(r.join("")),function(t){return n(s.scale(t))+s.symbol}}r[7]||(r[7]="."+Ks(r[8],i)),n=r.join("")}else n=",."+qs(i[2])+"f";return Ko.format(n)}function qs(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ks(t,e){var n=qs(e[2]);return t in gc?Math.abs(n-qs(Math.max(ca(e[0]),ca(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Zs(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function s(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return s(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=Ns(i.map(r),n?Math:vc);return t.domain(e),i=e.map(s),o},o.ticks=function(){var t=Os(i),o=[],a=t[0],l=t[1],c=Math.floor(r(a)),h=Math.ceil(r(l)),u=e%1?2:e;if(isFinite(h-c)){if(n){for(;h>c;c++)for(var d=1;u>d;d++)o.push(s(c)*d);o.push(s(c))}else for(o.push(s(c));c++<h;)for(var d=u-1;d>0;d--)o.push(s(c)*d);for(c=0;o[c]<a;c++);for(h=o.length;o[h-1]>l;h--);o=o.slice(c,h)}return o},o.tickFormat=function(t,e){if(!arguments.length)return mc;arguments.length<2?e=mc:"function"!=typeof e&&(e=Ko.format(e));var i,a=Math.max(.1,t/o.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/s(l(r(t)+i))<=a?e(t):""}},o.copy=function(){return Zs(t.copy(),e,n,i)},Ws(o,t)}function Xs(t,e,n){function i(e){return t(r(e))}var r=Qs(e),s=Qs(1/e);return i.invert=function(e){return s(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Gs(n,t)},i.tickFormat=function(t,e){return Vs(n,t,e)},i.nice=function(t){return i.domain(js(n,t))},i.exponent=function(o){return arguments.length?(r=Qs(e=o),s=Qs(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Xs(t.copy(),e,n)},Ws(i,t)}function Qs(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function Js(t,e){function n(n){return s[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):0/0))-1)%s.length]}function i(e,n){return Ko.range(t.length).map(function(t){return e+n*t})}var r,s,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new a;for(var s,o=-1,l=i.length;++o<l;)r.has(s=i[o])||r.set(s,t.push(s));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(s=t,o=0,e={t:"range",a:arguments},n):s},n.rangePoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],c=r[1],h=(c-l)/(Math.max(1,t.length-1)+a);return s=i(t.length<2?(l+c)/2:l+h*a/2,h),o=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=r[1]<r[0],h=r[c-0],u=r[1-c],d=(u-h)/(t.length-a+2*l);return s=i(h+d*l,d),c&&s.reverse(),o=d*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=r[1]<r[0],h=r[c-0],u=r[1-c],d=Math.floor((u-h)/(t.length-a+2*l)),f=u-h-(t.length-a)*d;return s=i(h+Math.round(f/2),d),c&&s.reverse(),o=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Os(e.a[0])},n.copy=function(){return Js(t,e)},n.domain(t)}function to(i,r){function s(){var t=0,e=r.length;for(a=[];++t<e;)a[t-1]=Ko.quantile(i,t/e);return o}function o(t){return isNaN(t=+t)?void 0:r[Ko.bisect(a,t)]}var a;return o.domain=function(r){return arguments.length?(i=r.map(e).filter(n).sort(t),s()):i},o.range=function(t){return arguments.length?(r=t,s()):r},o.quantiles=function(){return a},o.invertExtent=function(t){return t=r.indexOf(t),0>t?[0/0,0/0]:[t>0?a[t-1]:i[0],t<a.length?a[t]:i[i.length-1]]},o.copy=function(){return to(i,r)},s()}function eo(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(s*(e-t))))]}function r(){return s=n.length/(e-t),o=n.length-1,i}var s,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/s+t,[e,e+1/s]},i.copy=function(){return eo(t,e,n)},r()}function no(t,e){function n(n){return n>=n?e[Ko.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return no(t,e)},n}function io(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Gs(t,e)},e.tickFormat=function(e,n){return Vs(t,e,n)},e.copy=function(){return io(t)},e}function ro(t){return t.innerRadius}function so(t){return t.outerRadius}function oo(t){return t.startAngle}function ao(t){return t.endAngle}function lo(t){function e(e){function o(){c.push("M",s(t(h),a))}for(var l,c=[],h=[],u=-1,d=e.length,f=xe(n),p=xe(i);++u<d;)r.call(this,l=e[u],u)?h.push([+f.call(this,l,u),+p.call(this,l,u)]):h.length&&(o(),h=[]);return h.length&&o(),c.length?c.join(""):null}var n=Di,i=Si,r=Dn,s=co,o=s.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?s=t:(s=Ec.get(t)||co).key,e):o},e.tension=function(t){return arguments.length?(a=t,e):a},e}function co(t){return t.join("L")}function ho(t){return co(t)+"Z"}function uo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function fo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function po(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function go(t,e){return t.length<4?co(t):t[1]+yo(t.slice(1,t.length-1),wo(t,e))}function mo(t,e){return t.length<3?co(t):t[0]+yo((t.push(t[0]),t),wo([t[t.length-2]].concat(t,[t[1]]),e))}function vo(t,e){return t.length<3?co(t):t[0]+yo(t,wo(t,e))}function yo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return co(t);var n=t.length!=e.length,i="",r=t[0],s=t[1],o=e[0],a=o,l=1;if(n&&(i+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],r=t[1],l=2),e.length>1){a=e[1],s=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1];for(var c=2;c<e.length;c++,l++)s=t[l],a=e[c],i+="S"+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1]}if(n){var h=t[l];i+="Q"+(s[0]+2*a[0]/3)+","+(s[1]+2*a[1]/3)+","+h[0]+","+h[1]}return i}function wo(t,e){for(var n,i=[],r=(1-e)/2,s=t[0],o=t[1],a=1,l=t.length;++a<l;)n=s,s=o,o=t[a],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function bo(t){if(t.length<3)return co(t);var e=1,n=t.length,i=t[0],r=i[0],s=i[1],o=[r,r,r,(i=t[1])[0]],a=[s,s,s,i[1]],l=[r,",",s,"L",Eo(kc,o),",",Eo(kc,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),a.shift(),a.push(i[1]),xo(l,o,a);return t.pop(),l.push("L",i),l.join("")}function Co(t){if(t.length<4)return co(t);for(var e,n=[],i=-1,r=t.length,s=[0],o=[0];++i<3;)e=t[i],s.push(e[0]),o.push(e[1]);for(n.push(Eo(kc,s)+","+Eo(kc,o)),--i;++i<r;)e=t[i],s.shift(),s.push(e[0]),o.shift(),o.push(e[1]),xo(n,s,o);return n.join("")}function Ao(t){for(var e,n,i=-1,r=t.length,s=r+4,o=[],a=[];++i<4;)n=t[i%r],o.push(n[0]),a.push(n[1]);for(e=[Eo(kc,o),",",Eo(kc,a)],--i;++i<s;)n=t[i%r],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),xo(e,o,a);return e.join("")}function Fo(t,e){var n=t.length-1;if(n)for(var i,r,s=t[0][0],o=t[0][1],a=t[n][0]-s,l=t[n][1]-o,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(s+r*a),i[1]=e*i[1]+(1-e)*(o+r*l);return bo(t)}function Eo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function xo(t,e,n){t.push("C",Eo(xc,e),",",Eo(xc,n),",",Eo(_c,e),",",Eo(_c,n),",",Eo(kc,e),",",Eo(kc,n))}function _o(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ko(t){for(var e=0,n=t.length-1,i=[],r=t[0],s=t[1],o=i[0]=_o(r,s);++e<n;)i[e]=(o+(o=_o(r=s,s=t[e+1])))/2;return i[e]=o,i}function Do(t){for(var e,n,i,r,s=[],o=ko(t),a=-1,l=t.length-1;++a<l;)e=_o(t[a],t[a+1]),ca(e)<Ba?o[a]=o[a+1]=0:(n=o[a]/e,i=o[a+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[a]=r*n,o[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),s.push([r||0,o[a]*r||0]);return s}function So(t){return t.length<3?co(t):t[0]+yo(t,Do(t))}function Bo(t){for(var e,n,i,r=-1,s=t.length;++r<s;)e=t[r],n=e[0],i=e[1]+Ac,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Mo(t){function e(e){function l(){g.push("M",a(t(v),u),h,c(t(m.reverse()),u),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,w=e.length,b=xe(n),C=xe(r),A=n===i?function(){return f}:xe(i),F=r===s?function(){return p}:xe(s);++y<w;)o.call(this,d=e[y],y)?(m.push([f=+b.call(this,d,y),p=+C.call(this,d,y)]),v.push([+A.call(this,d,y),+F.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Di,i=Di,r=0,s=Si,o=Dn,a=co,l=a.key,c=a,h="L",u=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=s=t,e):s},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(s=t,e):s},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Ec.get(t)||co).key,c=a.reverse||a,h=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(u=t,e):u},e}function $o(t){return t.radius}function To(t){return[t.x,t.y]}function Lo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+Ac;return[n*Math.cos(i),n*Math.sin(i)]}}function Ro(){return 64}function Oo(){return"circle"}function Io(t){var e=Math.sqrt(t/ka);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Po(t,e){return pa(t,Tc),t.id=e,t}function No(t,e,n,i){var r=t.id;return N(t,"function"==typeof n?function(t,s,o){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,s,o)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function Ho(t){return null==t&&(t=""),function(){this.textContent=t}}function zo(t,e,n,i){var r=t.__transition__||(t.__transition__={active:0,count:0}),s=r[n];if(!s){var o=i.time;s=r[n]={tween:new a,time:o,ease:i.ease,delay:i.delay,duration:i.duration},++r.count,Ko.timer(function(i){function a(i){return r.active>n?c():(r.active=n,s.event&&s.event.start.call(t,h,e),s.tween.forEach(function(n,i){(i=i.call(t,h,e))&&g.push(i)}),void Ko.timer(function(){return p.c=l(i||1)?Dn:l,1},0,o))}function l(i){if(r.active!==n)return c();for(var o=i/f,a=u(o),l=g.length;l>0;)g[--l].call(t,a);return o>=1?(s.event&&s.event.end.call(t,h,e),c()):void 0}function c(){return--r.count?delete r[n]:delete t.__transition__,1}var h=t.__data__,u=s.ease,d=s.delay,f=s.duration,p=Ja,g=[];return p.t=d+o,i>=d?a(i-d):void(p.c=a)},0,o)}}function Uo(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Wo(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function jo(t){return t.toISOString()}function Yo(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,s=Ko.bisect(Uc,r);return s==Uc.length?[e.year,Ys(t.map(function(t){return t/31536e6}),n)[2]]:s?e[r/Uc[s-1]<Uc[s]/r?s-1:s]:[Yc,Ys(t,n)[2]]}return i.invert=function(e){return Go(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Go)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Go(+n+1),e).length}var s=i.domain(),o=Os(s),a=null==t?r(o,10):"number"==typeof t&&r(o,t);return a&&(t=a[0],e=a[1]),i.domain(Ns(s,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Go(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Go(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Os(i.domain()),s=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return s&&(t=s[0],e=s[1]),t.range(n[0],Go(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Yo(t.copy(),e,n)},Ws(i,t)}function Go(t){return new Date(t)}function Vo(t){return JSON.parse(t.responseText)}function qo(t){var e=Qo.createRange();return e.selectNode(Qo.body),e.createContextualFragment(t.responseText)}var Ko={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var Zo=[].slice,Xo=function(t){return Zo.call(t)},Qo=document,Jo=Qo.documentElement,ta=window;try{Xo(Jo.childNodes)[0].nodeType}catch(ea){Xo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Qo.createElement("div").style.setProperty("opacity",0,"")}catch(na){var ia=ta.Element.prototype,ra=ia.setAttribute,sa=ia.setAttributeNS,oa=ta.CSSStyleDeclaration.prototype,aa=oa.setProperty;ia.setAttribute=function(t,e){ra.call(this,t,e+"")},ia.setAttributeNS=function(t,e,n){sa.call(this,t,e,n+"")},oa.setProperty=function(t,e,n){aa.call(this,t,e+"",n)}}Ko.ascending=t,Ko.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},Ko.min=function(t,e){var n,i,r=-1,s=t.length;if(1===arguments.length){for(;++r<s&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<s;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<s&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<s;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},Ko.max=function(t,e){var n,i,r=-1,s=t.length;if(1===arguments.length){for(;++r<s&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<s;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<s&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<s;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},Ko.extent=function(t,e){var n,i,r,s=-1,o=t.length;if(1===arguments.length){for(;++s<o&&!(null!=(n=r=t[s])&&n>=n);)n=r=void 0;for(;++s<o;)null!=(i=t[s])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++s<o&&!(null!=(n=r=e.call(t,t[s],s))&&n>=n);)n=void 0;for(;++s<o;)null!=(i=e.call(t,t[s],s))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},Ko.sum=function(t,e){var i,r=0,s=t.length,o=-1;if(1===arguments.length)for(;++o<s;)n(i=+t[o])&&(r+=i);else for(;++o<s;)n(i=+e.call(t,t[o],o))&&(r+=i);return r},Ko.mean=function(t,i){var r,s=0,o=t.length,a=-1,l=o;if(1===arguments.length)for(;++a<o;)n(r=e(t[a]))?s+=r:--l;else for(;++a<o;)n(r=e(i.call(t,t[a],a)))?s+=r:--l;return l?s/l:void 0},Ko.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],s=n-i;return s?r+s*(t[i]-r):r},Ko.median=function(i,r){var s,o=[],a=i.length,l=-1;if(1===arguments.length)for(;++l<a;)n(s=e(i[l]))&&o.push(s);else for(;++l<a;)n(s=e(r.call(i,i[l],l)))&&o.push(s);return o.length?Ko.quantile(o.sort(t),.5):void 0};var la=i(t);Ko.bisectLeft=la.left,Ko.bisect=Ko.bisectRight=la.right,Ko.bisector=function(e){return i(1===e.length?function(n,i){return t(e(n),i)}:e)},Ko.shuffle=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t},Ko.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Ko.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],s=new Array(0>i?0:i);i>n;)s[n]=[e=r,r=t[++n]];return s},Ko.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=Ko.min(arguments,r),n=new Array(e);++t<e;)for(var i,s=-1,o=n[t]=new Array(i);++s<i;)o[s]=arguments[s][t];return n},Ko.transpose=function(t){return Ko.zip.apply(Ko,t)},Ko.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Ko.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ko.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Ko.merge=function(t){for(var e,n,i,r=t.length,s=-1,o=0;++s<r;)o+=t[s].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var ca=Math.abs;Ko.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=s(ca(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},Ko.map=function(t){var e=new a;if(t instanceof a)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e};var ha="__proto__",ua="\x00";o(a,{has:h,get:function(t){return this._[l(t)]},set:function(t,e){return this._[l(t)]=e},remove:u,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:c(e),value:this._[e]});return t},size:f,empty:p,forEach:function(t){for(var e in this._)t.call(this,c(e),this._[e])}}),Ko.nest=function(){function t(e,o,l){if(l>=s.length)return i?i.call(r,o):n?o.sort(n):o;for(var c,h,u,d,f=-1,p=o.length,g=s[l++],m=new a;++f<p;)(d=m.get(c=g(h=o[f])))?d.push(h):m.set(c,[h]);return e?(h=e(),u=function(n,i){h.set(n,t(e,i,l))}):(h={},u=function(n,i){h[n]=t(e,i,l)}),m.forEach(u),h}function e(t,n){if(n>=s.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},s=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(Ko.map,n,0),0)},r.key=function(t){return s.push(t),r},r.sortKeys=function(t){return o[s.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},Ko.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},o(g,{has:h,add:function(t){return this._[l(t+="")]=!0,t},remove:u,values:d,size:f,empty:p,forEach:function(t){for(var e in this._)t.call(this,c(e))}}),Ko.behavior={},Ko.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=m(t,e,e[n]);return t};var da=["webkit","ms","moz","Moz","o","O"];Ko.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},Ko.event=null,Ko.requote=function(t){return t.replace(fa,"\\$&")};var fa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,pa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ga=function(t,e){return e.querySelector(t)},ma=function(t,e){return e.querySelectorAll(t)},va=Jo.matches||Jo[v(Jo,"matchesSelector")],ya=function(t,e){return va.call(t,e)};"function"==typeof Sizzle&&(ga=function(t,e){return Sizzle(t,e)[0]||null},ma=Sizzle,ya=Sizzle.matchesSelector),Ko.selection=function(){return Aa};var wa=Ko.selection.prototype=[];wa.select=function(t){var e,n,i,r,s=[];t=x(t);for(var o=-1,a=this.length;++o<a;){s.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return E(s)},wa.selectAll=function(t){var e,n,i=[];t=_(t);for(var r=-1,s=this.length;++r<s;)for(var o=this[r],a=-1,l=o.length;++a<l;)(n=o[a])&&(i.push(e=Xo(t.call(n,n.__data__,a,r))),e.parentNode=n);return E(i)};var ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ko.ns={prefix:ba,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),ba.hasOwnProperty(n)?{space:ba[n],local:t}:t}},wa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Ko.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},wa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=B(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!S(t[r]).test(e))return!1;return!0}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},wa.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(T(n,t[n],e));return this}if(2>i)return ta.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(T(t,e,n))},wa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},wa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},wa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},wa.append=function(t){return t=R(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},wa.insert=function(t,e){return t=R(t),e=x(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},wa.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},wa.data=function(t,e){function n(t,n){var i,r,s,o=t.length,u=n.length,d=Math.min(o,u),f=new Array(u),p=new Array(u),g=new Array(o);if(e){var m,v=new a,y=new Array(o);for(i=-1;++i<o;)v.has(m=e.call(r=t[i],r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m;for(i=-1;++i<u;)(r=v.get(m=e.call(n,s=n[i],i)))?r!==!0&&(f[i]=r,r.__data__=s):p[i]=O(s),v.set(m,!0);for(i=-1;++i<o;)v.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<d;)r=t[i],s=n[i],r?(r.__data__=s,f[i]=r):p[i]=O(s);for(;u>i;++i)p[i]=O(n[i]);for(;o>i;++i)g[i]=t[i]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,l.push(p),c.push(f),h.push(g)}var i,r,s=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++s<o;)(r=i[s])&&(t[s]=r.__data__);return t}var l=H([]),c=E([]),h=E([]);if("function"==typeof t)for(;++s<o;)n(i=this[s],t.call(i,i.parentNode.__data__,s));else for(;++s<o;)n(i=this[s],t);return c.enter=function(){return l},c.exit=function(){return h},c},wa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},wa.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=I(t));for(var s=0,o=this.length;o>s;s++){r.push(e=[]),e.parentNode=(n=this[s]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,s)&&e.push(i)}return E(r)},wa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,s=i[r];--r>=0;)(n=i[r])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},wa.sort=function(t){t=P.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},wa.each=function(t){return N(this,function(e,n,i){t.call(e,e.__data__,n,i)})},wa.call=function(t){var e=Xo(arguments);return t.apply(e[0]=this,e),this},wa.empty=function(){return!this.node()},wa.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var s=n[i];if(s)return s}return null},wa.size=function(){var t=0;return N(this,function(){++t}),t};var Ca=[];Ko.selection.enter=H,Ko.selection.enter.prototype=Ca,Ca.append=wa.append,Ca.empty=wa.empty,Ca.node=wa.node,Ca.call=wa.call,Ca.size=wa.size,Ca.select=function(t){for(var e,n,i,r,s,o=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,h=r.length;++c<h;)(s=r[c])?(e.push(i[c]=n=t.call(r.parentNode,s.__data__,c,a)),n.__data__=s.__data__):e.push(null)}return E(o)},Ca.insert=function(t,e){return arguments.length<2&&(e=z(this)),wa.insert.call(this,t,e)},wa.transition=function(){for(var t,e,n=Sc||++Lc,i=[],r=Bc||{time:Date.now(),ease:Er,delay:0,duration:250},s=-1,o=this.length;++s<o;){i.push(t=[]);for(var a=this[s],l=-1,c=a.length;++l<c;)(e=a[l])&&zo(e,l,n,r),t.push(e)}return Po(i,n)},wa.interrupt=function(){return this.each(U)},Ko.select=function(t){var e=["string"==typeof t?ga(t,Qo):t];return e.parentNode=Jo,E([e])},Ko.selectAll=function(t){var e=Xo("string"==typeof t?ma(t,Qo):t);return e.parentNode=Jo,E([e])};var Aa=Ko.select(Jo);wa.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(W(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(W(t,e,n))};var Fa=Ko.map({mouseenter:"mouseover",mouseleave:"mouseout"});Fa.forEach(function(t){"on"+t in Qo&&Fa.remove(t)});var Ea="onselectstart"in Qo?null:v(Jo.style,"userSelect"),xa=0;Ko.mouse=function(t){return V(t,A())};var _a=/WebKit/.test(ta.navigator.userAgent)?-1:0;Ko.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=A().changedTouches),e)for(var i,r=0,s=e.length;s>r;++r)if((i=e[r]).identifier===n)return V(t,i)},Ko.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",s)}function e(t,e,r,s,o){return function(){function a(){var t,n,i=e(d,g);i&&(t=i[0]-w[0],n=i[1]-w[1],p|=t|n,w=i,f({type:"drag",x:i[0]+c[0],y:i[1]+c[1],dx:t,dy:n}))}function l(){e(d,g)&&(v.on(s+m,null).on(o+m,null),y(p&&Ko.event.target===u),f({type:"dragend"}))}var c,h=this,u=Ko.event.target,d=h.parentNode,f=n.of(h,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=Ko.select(r()).on(s+m,a).on(o+m,l),y=G(),w=e(d,g);i?(c=i.apply(h,arguments),c=[c.x-w[0],c.y-w[1]]):c=[0,0],f({type:"dragstart"})}}var n=F(t,"drag","dragstart","dragend"),i=null,r=e(y,Ko.mouse,Z,"mousemove","mouseup"),s=e(q,Ko.touch,K,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},Ko.rebind(t,n,"on")},Ko.touches=function(t,e){return arguments.length<2&&(e=A().touches),e?Xo(e).map(function(e){var n=V(t,e);return n.identifier=e.identifier,n}):[]};var ka=Math.PI,Da=2*ka,Sa=ka/2,Ba=1e-6,Ma=Ba*Ba,$a=ka/180,Ta=180/ka,La=Math.SQRT2,Ra=2,Oa=4;Ko.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=ne(g),o=s/(Ra*d)*(n*ie(La*e+g)-ee(g));return[i+o*c,r+o*h,s*n/ne(La*e+g)]}return[i+t*c,r+t*h,s*Math.exp(La*e)]}var i=t[0],r=t[1],s=t[2],o=e[0],a=e[1],l=e[2],c=o-i,h=a-r,u=c*c+h*h,d=Math.sqrt(u),f=(l*l-s*s+Oa*u)/(2*s*Ra*d),p=(l*l-s*s-Oa*u)/(2*l*Ra*d),g=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/s))/La;return n.duration=1e3*y,n},Ko.behavior.zoom=function(){function t(t){t.on(k,c).on(Na+".zoom",u).on("dblclick.zoom",d).on(B,h)
}function e(t){return[(t[0]-E.x)/E.k,(t[1]-E.y)/E.k]}function n(t){return[t[0]*E.k+E.x,t[1]*E.k+E.y]}function i(t){E.k=Math.max(_[0],Math.min(_[1],t))}function r(t,e){e=n(e),E.x+=t[0]-e[0],E.y+=t[1]-e[1]}function s(){w&&w.domain(y.range().map(function(t){return(t-E.x)/E.k}).map(y.invert)),A&&A.domain(b.range().map(function(t){return(t-E.y)/E.k}).map(b.invert))}function o(t){t({type:"zoomstart"})}function a(t){s(),t({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function l(t){t({type:"zoomend"})}function c(){function t(){h=1,r(Ko.mouse(i),d),a(c)}function n(){u.on(D,null).on(S,null),f(h&&Ko.event.target===s),l(c)}var i=this,s=Ko.event.target,c=M.of(i,arguments),h=0,u=Ko.select(ta).on(D,t).on(S,n),d=e(Ko.mouse(i)),f=G();U.call(i),o(c)}function h(){function t(){var t=Ko.touches(f);return d=E.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=Ko.event.target;Ko.select(e).on(w,s).on(b,u),A.push(e);for(var n=Ko.event.changedTouches,o=0,l=n.length;l>o;++o)g[n[o].identifier]=null;var c=t(),h=Date.now();if(1===c.length){if(500>h-v){var d=c[0],f=g[d.identifier];i(2*E.k),r(d,f),C(),a(p)}v=h}else if(c.length>1){var d=c[0],y=c[1],F=d[0]-y[0],x=d[1]-y[1];m=F*F+x*x}}function s(){for(var t,e,n,s,o=Ko.touches(f),l=0,c=o.length;c>l;++l,s=null)if(n=o[l],s=g[n.identifier]){if(e)break;t=n,e=s}if(s){var h=(h=n[0]-t[0])*h+(h=n[1]-t[1])*h,u=m&&Math.sqrt(h/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+s[0])/2,(e[1]+s[1])/2],i(u*d)}v=null,r(t,e),a(p)}function u(){if(Ko.event.touches.length){for(var e=Ko.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var r in g)return void t()}Ko.selectAll(A).on(y,null),F.on(k,c).on(B,h),x(),l(p)}var d,f=this,p=M.of(f,arguments),g={},m=0,y=".zoom-"+Ko.event.changedTouches[0].identifier,w="touchmove"+y,b="touchend"+y,A=[],F=Ko.select(f),x=G();U.call(f),n(),o(p),F.on(k,null).on(B,n)}function u(){var t=M.of(this,arguments);m?clearTimeout(m):(f=e(p=g||Ko.mouse(this)),U.call(this),o(t)),m=setTimeout(function(){m=null,l(t)},50),C(),i(Math.pow(2,.002*Ia())*E.k),r(p,f),a(t)}function d(){var t=M.of(this,arguments),n=Ko.mouse(this),s=e(n),c=Math.log(E.k)/Math.LN2;o(t),i(Math.pow(2,Ko.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),r(n,s),a(t),l(t)}var f,p,g,m,v,y,w,b,A,E={x:0,y:0,k:1},x=[960,500],_=Pa,k="mousedown.zoom",D="mousemove.zoom",S="mouseup.zoom",B="touchstart.zoom",M=F(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=M.of(this,arguments),e=E;Sc?Ko.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},o(t)}).tween("zoom:zoom",function(){var n=x[0],i=x[1],r=n/2,s=i/2,o=Ko.interpolateZoom([(r-E.x)/E.k,(s-E.y)/E.k,n/E.k],[(r-e.x)/e.k,(s-e.y)/e.k,n/e.k]);return function(e){var i=o(e),l=n/i[2];this.__chart__=E={x:r-i[0]*l,y:s-i[1]*l,k:l},a(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=E,o(t),a(t),l(t))})},t.translate=function(e){return arguments.length?(E={x:+e[0],y:+e[1],k:E.k},s(),t):[E.x,E.y]},t.scale=function(e){return arguments.length?(E={x:E.x,y:E.y,k:+e},s(),t):E.k},t.scaleExtent=function(e){return arguments.length?(_=null==e?Pa:[+e[0],+e[1]],t):_},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(x=e&&[+e[0],+e[1]],t):x},t.x=function(e){return arguments.length?(w=e,y=e.copy(),E={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(A=e,b=e.copy(),E={x:0,y:0,k:1},t):A},Ko.rebind(t,M,"on")};var Ia,Pa=[0,1/0],Na="onwheel"in Qo?(Ia=function(){return-Ko.event.deltaY*(Ko.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qo?(Ia=function(){return Ko.event.wheelDelta},"mousewheel"):(Ia=function(){return-Ko.event.detail},"MozMousePixelScroll");Ko.color=se,se.prototype.toString=function(){return this.rgb()+""},Ko.hsl=oe;var Ha=oe.prototype=new se;Ha.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new oe(this.h,this.s,this.l/t)},Ha.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new oe(this.h,this.s,t*this.l)},Ha.rgb=function(){return ae(this.h,this.s,this.l)},Ko.hcl=le;var za=le.prototype=new se;za.brighter=function(t){return new le(this.h,this.c,Math.min(100,this.l+Ua*(arguments.length?t:1)))},za.darker=function(t){return new le(this.h,this.c,Math.max(0,this.l-Ua*(arguments.length?t:1)))},za.rgb=function(){return ce(this.h,this.c,this.l).rgb()},Ko.lab=he;var Ua=18,Wa=.95047,ja=1,Ya=1.08883,Ga=he.prototype=new se;Ga.brighter=function(t){return new he(Math.min(100,this.l+Ua*(arguments.length?t:1)),this.a,this.b)},Ga.darker=function(t){return new he(Math.max(0,this.l-Ua*(arguments.length?t:1)),this.a,this.b)},Ga.rgb=function(){return ue(this.l,this.a,this.b)},Ko.rgb=me;var Va=me.prototype=new se;Va.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new me(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new me(r,r,r)},Va.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new me(t*this.r,t*this.g,t*this.b)},Va.hsl=function(){return Ce(this.r,this.g,this.b)},Va.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var qa=Ko.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});qa.forEach(function(t,e){qa.set(t,ve(e))}),Ko.functor=xe,Ko.xhr=ke(_e),Ko.dsv=function(t,e){function n(t,n,s){arguments.length<3&&(s=n,n=null);var o=De(t,e,null==n?i:r(n),s);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function s(e){return e.map(o).join(t)}function o(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(h>=c)return o;if(r)return r=!1,s;var e=h;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}h=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++h):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c>h;){var i=t.charCodeAt(h++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(h)&&(++h,++a);else if(i!==l)continue;return t.slice(e,h-a)}return t.slice(e)}for(var i,r,s={},o={},a=[],c=t.length,h=0,u=0;(i=n())!==o;){for(var d=[];i!==s&&i!==o;)d.push(i),i=n();e&&null==(d=e(d,u++))||a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new g,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(s).join("\n")},n},Ko.csv=Ko.dsv(",","text/csv"),Ko.tsv=Ko.dsv(" ","text/tab-separated-values");var Ka,Za,Xa,Qa,Ja,tl=ta[v(ta,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Ko.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,s={c:t,t:r,f:!1,n:null};Za?Za.n=s:Ka=s,Za=s,Xa||(Qa=clearTimeout(Qa),Xa=1,tl(Me))},Ko.timer.flush=function(){$e(),Te()},Ko.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var el=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Re);Ko.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Ko.round(t,Le(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),el[8+n/3]};var nl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,il=Ko.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Ko.round(t,Le(t,e))).toFixed(Math.max(0,Math.min(20,Le(t*(1+1e-15),e))))}}),rl=Ko.time={},sl=Date;Pe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ol.setUTCDate.apply(this._,arguments)},setDay:function(){ol.setUTCDay.apply(this._,arguments)},setFullYear:function(){ol.setUTCFullYear.apply(this._,arguments)},setHours:function(){ol.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ol.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ol.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ol.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ol.setUTCSeconds.apply(this._,arguments)},setTime:function(){ol.setTime.apply(this._,arguments)}};var ol=Date.prototype;rl.year=Ne(function(t){return t=rl.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),rl.years=rl.year.range,rl.years.utc=rl.year.utc.range,rl.day=Ne(function(t){var e=new sl(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),rl.days=rl.day.range,rl.days.utc=rl.day.utc.range,rl.dayOfYear=function(t){var e=rl.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=rl[t]=Ne(function(t){return(t=rl.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=rl.year(t).getDay();return Math.floor((rl.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});rl[t+"s"]=n.range,rl[t+"s"].utc=n.utc.range,rl[t+"OfYear"]=function(t){var n=rl.year(t).getDay();return Math.floor((rl.dayOfYear(t)+(n+e)%7)/7)}}),rl.week=rl.sunday,rl.weeks=rl.sunday.range,rl.weeks.utc=rl.sunday.utc.range,rl.weekOfYear=rl.sundayOfYear;var al={"-":"",_:" ",0:"0"},ll=/^\s*\d+/,cl=/^%/;Ko.locale=function(t){return{numberFormat:Oe(t),timeFormat:ze(t)}};var hl=Ko.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ko.format=hl.numberFormat,Ko.geo={},cn.prototype={s:0,t:0,add:function(t){hn(t,this.t,ul),hn(ul.s,this.s,this),this.s?this.t+=ul.t:this.s=ul.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ul=new cn;Ko.geo.stream=function(t,e){t&&dl.hasOwnProperty(t.type)?dl[t.type](t,e):un(t,e)};var dl={Feature:function(t,e){un(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)un(n[i].geometry,e)}},fl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){dn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)dn(n[i],e,0)},Polygon:function(t,e){fn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)un(n[i],e)}};Ko.geo.area=function(t){return pl=0,Ko.geo.stream(t,ml),pl};var pl,gl=new cn,ml={sphere:function(){pl+=4*ka},point:y,lineStart:y,lineEnd:y,polygonStart:function(){gl.reset(),ml.lineStart=pn},polygonEnd:function(){var t=2*gl;pl+=0>t?4*ka+t:t,ml.lineStart=ml.lineEnd=ml.point=y}};Ko.geo.bounds=function(){function t(t,e){w.push(b=[h=t,d=t]),u>e&&(u=e),e>f&&(f=e)}function e(e,n){var i=gn([e*$a,n*$a]);if(v){var r=vn(v,i),s=[r[1],-r[0],0],o=vn(s,r);bn(o),o=Cn(o);var l=e-p,c=l>0?1:-1,g=o[0]*Ta*c,m=ca(l)>180;if(m^(g>c*p&&c*e>g)){var y=o[1]*Ta;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>c*p&&c*e>g)){var y=-o[1]*Ta;u>y&&(u=y)}else u>n&&(u=n),n>f&&(f=n);m?p>e?a(h,e)>a(h,d)&&(d=e):a(e,d)>a(h,d)&&(h=e):d>=h?(h>e&&(h=e),e>d&&(d=e)):e>p?a(h,e)>a(h,d)&&(d=e):a(e,d)>a(h,d)&&(h=e)}else t(e,n);v=i,p=e}function n(){C.point=e}function i(){b[0]=h,b[1]=d,C.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=ca(i)>180?i+(i>0?360:-360):i}else g=t,m=n;ml.point(t,n),e(t,n)}function s(){ml.lineStart()}function o(){r(g,m),ml.lineEnd(),ca(y)>Ba&&(h=-(d=180)),b[0]=h,b[1]=d,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var h,u,d,f,p,g,m,v,y,w,b,C={point:t,lineStart:n,lineEnd:i,polygonStart:function(){C.point=r,C.lineStart=s,C.lineEnd=o,y=0,ml.polygonStart()},polygonEnd:function(){ml.polygonEnd(),C.point=t,C.lineStart=n,C.lineEnd=i,0>gl?(h=-(d=180),u=-(f=90)):y>Ba?f=90:-Ba>y&&(u=-90),b[0]=h,b[1]=d}};return function(t){f=d=-(h=u=1/0),w=[],Ko.geo.stream(t,C);var e=w.length;if(e){w.sort(l);for(var n,i=1,r=w[0],s=[r];e>i;++i)n=w[i],c(n[0],r)||c(n[1],r)?(a(r[0],n[1])>a(r[0],r[1])&&(r[1]=n[1]),a(n[0],r[1])>a(r[0],r[1])&&(r[0]=n[0])):s.push(r=n);for(var o,n,p=-1/0,e=s.length-1,i=0,r=s[e];e>=i;r=n,++i)n=s[i],(o=a(r[1],n[0]))>p&&(p=o,h=n[0],d=r[1])}return w=b=null,1/0===h||1/0===u?[[0/0,0/0],[0/0,0/0]]:[[h,u],[d,f]]}}(),Ko.geo.centroid=function(t){vl=yl=wl=bl=Cl=Al=Fl=El=xl=_l=kl=0,Ko.geo.stream(t,Dl);var e=xl,n=_l,i=kl,r=e*e+n*n+i*i;return Ma>r&&(e=Al,n=Fl,i=El,Ba>yl&&(e=wl,n=bl,i=Cl),r=e*e+n*n+i*i,Ma>r)?[0/0,0/0]:[Math.atan2(n,e)*Ta,te(i/Math.sqrt(r))*Ta]};var vl,yl,wl,bl,Cl,Al,Fl,El,xl,_l,kl,Dl={sphere:y,point:Fn,lineStart:xn,lineEnd:_n,polygonStart:function(){Dl.lineStart=kn},polygonEnd:function(){Dl.lineStart=xn}},Sl=$n(Dn,On,Pn,[-ka,-ka/2]),Bl=1e9;Ko.geo.clipExtent=function(){var t,e,n,i,r,s,o={stream:function(t){return r&&(r.valid=!1),r=s(t),r.valid=!0,r},extent:function(a){return arguments.length?(s=Un(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(Ko.geo.conicEqualArea=function(){return jn(Yn)}).raw=Yn,Ko.geo.albers=function(){return Ko.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ko.geo.albersUsa=function(){function t(t){var s=t[0],o=t[1];return e=null,n(s,o),e||(i(s,o),e)||r(s,o),e}var e,n,i,r,s=Ko.geo.albers(),o=Ko.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Ko.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?a:s).invert(t)},t.stream=function(t){var e=s.stream(t),n=o.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(s.precision(e),o.precision(e),a.precision(e),t):s.precision()},t.scale=function(e){return arguments.length?(s.scale(e),o.scale(.35*e),a.scale(e),t.translate(s.translate())):s.scale()},t.translate=function(e){if(!arguments.length)return s.translate();var c=s.scale(),h=+e[0],u=+e[1];return n=s.translate(e).clipExtent([[h-.455*c,u-.238*c],[h+.455*c,u+.238*c]]).stream(l).point,i=o.translate([h-.307*c,u+.201*c]).clipExtent([[h-.425*c+Ba,u+.12*c+Ba],[h-.214*c-Ba,u+.234*c-Ba]]).stream(l).point,r=a.translate([h-.205*c,u+.212*c]).clipExtent([[h-.214*c+Ba,u+.166*c+Ba],[h-.115*c-Ba,u+.234*c-Ba]]).stream(l).point,t},t.scale(1070)};var Ml,$l,Tl,Ll,Rl,Ol,Il={point:y,lineStart:y,lineEnd:y,polygonStart:function(){$l=0,Il.lineStart=Gn},polygonEnd:function(){Il.lineStart=Il.lineEnd=Il.point=y,Ml+=ca($l/2)}},Pl={point:Vn,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},Nl={point:Zn,lineStart:Xn,lineEnd:Qn,polygonStart:function(){Nl.lineStart=Jn},polygonEnd:function(){Nl.point=Zn,Nl.lineStart=Xn,Nl.lineEnd=Qn}};Ko.geo.path=function(){function t(t){return t&&("function"==typeof a&&s.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(s)),Ko.geo.stream(t,o)),s.result()}function e(){return o=null,t}var n,i,r,s,o,a=4.5;return t.area=function(t){return Ml=0,Ko.geo.stream(t,r(Il)),Ml},t.centroid=function(t){return wl=bl=Cl=Al=Fl=El=xl=_l=kl=0,Ko.geo.stream(t,r(Nl)),kl?[xl/kl,_l/kl]:El?[Al/El,Fl/El]:Cl?[wl/Cl,bl/Cl]:[0/0,0/0]},t.bounds=function(t){return Rl=Ol=-(Tl=Ll=1/0),Ko.geo.stream(t,r(Pl)),[[Tl,Ll],[Rl,Ol]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||ni(t):_e,e()):n},t.context=function(t){return arguments.length?(s=null==(i=t)?new qn:new ti(t),"function"!=typeof a&&s.pointRadius(a),e()):i},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(s.pointRadius(+e),+e),t):a},t.projection(Ko.geo.albersUsa()).context(null)},Ko.geo.transform=function(t){return{stream:function(e){var n=new ii(e);for(var i in t)n[i]=t[i];return n}}},ii.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ko.geo.projection=si,Ko.geo.projectionMutator=oi,(Ko.geo.equirectangular=function(){return si(li)}).raw=li.invert=li,Ko.geo.rotation=function(t){function e(e){return e=t(e[0]*$a,e[1]*$a),e[0]*=Ta,e[1]*=Ta,e}return t=hi(t[0]%360*$a,t[1]*$a,t.length>2?t[2]*$a:0),e.invert=function(e){return e=t.invert(e[0]*$a,e[1]*$a),e[0]*=Ta,e[1]*=Ta,e},e},ci.invert=li,Ko.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=hi(-t[0]*$a,-t[1]*$a,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ta,t[1]*=Ta}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=pi((e=+i)*$a,r*$a),t):e},t.precision=function(i){return arguments.length?(n=pi(e*$a,(r=+i)*$a),t):r},t.angle(90)},Ko.geo.distance=function(t,e){var n,i=(e[0]-t[0])*$a,r=t[1]*$a,s=e[1]*$a,o=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),h=Math.sin(s),u=Math.cos(s);return Math.atan2(Math.sqrt((n=u*o)*n+(n=c*h-l*u*a)*n),l*h+c*u*a)},Ko.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Ko.range(Math.ceil(s/m)*m,r,m).map(d).concat(Ko.range(Math.ceil(c/v)*v,l,v).map(f)).concat(Ko.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ca(t%m)>Ba}).map(h)).concat(Ko.range(Math.ceil(a/g)*g,o,g).filter(function(t){return ca(t%v)>Ba}).map(u))}var n,i,r,s,o,a,l,c,h,u,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(s).concat(f(l).slice(1),d(r).reverse().slice(1),f(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(s=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],s>r&&(e=s,s=r,r=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[s,c],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),a>o&&(e=a,a=o,o=e),t.precision(y)):[[i,a],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,h=mi(a,o,90),u=vi(i,n,y),d=mi(c,l,90),f=vi(s,r,y),t):y},t.majorExtent([[-180,-90+Ba],[180,90-Ba]]).minorExtent([[-180,-80-Ba],[180,80+Ba]])},Ko.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=yi,r=wi;return t.distance=function(){return Ko.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Ko.geo.interpolate=function(t,e){return bi(t[0]*$a,t[1]*$a,e[0]*$a,e[1]*$a)},Ko.geo.length=function(t){return Hl=0,Ko.geo.stream(t,zl),Hl};var Hl,zl={sphere:y,point:y,lineStart:Ci,lineEnd:y,polygonStart:y,polygonEnd:y},Ul=Ai(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Ko.geo.azimuthalEqualArea=function(){return si(Ul)}).raw=Ul;var Wl=Ai(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},_e);(Ko.geo.azimuthalEquidistant=function(){return si(Wl)}).raw=Wl,(Ko.geo.conicConformal=function(){return jn(Fi)}).raw=Fi,(Ko.geo.conicEquidistant=function(){return jn(Ei)}).raw=Ei;var jl=Ai(function(t){return 1/t},Math.atan);(Ko.geo.gnomonic=function(){return si(jl)}).raw=jl,xi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Sa]},(Ko.geo.mercator=function(){return _i(xi)}).raw=xi;var Yl=Ai(function(){return 1},Math.asin);(Ko.geo.orthographic=function(){return si(Yl)}).raw=Yl;var Gl=Ai(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Ko.geo.stereographic=function(){return si(Gl)}).raw=Gl,ki.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Sa]},(Ko.geo.transverseMercator=function(){var t=_i(ki),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=ki,Ko.geom={},Ko.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=xe(n),s=xe(i),o=t.length,a=[],l=[];for(e=0;o>e;e++)a.push([+r.call(this,t[e],e),+s.call(this,t[e],e),e]);for(a.sort(Mi),e=0;o>e;e++)l.push([a[e][0],-a[e][1]]);var c=Bi(a),h=Bi(l),u=h[0]===c[0],d=h[h.length-1]===c[c.length-1],f=[];for(e=c.length-1;e>=0;--e)f.push(t[a[c[e]][2]]);for(e=+u;e<h.length-d;++e)f.push(t[a[h[e]][2]]);return f}var n=Di,i=Si;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},Ko.geom.polygon=function(t){return pa(t,Vl),t};var Vl=Ko.geom.polygon.prototype=[];Vl.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Vl.centroid=function(t){var e,n,i=-1,r=this.length,s=0,o=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],s+=(e[0]+a[0])*n,o+=(e[1]+a[1])*n;return[s*t,o*t]},Vl.clip=function(t){for(var e,n,i,r,s,o,a=Li(t),l=-1,c=this.length-Li(this),h=this[c-1];++l<c;){for(e=t.slice(),t.length=0,r=this[l],s=e[(i=e.length-a)-1],n=-1;++n<i;)o=e[n],$i(o,h,r)?($i(s,h,r)||t.push(Ti(s,o,h,r)),t.push(o)):$i(s,h,r)&&t.push(Ti(s,o,h,r)),s=o;a&&t.push(t[0]),h=r}return t};var ql,Kl,Zl,Xl,Ql,Jl=[],tc=[];Ui.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(ji),e.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=sr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ir(this,n),t=n,n=t.U),n.C=!1,i.C=!0,rr(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(rr(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ir(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,s=t.L,o=t.R;if(n=s?o?sr(o):s:o,r?r.L===t?r.L=n:r.R=n:this._=n,s&&o?(i=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ir(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ir(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,rr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,rr(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},Ko.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=a[0][0],r=a[0][1],s=a[1][0],o=a[1][1];return or(n(t),a).cells.forEach(function(n,a){var l=n.edges,c=n.site,h=e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=s&&c.y>=r&&c.y<=o?[[i,o],[s,o],[s,r],[i,r]]:[];h.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(s(t,e)/Ba)*Ba,y:Math.round(o(t,e)/Ba)*Ba,i:e}})}var i=Di,r=Si,s=i,o=r,a=ec;return t?e(t):(e.links=function(t){return or(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return or(n(t)).cells.forEach(function(n,i){for(var r,s,o=n.site,a=n.edges.sort(ji),l=-1,c=a.length,h=a[c-1].edge,u=h.l===o?h.r:h.l;++l<c;)r=h,s=u,h=a[l].edge,u=h.l===o?h.r:h.l,i<s.i&&i<u.i&&lr(o,s,u)<0&&e.push([t[i],t[s.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(s=xe(i=t),e):i},e.y=function(t){return arguments.length?(o=xe(r=t),e):r},e.clipExtent=function(t){return arguments.length?(a=null==t?ec:t,e):a===ec?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===ec?null:a&&a[1]},e)};var ec=[[-1e6,-1e6],[1e6,1e6]];Ko.geom.delaunay=function(t){return Ko.geom.voronoi().triangles(t)},Ko.geom.quadtree=function(t,e,n,i,r){function s(t){function s(t,e,n,i,r,s,o,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,h=t.y;if(null!=l)if(ca(l-n)+ca(h-i)<.01)c(t,e,n,i,r,s,o,a);else{var u=t.point;t.x=t.y=t.point=null,c(t,u,l,h,r,s,o,a),c(t,e,n,i,r,s,o,a)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,s,o,a)}function c(t,e,n,i,r,o,a,l){var c=.5*(r+a),h=.5*(o+l),u=n>=c,d=i>=h,f=(d<<1)+u;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=ur()),u?r=c:a=c,d?o=h:l=h,s(t,e,n,i,r,o,a,l)}var h,u,d,f,p,g,m,v,y,w=xe(a),b=xe(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),u=[],d=[],p=t.length,o)for(f=0;p>f;++f)h=t[f],h.x<g&&(g=h.x),h.y<m&&(m=h.y),h.x>v&&(v=h.x),h.y>y&&(y=h.y),u.push(h.x),d.push(h.y);else for(f=0;p>f;++f){var C=+w(h=t[f],f),A=+b(h,f);g>C&&(g=C),m>A&&(m=A),C>v&&(v=C),A>y&&(y=A),u.push(C),d.push(A)}var F=v-g,E=y-m;F>E?y=m+F:v=g+E;var x=ur();if(x.add=function(t){s(x,t,+w(t,++f),+b(t,f),g,m,v,y)},x.visit=function(t){dr(t,x,g,m,v,y)},f=-1,null==e){for(;++f<p;)s(x,t[f],u[f],d[f],g,m,v,y);--f}else t.forEach(x.add);return u=d=t=h=null,x}var o,a=Di,l=Si;return(o=arguments.length)?(a=cr,l=hr,3===o&&(r=n,i=e,n=e=0),s(t)):(s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(l=t,s):l},s.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),s):null==e?null:[[e,n],[i,r]]},s.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),s):null==e?null:[i-e,r-n]},s)},Ko.interpolateRgb=fr,Ko.interpolateObject=pr,Ko.interpolateNumber=gr,Ko.interpolateString=mr;var nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ic=new RegExp(nc.source,"g");Ko.interpolate=vr,Ko.interpolators=[function(t,e){var n=typeof e;return("string"===n?qa.has(e)||/^(#|rgb\(|hsl\()/.test(e)?fr:mr:e instanceof se?fr:Array.isArray(e)?yr:"object"===n&&isNaN(e)?pr:gr)(t,e)}],Ko.interpolateArray=yr;var rc=function(){return _e},sc=Ko.map({linear:rc,poly:xr,quad:function(){return Ar},cubic:function(){return Fr},sin:function(){return _r},exp:function(){return kr},circle:function(){return Dr},elastic:Sr,back:Br,bounce:function(){return Mr}}),oc=Ko.map({"in":_e,out:br,"in-out":Cr,"out-in":function(t){return Cr(br(t))}});Ko.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=sc.get(n)||rc,i=oc.get(i)||_e,wr(i(n.apply(null,Zo.call(arguments,1))))},Ko.interpolateHcl=$r,Ko.interpolateHsl=Tr,Ko.interpolateLab=Lr,Ko.interpolateRound=Rr,Ko.transform=function(t){var e=Qo.createElementNS(Ko.ns.prefix.svg,"g");return(Ko.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Or(n?n.matrix:ac)})(t)},Or.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ac={a:1,b:0,c:0,d:1,e:0,f:0};Ko.interpolateTransform=Hr,Ko.layout={},Ko.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Wr(t[n]));return e}},Ko.layout.chord=function(){function t(){var t,c,u,d,f,p={},g=[],m=Ko.range(s),v=[];for(n=[],i=[],t=0,d=-1;++d<s;){for(c=0,f=-1;++f<s;)c+=r[d][f];g.push(c),v.push(Ko.range(s)),t+=c}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(Da-h*s)/t,c=0,d=-1;++d<s;){for(u=c,f=-1;++f<s;){var y=m[d],w=v[y][f],b=r[y][w],C=c,A=c+=b*t;
p[y+"-"+w]={index:y,subindex:w,startAngle:C,endAngle:A,value:b}}i[y]={index:y,startAngle:u,endAngle:c,value:(c-u)/t},c+=h}for(d=-1;++d<s;)for(f=d-1;++f<s;){var F=p[d+"-"+f],E=p[f+"-"+d];(F.value||E.value)&&n.push(F.value<E.value?{source:E,target:F}:{source:F,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,s,o,a,l,c={},h=0;return c.matrix=function(t){return arguments.length?(s=(r=t)&&r.length,n=i=null,c):r},c.padding=function(t){return arguments.length?(h=t,n=i=null,c):h},c.sortGroups=function(t){return arguments.length?(o=t,n=i=null,c):o},c.sortSubgroups=function(t){return arguments.length?(a=t,n=null,c):a},c.sortChords=function(t){return arguments.length?(l=t,n&&e(),c):l},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},Ko.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var s=e.cx-t.x,o=e.cy-t.y,a=r-n,l=s*s+o*o;if(l>a*a/m){if(p>l){var c=e.charge/l;t.px-=s*c,t.py-=o*c}return!0}if(e.point&&l&&p>l){var c=e.pointCharge/l;t.px-=s*c,t.py-=o*c}}return!e.charge}}function e(t){t.px=Ko.event.x,t.py=Ko.event.y,a.resume()}var n,i,r,s,o,a={},l=Ko.dispatch("start","tick","end"),c=[1,1],h=.9,u=lc,d=cc,f=-30,p=hc,g=.1,m=.64,v=[],y=[];return a.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,a,u,d,p,m,w,b,C=v.length,A=y.length;for(n=0;A>n;++n)a=y[n],u=a.source,d=a.target,w=d.x-u.x,b=d.y-u.y,(p=w*w+b*b)&&(p=i*s[n]*((p=Math.sqrt(p))-r[n])/p,w*=p,b*=p,d.x-=w*(m=u.weight/(d.weight+u.weight)),d.y-=b*m,u.x+=w*(m=1-m),u.y+=b*m);if((m=i*g)&&(w=c[0]/2,b=c[1]/2,n=-1,m))for(;++n<C;)a=v[n],a.x+=(w-a.x)*m,a.y+=(b-a.y)*m;if(f)for(Zr(e=Ko.geom.quadtree(v),i,o),n=-1;++n<C;)(a=v[n]).fixed||e.visit(t(a));for(n=-1;++n<C;)a=v[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*h,a.y-=(a.py-(a.py=a.y))*h);l.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(y=t,a):y},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,a):u},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(h=+t,a):h},a.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(g=+t,a):g},a.theta=function(t){return arguments.length?(m=t*t,a):Math.sqrt(m)},a.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),Ko.timer(a.tick)),a):i},a.start=function(){function t(t,i){if(!n){for(n=new Array(l),a=0;l>a;++a)n[a]=[];for(a=0;c>a;++a){var r=y[a];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var s,o=n[e],a=-1,c=o.length;++a<c;)if(!isNaN(s=o[a][t]))return s;return Math.random()*i}var e,n,i,l=v.length,h=y.length,p=c[0],g=c[1];for(e=0;l>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;h>e;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;l>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof u)for(e=0;h>e;++e)r[e]=+u.call(this,y[e],e);else for(e=0;h>e;++e)r[e]=u;if(s=[],"function"==typeof d)for(e=0;h>e;++e)s[e]=+d.call(this,y[e],e);else for(e=0;h>e;++e)s[e]=d;if(o=[],"function"==typeof f)for(e=0;l>e;++e)o[e]=+f.call(this,v[e],e);else for(e=0;l>e;++e)o[e]=f;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=Ko.behavior.drag().origin(_e).on("dragstart.force",Gr).on("drag.force",e).on("dragend.force",Vr)),arguments.length?void this.on("mouseover.force",qr).on("mouseout.force",Kr).call(n):n},Ko.rebind(a,l,"on")};var lc=20,cc=1,hc=1/0;Ko.layout.hierarchy=function(){function t(r){var s,o=[r],a=[];for(r.depth=0;null!=(s=o.pop());)if(a.push(s),(c=n.call(t,s,s.depth))&&(l=c.length)){for(var l,c,h;--l>=0;)o.push(h=c[l]),h.parent=s,h.depth=s.depth+1;i&&(s.value=0),s.children=c}else i&&(s.value=+i.call(t,s,s.depth)||0),delete s.children;return Jr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),a}var e=ns,n=ts,i=es;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Qr(e,function(t){t.children&&(t.value=0)}),Jr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},Ko.layout.partition=function(){function t(e,n,i,r){var s=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,s&&(o=s.length)){var o,a,l,c=-1;for(i=e.value?i/e.value:0;++c<o;)t(a=s[c],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,s=-1;++s<r;)i=Math.max(i,e(n[s]));return 1+i}function n(n,s){var o=i.call(this,n,s);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=Ko.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Xr(n,i)},Ko.layout.pie=function(){function t(s){var o=s.map(function(n,i){return+e.call(t,n,i)}),a=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-a)/Ko.sum(o),c=Ko.range(s.length);null!=n&&c.sort(n===uc?function(t,e){return o[e]-o[t]}:function(t,e){return n(s[t],s[e])});var h=[];return c.forEach(function(t){var e;h[t]={data:s[t],value:e=o[t],startAngle:a,endAngle:a+=e*l}}),h}var e=Number,n=uc,i=0,r=Da;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var uc={};Ko.layout.stack=function(){function t(a,l){if(!(d=a.length))return a;var c=a.map(function(n,i){return e.call(t,n,i)}),h=c.map(function(e){return e.map(function(e,n){return[s.call(t,e,n),o.call(t,e,n)]})}),u=n.call(t,h,l);c=Ko.permute(c,u),h=Ko.permute(h,u);var d,f,p,g,m=i.call(t,h,l),v=c[0].length;for(p=0;v>p;++p)for(r.call(t,c[0][p],g=m[p],h[0][p][1]),f=1;d>f;++f)r.call(t,c[f][p],g+=h[f-1][p][1],h[f][p][1]);return a}var e=_e,n=as,i=ls,r=os,s=rs,o=ss;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:dc.get(e)||as,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:fc.get(e)||ls,t):i},t.x=function(e){return arguments.length?(s=e,t):s},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var dc=Ko.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(cs),s=t.map(hs),o=Ko.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,c=[],h=[];for(e=0;i>e;++e)n=o[e],l>a?(a+=s[n],c.push(n)):(l+=s[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return Ko.range(t.length).reverse()},"default":as}),fc=Ko.map({silhouette:function(t){var e,n,i,r=t.length,s=t[0].length,o=[],a=0,l=[];for(n=0;s>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),o.push(i)}for(n=0;s>n;++n)l[n]=(a-o[n])/2;return l},wiggle:function(t){var e,n,i,r,s,o,a,l,c,h=t.length,u=t[0],d=u.length,f=[];for(f[0]=l=c=0,n=1;d>n;++n){for(e=0,r=0;h>e;++e)r+=t[e][n][1];for(e=0,s=0,a=u[n][0]-u[n-1][0];h>e;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)o+=(t[i][n][1]-t[i][n-1][1])/a;s+=o*t[e][n][1]}f[n]=l-=r?s/r*a:0,c>l&&(c=l)}for(n=0;d>n;++n)f[n]-=c;return f},expand:function(t){var e,n,i,r=t.length,s=t[0].length,o=1/r,a=[];for(n=0;s>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;s>n;++n)a[n]=0;return a},zero:ls});Ko.layout.histogram=function(){function t(t,s){for(var o,a,l=[],c=t.map(n,this),h=i.call(this,c,s),u=r.call(this,h,c,s),s=-1,d=c.length,f=u.length-1,p=e?1:1/d;++s<f;)o=l[s]=[],o.dx=u[s+1]-(o.x=u[s]),o.y=0;if(f>0)for(s=-1;++s<d;)a=c[s],a>=h[0]&&a<=h[1]&&(o=l[Ko.bisect(u,a,1,f)-1],o.y+=p,o.push(t[s]));return l}var e=!0,n=Number,i=ps,r=ds;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=xe(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return fs(t,e)}:xe(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Ko.layout.pack=function(){function t(t,s){var o=n.call(this,t,s),a=o[0],l=r[0],c=r[1],h=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,Jr(a,function(t){t.r=+h(t.value)}),Jr(a,ws),i){var u=i*(e?1:Math.max(2*a.r/l,2*a.r/c))/2;Jr(a,function(t){t.r+=u}),Jr(a,ws),Jr(a,function(t){t.r-=u})}return As(a,l/2,c/2,e?1:1/Math.max(2*a.r/l,2*a.r/c)),o}var e,n=Ko.layout.hierarchy().sort(gs),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Xr(t,n)},Ko.layout.tree=function(){function t(t,r){var h=o.call(this,t,r),u=h[0],d=e(u);if(Jr(d,n),d.parent.m=-d.z,Qr(d,i),c)Qr(u,s);else{var f=u,p=u,g=u;Qr(u,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=a(f,p)/2-f.x,v=l[0]/(p.x+a(p,f)/2+m),y=l[1]/(g.depth||1);Qr(u,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return h}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,s=e.children,o=0,a=s.length;a>o;++o)i.push((s[o]=r={_:s[o],parent:e,children:(r=s[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Ds(t);var s=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-s):t.z=s}else i&&(t.z=i.z+a(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,s=t,o=e,l=r.parent.children[0],c=r.m,h=s.m,u=o.m,d=l.m;o=_s(o),r=xs(r),o&&r;)l=xs(l),s=_s(s),s.a=t,i=o.z+u-r.z-c+a(o._,r._),i>0&&(ks(Ss(o,t,n),t,i),c+=i,h+=i),u+=o.m,c+=r.m,d+=l.m,h+=s.m;o&&!_s(s)&&(s.t=o,s.m+=u-h),r&&!xs(l)&&(l.t=r,l.m+=c-d,n=t)}return n}function s(t){t.x*=l[0],t.y=t.depth*l[1]}var o=Ko.layout.hierarchy().sort(null).value(null),a=Es,l=[1,1],c=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(c=null==(l=e)?s:null,t):c?null:l},t.nodeSize=function(e){return arguments.length?(c=null==(l=e)?null:s,t):c?l:null},Xr(t,o)},Ko.layout.cluster=function(){function t(t,s){var o,a=e.call(this,t,s),l=a[0],c=0;Jr(l,function(t){var e=t.children;e&&e.length?(t.x=Ms(e),t.y=Bs(e)):(t.x=o?c+=n(t,o):0,t.y=0,o=t)});var h=$s(l),u=Ts(l),d=h.x-n(h,u)/2,f=u.x+n(u,h)/2;return Jr(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),a}var e=Ko.layout.hierarchy().sort(null).value(null),n=Es,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Xr(t,e)},Ko.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,s=t.length;++r<s;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var s=n.children;if(s&&s.length){var o,a,l,c=u(n),h=[],d=s.slice(),p=1/0,g="slice"===f?c.dx:"dice"===f?c.dy:"slice-dice"===f?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(d,c.dx*c.dy/n.value),h.area=0;(l=d.length)>0;)h.push(o=d[l-1]),h.area+=o.area,"squarify"!==f||(a=i(h,g))<=p?(d.pop(),p=a):(h.area-=h.pop().area,r(h,g,c,!1),g=Math.min(c.dx,c.dy),h.length=h.area=0,p=1/0);h.length&&(r(h,g,c,!0),h.length=h.area=0),s.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var s,o=u(e),a=i.slice(),l=[];for(t(a,o.dx*o.dy/e.value),l.area=0;s=a.pop();)l.push(s),l.area+=s.area,null!=s.z&&(r(l,s.z?o.dx:o.dy,o,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,s=1/0,o=-1,a=t.length;++o<a;)(n=t[o].area)&&(s>n&&(s=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*s*p)):1/0}function r(t,e,n,i){var r,s=-1,o=t.length,a=n.x,c=n.y,h=e?l(t.area/e):0;if(e==n.dx){for((i||h>n.dy)&&(h=n.dy);++s<o;)r=t[s],r.x=a,r.y=c,r.dy=h,a+=r.dx=Math.min(n.x+n.dx-a,h?l(r.area/h):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=h,n.dy-=h}else{for((i||h>n.dx)&&(h=n.dx);++s<o;)r=t[s],r.x=a,r.y=c,r.dx=h,c+=r.dy=Math.min(n.y+n.dy-c,h?l(r.area/h):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=h,n.dx-=h}}function s(i){var r=o||a(i),s=r[0];return s.x=0,s.y=0,s.dx=c[0],s.dy=c[1],o&&a.revalue(s),t([s],s.dx*s.dy/s.value),(o?n:e)(s),d&&(o=r),r}var o,a=Ko.layout.hierarchy(),l=Math.round,c=[1,1],h=null,u=Ls,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return s.size=function(t){return arguments.length?(c=t,s):c},s.padding=function(t){function e(e){var n=t.call(s,e,e.depth);return null==n?Ls(e):Rs(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Rs(e,t)}if(!arguments.length)return h;var i;return u=null==(h=t)?Ls:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,s},s.round=function(t){return arguments.length?(l=t?Math.round:Number,s):l!=Number},s.sticky=function(t){return arguments.length?(d=t,o=null,s):d},s.ratio=function(t){return arguments.length?(p=t,s):p},s.mode=function(t){return arguments.length?(f=t+"",s):f},Xr(s,a)},Ko.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=Ko.random.normal.apply(Ko,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Ko.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Ko.scale={};var pc={floor:_e,ceil:_e};Ko.scale.linear=function(){return Us([0,1],[0,1],vr,!1)};var gc={s:1,g:1,p:1,r:1,e:1};Ko.scale.log=function(){return Zs(Ko.scale.linear().domain([0,1]),10,!0,[1,10])};var mc=Ko.format(".0e"),vc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Ko.scale.pow=function(){return Xs(Ko.scale.linear(),1,[0,1])},Ko.scale.sqrt=function(){return Ko.scale.pow().exponent(.5)},Ko.scale.ordinal=function(){return Js([],{t:"range",a:[[]]})},Ko.scale.category10=function(){return Ko.scale.ordinal().range(yc)},Ko.scale.category20=function(){return Ko.scale.ordinal().range(wc)},Ko.scale.category20b=function(){return Ko.scale.ordinal().range(bc)},Ko.scale.category20c=function(){return Ko.scale.ordinal().range(Cc)};var yc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ye),wc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ye),bc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ye),Cc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ye);Ko.scale.quantile=function(){return to([],[])},Ko.scale.quantize=function(){return eo(0,1,[0,1])},Ko.scale.threshold=function(){return no([.5],[0,1])},Ko.scale.identity=function(){return io([0,1])},Ko.svg={},Ko.svg.arc=function(){function t(){var t=e.apply(this,arguments),s=n.apply(this,arguments),o=i.apply(this,arguments)+Ac,a=r.apply(this,arguments)+Ac,l=(o>a&&(l=o,o=a,a=l),a-o),c=ka>l?"0":"1",h=Math.cos(o),u=Math.sin(o),d=Math.cos(a),f=Math.sin(a);return l>=Fc?t?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":t?"M"+s*h+","+s*u+"A"+s+","+s+" 0 "+c+",1 "+s*d+","+s*f+"L"+t*d+","+t*f+"A"+t+","+t+" 0 "+c+",0 "+t*h+","+t*u+"Z":"M"+s*h+","+s*u+"A"+s+","+s+" 0 "+c+",1 "+s*d+","+s*f+"L0,0Z"}var e=ro,n=so,i=oo,r=ao;return t.innerRadius=function(n){return arguments.length?(e=xe(n),t):e},t.outerRadius=function(e){return arguments.length?(n=xe(e),t):n},t.startAngle=function(e){return arguments.length?(i=xe(e),t):i},t.endAngle=function(e){return arguments.length?(r=xe(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,s=(i.apply(this,arguments)+r.apply(this,arguments))/2+Ac;return[Math.cos(s)*t,Math.sin(s)*t]},t};var Ac=-Sa,Fc=Da-Ba;Ko.svg.line=function(){return lo(_e)};var Ec=Ko.map({linear:co,"linear-closed":ho,step:uo,"step-before":fo,"step-after":po,basis:bo,"basis-open":Co,"basis-closed":Ao,bundle:Fo,cardinal:vo,"cardinal-open":go,"cardinal-closed":mo,monotone:So});Ec.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var xc=[0,2/3,1/3,0],_c=[0,1/3,2/3,0],kc=[0,1/6,2/3,1/6];Ko.svg.line.radial=function(){var t=lo(Bo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},fo.reverse=po,po.reverse=fo,Ko.svg.area=function(){return Mo(_e)},Ko.svg.area.radial=function(){var t=Mo(Bo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Ko.svg.chord=function(){function t(t,a){var l=e(this,s,t,a),c=e(this,o,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),s=a.call(t,r,i),o=l.call(t,r,i)+Ac,h=c.call(t,r,i)+Ac;return{r:s,a0:o,a1:h,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(h),s*Math.sin(h)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>ka)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var s=yi,o=wi,a=$o,l=oo,c=ao;return t.radius=function(e){return arguments.length?(a=xe(e),t):a},t.source=function(e){return arguments.length?(s=xe(e),t):s},t.target=function(e){return arguments.length?(o=xe(e),t):o},t.startAngle=function(e){return arguments.length?(l=xe(e),t):l},t.endAngle=function(e){return arguments.length?(c=xe(e),t):c},t},Ko.svg.diagonal=function(){function t(t,r){var s=e.call(this,t,r),o=n.call(this,t,r),a=(s.y+o.y)/2,l=[s,{x:s.x,y:a},{x:o.x,y:a},o];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=yi,n=wi,i=To;return t.source=function(n){return arguments.length?(e=xe(n),t):e},t.target=function(e){return arguments.length?(n=xe(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},Ko.svg.diagonal.radial=function(){var t=Ko.svg.diagonal(),e=To,n=t.projection;return t.projection=function(t){return arguments.length?n(Lo(e=t)):e},t},Ko.svg.symbol=function(){function t(t,i){return(Dc.get(e.call(this,t,i))||Io)(n.call(this,t,i))}var e=Oo,n=Ro;return t.type=function(n){return arguments.length?(e=xe(n),t):e},t.size=function(e){return arguments.length?(n=xe(e),t):n},t};var Dc=Ko.map({circle:Io,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*$c)),n=e*$c;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Mc),n=e*Mc/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Mc),n=e*Mc/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Ko.svg.symbolTypes=Dc.keys();var Sc,Bc,Mc=Math.sqrt(3),$c=Math.tan(30*$a),Tc=[],Lc=0;Tc.call=wa.call,Tc.empty=wa.empty,Tc.node=wa.node,Tc.size=wa.size,Ko.transition=function(t){return arguments.length?Sc?t.transition():t:Aa.transition()},Ko.transition.prototype=Tc,Tc.select=function(t){var e,n,i,r=this.id,s=[];t=x(t);for(var o=-1,a=this.length;++o<a;){s.push(e=[]);for(var l=this[o],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,o))?("__data__"in i&&(n.__data__=i.__data__),zo(n,c,r,i.__transition__[r]),e.push(n)):e.push(null)}return Po(s,r)},Tc.selectAll=function(t){var e,n,i,r,s,o=this.id,a=[];t=_(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],u=-1,d=h.length;++u<d;)if(i=h[u]){s=i.__transition__[o],n=t.call(i,i.__data__,u,l),a.push(e=[]);for(var f=-1,p=n.length;++f<p;)(r=n[f])&&zo(r,f,o,s),e.push(r)}return Po(a,o)},Tc.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=I(t));for(var s=0,o=this.length;o>s;s++){r.push(e=[]);for(var n=this[s],a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,s)&&e.push(i)}return Po(r,this.id)},Tc.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):N(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},Tc.attr=function(t,e){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=o(n,t),function(t){this.setAttribute(a,e(t))})})}function s(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Hr:vr,a=Ko.ns.qualify(t);return No(this,"attr."+t,e,a.local?s:r)},Tc.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=Ko.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Tc.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=ta.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=vr(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return No(this,"style."+t,e,r)},Tc.styleTween=function(t,e,n){function i(i,r){var s=e.call(this,i,r,ta.getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Tc.text=function(t){return No(this,"text",t,Ho)},Tc.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tc.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Ko.ease.apply(Ko,arguments)),N(this,function(n){n.__transition__[e].ease=t}))},Tc.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:N(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=+t.call(n,n.__data__,i,r)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Tc.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:N(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,i,r))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Tc.each=function(t,e){var n=this.id;if(arguments.length<2){var i=Bc,r=Sc;Sc=n,N(this,function(e,i,r){Bc=e.__transition__[n],t.call(e,e.__data__,i,r)}),Bc=i,Sc=r}else N(this,function(i){var r=i.__transition__[n];(r.event||(r.event=Ko.dispatch("start","end"))).on(t,e)});return this},Tc.transition=function(){for(var t,e,n,i,r=this.id,s=++Lc,o=[],a=0,l=this.length;l>a;a++){o.push(t=[]);for(var e=this[a],c=0,h=e.length;h>c;c++)(n=e[c])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,zo(n,c,s,i)),t.push(n)}return Po(o,s)},Ko.svg.axis=function(){function t(t){t.each(function(){var t,c=Ko.select(this),h=this.__chart__||n,u=this.__chart__=n.copy(),d=null==l?u.ticks?u.ticks.apply(u,a):u.domain():l,f=null==e?u.tickFormat?u.tickFormat.apply(u,a):_e:e,p=c.selectAll(".tick").data(d,u),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ba),m=Ko.transition(p.exit()).style("opacity",Ba).remove(),v=Ko.transition(p.order()).style("opacity",1),y=Math.max(r,0)+o,w=Is(u),b=c.selectAll(".domain").data([0]),C=(b.enter().append("path").attr("class","domain"),Ko.transition(b));g.append("line"),g.append("text");var A,F,E,x,_=g.select("line"),k=v.select("line"),D=p.select("text").text(f),S=g.select("text"),B=v.select("text"),M="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Uo,A="x",E="y",F="x2",x="y2",D.attr("dy",0>M?"0em":".71em").style("text-anchor","middle"),C.attr("d","M"+w[0]+","+M*s+"V0H"+w[1]+"V"+M*s)):(t=Wo,A="y",E="x",F="y2",x="x2",D.attr("dy",".32em").style("text-anchor",0>M?"end":"start"),C.attr("d","M"+M*s+","+w[0]+"H0V"+w[1]+"H"+M*s)),_.attr(x,M*r),S.attr(E,M*y),k.attr(F,0).attr(x,M*r),B.attr(A,0).attr(E,M*y),u.rangeBand){var $=u,T=$.rangeBand()/2;h=u=function(t){return $(t)+T}}else h.rangeBand?h=u:m.call(t,u,h);g.call(t,h,u),v.call(t,u,u)})}var e,n=Ko.scale.linear(),i=Rc,r=6,s=6,o=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Oc?e+"":Rc,t):i},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,s=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(s=+e,t):s},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Rc="bottom",Oc={top:1,right:1,bottom:1,left:1};Ko.svg.brush=function(){function t(s){s.each(function(){var s=Ko.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=s.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=s.selectAll(".resize").data(p,_e);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ic[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var h,u=Ko.transition(s),d=Ko.transition(o);l&&(h=Is(l),d.attr("x",h[0]).attr("width",h[1]-h[0]),n(u)),c&&(h=Is(c),d.attr("y",h[0]).attr("height",h[1]-h[0]),i(u)),e(u)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+u[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",u[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function r(){function r(){32==Ko.event.keyCode&&(D||(y=null,B[0]-=h[1],B[1]-=u[1],D=2),C())}function p(){32==Ko.event.keyCode&&2==D&&(B[0]+=h[1],B[1]+=u[1],D=0,C())}function g(){var t=Ko.mouse(b),r=!1;w&&(t[0]+=w[0],t[1]+=w[1]),D||(Ko.event.altKey?(y||(y=[(h[0]+h[1])/2,(u[0]+u[1])/2]),B[0]=h[+(t[0]<y[0])],B[1]=u[+(t[1]<y[1])]):y=null),_&&m(t,l,0)&&(n(E),r=!0),k&&m(t,c,1)&&(i(E),r=!0),r&&(e(E),F({type:"brush",mode:D?"move":"resize"}))}function m(t,e,n){var i,r,a=Is(e),l=a[0],c=a[1],p=B[n],g=n?u:h,m=g[1]-g[0];return D&&(l-=p,c-=m+p),i=(n?f:d)?Math.max(l,Math.min(c,t[n])):t[n],D?r=(i+=p)+m:(y&&(p=Math.max(l,Math.min(c,2*y[n]-i))),i>p?(r=i,i=p):r=p),g[0]!=i||g[1]!=r?(n?o=null:s=null,g[0]=i,g[1]=r,!0):void 0}function v(){g(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Ko.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),F({type:"brushend"})}var y,w,b=this,A=Ko.select(Ko.event.target),F=a.of(b,arguments),E=Ko.select(b),x=A.datum(),_=!/^(n|s)$/.test(x)&&l,k=!/^(e|w)$/.test(x)&&c,D=A.classed("extent"),S=G(),B=Ko.mouse(b),M=Ko.select(ta).on("keydown.brush",r).on("keyup.brush",p);if(Ko.event.changedTouches?M.on("touchmove.brush",g).on("touchend.brush",v):M.on("mousemove.brush",g).on("mouseup.brush",v),E.interrupt().selectAll("*").interrupt(),D)B[0]=h[0]-B[0],B[1]=u[0]-B[1];else if(x){var $=+/w$/.test(x),T=+/^n/.test(x);w=[h[1-$]-B[0],u[1-T]-B[1]],B[0]=h[$],B[1]=u[T]}else Ko.event.altKey&&(y=B.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),Ko.select("body").style("cursor",A.style("cursor")),F({type:"brushstart"}),g()}var s,o,a=F(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],u=[0,0],d=!0,f=!0,p=Pc[0];return t.event=function(t){t.each(function(){var t=a.of(this,arguments),e={x:h,y:u,i:s,j:o},n=this.__chart__||e;this.__chart__=e,Sc?Ko.select(this).transition().each("start.brush",function(){s=n.i,o=n.j,h=n.x,u=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=yr(h,e.x),i=yr(u,e.y);return s=o=null,function(r){h=e.x=n(r),u=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Pc[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,p=Pc[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],f=!!e[1]):l?d=!!e:c&&(f=!!e),t):l&&c?[d,f]:l?d:c?f:null},t.extent=function(e){var n,i,r,a,d;return arguments.length?(l&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),s=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(d=n,n=i,i=d),(n!=h[0]||i!=h[1])&&(h=[n,i])),c&&(r=e[0],a=e[1],l&&(r=r[1],a=a[1]),o=[r,a],c.invert&&(r=c(r),a=c(a)),r>a&&(d=r,r=a,a=d),(r!=u[0]||a!=u[1])&&(u=[r,a])),t):(l&&(s?(n=s[0],i=s[1]):(n=h[0],i=h[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(d=n,n=i,i=d))),c&&(o?(r=o[0],a=o[1]):(r=u[0],a=u[1],c.invert&&(r=c.invert(r),a=c.invert(a)),r>a&&(d=r,r=a,a=d))),l&&c?[[n,r],[i,a]]:l?[n,i]:c&&[r,a])},t.clear=function(){return t.empty()||(h=[0,0],u=[0,0],s=o=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&u[0]==u[1]},Ko.rebind(t,a,"on")};var Ic={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Nc=rl.format=hl.timeFormat,Hc=Nc.utc,zc=Hc("%Y-%m-%dT%H:%M:%S.%LZ");Nc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?jo:zc,jo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},jo.toString=zc.toString,rl.second=Ne(function(t){return new sl(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),rl.seconds=rl.second.range,rl.seconds.utc=rl.second.utc.range,rl.minute=Ne(function(t){return new sl(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),rl.minutes=rl.minute.range,rl.minutes.utc=rl.minute.utc.range,rl.hour=Ne(function(t){var e=t.getTimezoneOffset()/60;return new sl(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),rl.hours=rl.hour.range,rl.hours.utc=rl.hour.utc.range,rl.month=Ne(function(t){return t=rl.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),rl.months=rl.month.range,rl.months.utc=rl.month.utc.range;var Uc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Wc=[[rl.second,1],[rl.second,5],[rl.second,15],[rl.second,30],[rl.minute,1],[rl.minute,5],[rl.minute,15],[rl.minute,30],[rl.hour,1],[rl.hour,3],[rl.hour,6],[rl.hour,12],[rl.day,1],[rl.day,2],[rl.week,1],[rl.month,1],[rl.month,3],[rl.year,1]],jc=Nc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()
}],["%B",function(t){return t.getMonth()}],["%Y",Dn]]),Yc={range:function(t,e,n){return Ko.range(Math.ceil(t/n)*n,+e,n).map(Go)},floor:_e,ceil:_e};Wc.year=rl.year,rl.scale=function(){return Yo(Ko.scale.linear(),Wc,jc)};var Gc=Wc.map(function(t){return[t[0].utc,t[1]]}),Vc=Hc.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Dn]]);Gc.year=rl.year.utc,rl.scale.utc=function(){return Yo(Ko.scale.linear(),Gc,Vc)},Ko.text=ke(function(t){return t.responseText}),Ko.json=function(t,e){return De(t,"application/json",Vo,e)},Ko.html=function(t,e){return De(t,"text/html",qo,e)},Ko.xml=ke(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Ko):"object"==typeof module&&module.exports&&(module.exports=Ko),this.d3=Ko}(),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return xe.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t){we.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var n=!0;return d(function(){return n&&(r(t),n=!1),e.apply(this,arguments)},e)}function o(t,e){vn[t]||(r(e),vn[t]=!0)}function a(t,e){return function(n){return g(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function c(){}function h(t,e){e!==!1&&M(t),f(this,t),this._d=new Date(+t._d)}function u(t){var e=E(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*c+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=we.localeData(),this._bubble()}function d(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Le.length>0)for(n in Le)i=Le[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function m(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function v(t,e){var n;return e=O(e,t),t.isBefore(e)?n=m(t,e):(n=m(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(o(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=we.duration(n,i),w(this,r,t),this}}function w(t,e,n,i){var r=e._milliseconds,s=e._days,o=e._months;i=null==i?!0:i,r&&t._d.setTime(+t._d+r*n),s&&fe(t,"Date",de(t,"Date")+s*n),o&&ue(t,de(t,"Month")+o*n),i&&we.updateOffset(t,s||o)}function b(t){return"[object Array]"===Object.prototype.toString.call(t)}function C(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function A(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&o++;return o+s}function F(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=hn[t]||un[e]||e}return t}function E(t){var e,i,r={};for(i in t)n(t,i)&&(e=F(i),e&&(r[e]=t[i]));return r}function x(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}we[e]=function(r,s){var o,a,l=we._locale[e],c=[];if("number"==typeof r&&(s=r,r=t),a=function(t){var e=we().utc().set(i,t);return l.call(we._locale,e,r||"")},null!=s)return a(s);for(o=0;n>o;o++)c.push(a(o));return c}}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function k(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function D(t,e,n){return ae(we([t,11,31+e-n]),e,n).week}function S(t){return B(t)?366:365}function B(t){return t%4===0&&t%100!==0||t%400===0}function M(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ke]<0||t._a[ke]>11?ke:t._a[De]<1||t._a[De]>k(t._a[_e],t._a[ke])?De:t._a[Se]<0||t._a[Se]>24||24===t._a[Se]&&(0!==t._a[Be]||0!==t._a[Me]||0!==t._a[$e])?Se:t._a[Be]<0||t._a[Be]>59?Be:t._a[Me]<0||t._a[Me]>59?Me:t._a[$e]<0||t._a[$e]>999?$e:-1,t._pf._overflowDayOfYear&&(_e>e||e>De)&&(e=De),t._pf.overflow=e)}function $(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function T(t){return t?t.toLowerCase().replace("_","-"):t}function L(t){for(var e,n,i,r,s=0;s<t.length;){for(r=T(t[s]).split("-"),e=r.length,n=T(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=R(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&A(r,n,!0)>=e-1)break;e--}s++}return null}function R(t){var e=null;if(!Te[t]&&Re)try{e=we.locale(),require("./locale/"+t),we.locale(e)}catch(n){}return Te[t]}function O(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(we.isMoment(t)||C(t)?+t:+we(t))-+n,n._d.setTime(+n._d+i),we.updateOffset(n,!1),n):we(t).local()}function I(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,n,i=t.match(Ne);for(e=0,n=i.length;n>e;e++)i[e]=mn[i[e]]?mn[i[e]]:I(i[e]);return function(r){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function N(t,e){return t.isValid()?(e=H(e,t.localeData()),dn[e]||(dn[e]=P(e)),dn[e](t)):t.localeData().invalidDate()}function H(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(He.lastIndex=0;i>=0&&He.test(t);)t=t.replace(He,n),He.lastIndex=0,i-=1;return t}function z(t,e){var n,i=e._strict;switch(t){case"Q":return Xe;case"DDDD":return Je;case"YYYY":case"GGGG":case"gggg":return i?tn:We;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?en:je;case"S":if(i)return Xe;case"SS":if(i)return Qe;case"SSS":if(i)return Je;case"DDD":return Ue;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ge;case"a":case"A":return e._locale._meridiemParse;case"x":return Ke;case"X":return Ze;case"Z":case"ZZ":return Ve;case"T":return qe;case"SSSS":return Ye;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Qe:ze;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ze;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(Z(K(t.replace("\\","")),"i"))}}function U(t){t=t||"";var e=t.match(Ve)||[],n=e[e.length-1]||[],i=(n+"").match(ln)||["-",0,0],r=+(60*i[1])+_(i[2]);return"+"===i[0]?-r:r}function W(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[ke]=3*(_(e)-1));break;case"M":case"MM":null!=e&&(r[ke]=_(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?r[ke]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[De]=_(e));break;case"Do":null!=e&&(r[De]=_(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=_(e));break;case"YY":r[_e]=we.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[_e]=_(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[Se]=_(e);break;case"m":case"mm":r[Be]=_(e);break;case"s":case"ss":r[Me]=_(e);break;case"S":case"SS":case"SSS":case"SSSS":r[$e]=_(1e3*("0."+e));break;case"x":n._d=new Date(_(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=U(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=_(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=we.parseTwoDigitYear(e)}}function j(t){var n,i,r,s,o,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,a=4,i=e(n.GG,t._a[_e],ae(we(),1,4).year),r=e(n.W,1),s=e(n.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[_e],ae(we(),o,a).year),r=e(n.w,1),null!=n.d?(s=n.d,o>s&&++r):s=null!=n.e?n.e+o:o),l=le(i,r,s,a,o),t._a[_e]=l.year,t._dayOfYear=l.dayOfYear}function Y(t){var n,i,r,s,o=[];if(!t._d){for(r=V(t),t._w&&null==t._a[De]&&null==t._a[ke]&&j(t),t._dayOfYear&&(s=e(t._a[_e],r[_e]),t._dayOfYear>S(s)&&(t._pf._overflowDayOfYear=!0),i=ie(s,0,t._dayOfYear),t._a[ke]=i.getUTCMonth(),t._a[De]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=o[n]=r[n];for(;7>n;n++)t._a[n]=o[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Se]&&0===t._a[Be]&&0===t._a[Me]&&0===t._a[$e]&&(t._nextDay=!0,t._a[Se]=0),t._d=(t._useUTC?ie:ne).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm),t._nextDay&&(t._a[Se]=24)}}function G(t){var e;t._d||(e=E(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Y(t))}function V(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function q(e){if(e._f===we.ISO_8601)return void Q(e);e._a=[],e._pf.empty=!0;var n,i,r,s,o,a=""+e._i,l=a.length,c=0;for(r=H(e._f,e._locale).match(Ne)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(z(s,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),mn[s]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(s),W(s,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-c,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Se]<=12&&(e._pf.bigHour=t),e._isPm&&e._a[Se]<12&&(e._a[Se]+=12),e._isPm===!1&&12===e._a[Se]&&(e._a[Se]=0),Y(e),M(e)}function K(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t){var e,n,r,s,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(s=0;s<t._f.length;s++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[s],q(e),$(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==r||r>o)&&(r=o,n=e));d(t,n||e)}function Q(t){var e,n,i=t._i,r=rn.exec(i);if(r){for(t._pf.iso=!0,e=0,n=on.length;n>e;e++)if(on[e][1].exec(i)){t._f=on[e][0]+(r[6]||" ");break}for(e=0,n=an.length;n>e;e++)if(an[e][1].exec(i)){t._f+=an[e][0];break}i.match(Ve)&&(t._f+="Z"),q(t)}else t._isValid=!1}function J(t){Q(t),t._isValid===!1&&(delete t._isValid,we.createFromInputFallback(t))}function te(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function ee(e){var n,i=e._i;i===t?e._d=new Date:C(i)?e._d=new Date(+i):null!==(n=Oe.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?J(e):b(i)?(e._a=te(i.slice(0),function(t){return parseInt(t,10)}),Y(e)):"object"==typeof i?G(e):"number"==typeof i?e._d=new Date(i):we.createFromInputFallback(e)}function ne(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return 1970>t&&a.setFullYear(t),a}function ie(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function re(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function se(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function oe(t,e,n){var i=we.duration(t).abs(),r=Ee(i.as("s")),s=Ee(i.as("m")),o=Ee(i.as("h")),a=Ee(i.as("d")),l=Ee(i.as("M")),c=Ee(i.as("y")),h=r<fn.s&&["s",r]||1===s&&["m"]||s<fn.m&&["mm",s]||1===o&&["h"]||o<fn.h&&["hh",o]||1===a&&["d"]||a<fn.d&&["dd",a]||1===l&&["M"]||l<fn.M&&["MM",l]||1===c&&["y"]||["yy",c];return h[2]=e,h[3]=+t>0,h[4]=n,se.apply({},h)}function ae(t,e,n){var i,r=n-e,s=n-t.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=we(t).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function le(t,e,n,i,r){var s,o,a=ie(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,s=r-a+(a>i?7:0)-(r>a?7:0),o=7*(e-1)+(n-r)+s+1,{year:o>0?t:t-1,dayOfYear:o>0?o:S(t-1)+o}}function ce(e){var n,i=e._i,r=e._f;return e._locale=e._locale||we.localeData(e._l),null===i||r===t&&""===i?we.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),we.isMoment(i)?new h(i,!0):(r?b(r)?X(e):q(e):ee(e),n=new h(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function he(t,e){var n,i;if(1===e.length&&b(e[0])&&(e=e[0]),!e.length)return we();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ue(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),k(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function de(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function fe(t,e,n){return"Month"===e?ue(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function pe(t,e){return function(n){return null!=n?(fe(this,t,n),we.updateOffset(this,e),this):de(this,t)}}function ge(t){return 400*t/146097}function me(t){return 146097*t/400}function ve(t){we.duration.fn[t]=function(){return this._data[t]}}function ye(t){"undefined"==typeof ender&&(be=Fe.moment,Fe.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",we):we)}for(var we,be,Ce,Ae="2.8.4",Fe="undefined"!=typeof global?global:this,Ee=Math.round,xe=Object.prototype.hasOwnProperty,_e=0,ke=1,De=2,Se=3,Be=4,Me=5,$e=6,Te={},Le=[],Re="undefined"!=typeof module&&module&&module.exports,Oe=/^\/?Date\((\-?\d+)/i,Ie=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ne=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,He=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ze=/\d\d?/,Ue=/\d{1,3}/,We=/\d{1,4}/,je=/[+\-]?\d{1,6}/,Ye=/\d+/,Ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ve=/Z|[\+\-]\d\d:?\d\d/gi,qe=/T/i,Ke=/[\+\-]?\d+/,Ze=/[\+\-]?\d+(\.\d{1,3})?/,Xe=/\d/,Qe=/\d\d/,Je=/\d{3}/,tn=/\d{4}/,en=/[+-]?\d{6}/,nn=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sn="YYYY-MM-DDTHH:mm:ssZ",on=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],an=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,cn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),hn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},un={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dn={},fn={s:45,m:45,h:22,d:26,M:11},pn="DDD w W M D d".split(" "),gn="M D H h m s w W".split(" "),mn={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+g(Math.abs(t),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return _(this.milliseconds()/100)},SS:function(){return g(_(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+g(_(t/60),2)+":"+g(_(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+g(_(t/60),2)+g(_(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];pn.length;)Ce=pn.pop(),mn[Ce+"o"]=l(mn[Ce],Ce);for(;gn.length;)Ce=gn.pop(),mn[Ce+Ce]=a(mn[Ce],2);mn.DDDD=a(mn.DDD,3),d(c.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=we.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=we([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ae(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),we=function(e,n,r,s){var o;return"boolean"==typeof r&&(s=r,r=t),o={},o._isAMomentObject=!0,o._i=e,o._f=n,o._l=r,o._strict=s,o._isUTC=!1,o._pf=i(),ce(o)},we.suppressDeprecationWarnings=!1,we.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),we.min=function(){var t=[].slice.call(arguments,0);return he("isBefore",t)},we.max=function(){var t=[].slice.call(arguments,0);return he("isAfter",t)},we.utc=function(e,n,r,s){var o;return"boolean"==typeof r&&(s=r,r=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=r,o._i=e,o._f=n,o._strict=s,o._pf=i(),ce(o).utc()},we.unix=function(t){return we(1e3*t)},we.duration=function(t,e){var i,r,s,o,a=t,l=null;return we.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Ie.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:_(l[De])*i,h:_(l[Se])*i,m:_(l[Be])*i,s:_(l[Me])*i,ms:_(l[$e])*i}):(l=Pe.exec(t))?(i="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(o=v(we(a.from),we(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),r=new u(a),we.isDuration(t)&&n(t,"_locale")&&(r._locale=t._locale),r},we.version=Ae,we.defaultFormat=sn,we.ISO_8601=function(){},we.momentProperties=Le,we.updateOffset=function(){},we.relativeTimeThreshold=function(e,n){return fn[e]===t?!1:n===t?fn[e]:(fn[e]=n,!0)},we.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return we.locale(t,e)}),we.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?we.defineLocale(t,e):we.localeData(t),n&&(we.duration._locale=we._locale=n)),we._locale._abbr},we.defineLocale=function(t,e){return null!==e?(e.abbr=t,Te[t]||(Te[t]=new c),Te[t].set(e),we.locale(t),Te[t]):(delete Te[t],null)},we.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return we.localeData(t)}),we.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return we._locale;if(!b(t)){if(e=R(t))return e;t=[t]}return L(t)},we.isMoment=function(t){return t instanceof h||null!=t&&n(t,"_isAMomentObject")},we.isDuration=function(t){return t instanceof u};for(Ce=yn.length-1;Ce>=0;--Ce)x(yn[Ce]);we.normalizeUnits=function(t){return F(t)},we.invalid=function(t){var e=we.utc(0/0);return null!=t?d(e._pf,t):e._pf.userInvalidated=!0,e},we.parseZone=function(){return we.apply(null,arguments).parseZone()},we.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)},d(we.fn=h.prototype,{clone:function(){return we(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=we(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return $(this)},isDSTShifted:function(){return this._a?this.isValid()&&A(this._a,(this._isUTC?we.utc(this._a):we(this._a)).toArray())>0:!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=N(this,t||we.defaultFormat);return this.localeData().postformat(e)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(t,e,n){var i,r,s,o=O(t,this),a=6e4*(this.zone()-o.zone());return e=F(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),s=this-we(this).startOf("month")-(o-we(o).startOf("month")),s-=6e4*(this.zone()-we(this).startOf("month").zone()-(o.zone()-we(o).startOf("month").zone())),r+=s/i,"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:p(r)},from:function(t,e){return we.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(we(),t)},calendar:function(t){var e=t||we(),n=O(e,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,we(e)))},isLeapYear:function(){return B(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=re(t,this.localeData()),this.add(t-e,"d")):e},month:pe("Month",!0),startOf:function(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=F(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=F("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=we.isMoment(t)?t:we(t),+this>+t):(n=we.isMoment(t)?+t:+we(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=F("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=we.isMoment(t)?t:we(t),+t>+this):(n=we.isMoment(t)?+t:+we(t),+this.clone().endOf(e)<n)},isSame:function(t,e){var n;return e=F(e||"millisecond"),"millisecond"===e?(t=we.isMoment(t)?t:we(t),+this===+t):(n=+we(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=we.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=we.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=U(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?w(this,we.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?we(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function(t){var e=Ee((we(this).startOf("day")-we(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ae(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ae(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ae(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return D(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return D(this.year(),t.dow,t.doy)},get:function(t){return t=F(t),this[t]()},set:function(t,e){return t=F(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(n=we.localeData(e),null!=n&&(this._locale=n),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),we.fn.millisecond=we.fn.milliseconds=pe("Milliseconds",!1),we.fn.second=we.fn.seconds=pe("Seconds",!1),we.fn.minute=we.fn.minutes=pe("Minutes",!1),we.fn.hour=we.fn.hours=pe("Hours",!0),we.fn.date=pe("Date",!0),we.fn.dates=s("dates accessor is deprecated. Use date instead.",pe("Date",!0)),we.fn.year=pe("FullYear",!0),we.fn.years=s("years accessor is deprecated. Use year instead.",pe("FullYear",!0)),we.fn.days=we.fn.day,we.fn.months=we.fn.month,we.fn.weeks=we.fn.week,we.fn.isoWeeks=we.fn.isoWeek,we.fn.quarters=we.fn.quarter,we.fn.toJSON=we.fn.toISOString,d(we.duration.fn=u.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,s=this._months,o=this._data,a=0;o.milliseconds=i%1e3,t=p(i/1e3),o.seconds=t%60,e=p(t/60),o.minutes=e%60,n=p(e/60),o.hours=n%24,r+=p(n/24),a=p(ge(r)),r-=p(me(a)),s+=p(r/30),r%=30,a+=p(s/12),s%=12,o.days=r,o.months=s,o.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},humanize:function(t){var e=oe(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=we.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=we.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=F(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=F(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*ge(e),"month"===t?n:n/12;
switch(e=this._days+Math.round(me(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:we.fn.lang,locale:we.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||s?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale}}),we.duration.fn.toString=we.duration.fn.toISOString;for(Ce in cn)n(cn,Ce)&&ve(Ce.toLowerCase());we.duration.fn.asMilliseconds=function(){return this.as("ms")},we.duration.fn.asSeconds=function(){return this.as("s")},we.duration.fn.asMinutes=function(){return this.as("m")},we.duration.fn.asHours=function(){return this.as("h")},we.duration.fn.asDays=function(){return this.as("d")},we.duration.fn.asWeeks=function(){return this.as("weeks")},we.duration.fn.asMonths=function(){return this.as("M")},we.duration.fn.asYears=function(){return this.as("y")},we.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Re?module.exports=we:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Fe.moment=be),we}),ye(!0)):ye()}.call(this),function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(e){var n=t(document.createTextNode(""));e.before(n),n.before(e),n.remove()}function i(t){function e(t){return H[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function r(t,e){for(var n=0,i=e.length;i>n;n+=1)if(o(t,e[n]))return n;return-1}function s(){var e=t(N);e.appendTo(document.body);var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function o(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function a(t,e,n){var i,r,s;if(null===t||t.length<1)return[];for(i=t.split(e),r=0,s=i.length;s>r;r+=1)i[r]=n(i[r]);return i}function l(t){return t.outerWidth(!1)-t.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.on("keyup",function(){var r=t.data(n,i);r!==e&&n.val()!==r&&(t.removeData(n,i),n.trigger("keyup-change"))})}function h(n){n.on("mousemove",function(n){var i=I;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function u(t,n,i){i=i||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,e)},t)}}function d(t,e){var n=u(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&n(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus();var r=n.offsetWidth>0||n.offsetHeight>0;r&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,i=0;if("selectionStart"in e)n=e.selectionStart,i=e.selectionEnd-n;else if("selection"in document){e.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),n=r.text.length-i}return{offset:n,length:i}}function g(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!L){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);L=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),L.attr("class","select2-sizer"),t(document.body).append(L)}return L.text(e.val()),L.width()}function y(e,n,i){var r,s,o=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),r=t.trim(n.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(s=i(this),s&&o.push(s))})),e.attr("class",o.join(" "))}function w(t,e,n,r){var s=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),o=e.length;return 0>s?void n.push(r(t)):(n.push(r(t.substring(0,s))),n.push("<span class='select2-match'>"),n.push(r(t.substring(s,s+o))),n.push("</span>"),void n.push(r(t.substring(s+o,t.length))))}function b(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function C(n){var i,r=null,s=n.quietMillis||100,o=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,s=o,c=n.transport||t.fn.select2.ajaxDefaults.transport,h={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},u=t.extend({},t.fn.select2.ajaxDefaults.params,h);i=i?i.call(a,l.term,l.page,l.context):null,s="function"==typeof s?s.call(a,l.term,l.page,l.context):s,r&&"function"==typeof r.abort&&r.abort(),n.params&&(t.isFunction(n.params)?t.extend(u,n.params.call(a)):t.extend(u,n.params)),t.extend(u,{url:s,dataType:n.dataType,data:i,success:function(t){var e=n.results(t,l.page,l);l.callback(e)},error:function(t,e,n){var i={hasError:!0,jqXHR:t,textStatus:e,errorThrown:n};l.callback(i)}}),r=c.call(a,u)},s)}}function A(e){var n,i,r=e,s=function(t){return""+t.text};t.isArray(r)&&(i=r,r={results:i}),t.isFunction(r)===!1&&(i=r,r=function(){return i});var o=r();return o.text&&(s=o.text,t.isFunction(s)||(n=o.text,s=function(t){return t[n]})),function(e){var n,i=e.term,o={results:[]};return""===i?void e.callback(r()):(n=function(r,o){var a,l;if(r=r[0],r.children){a={};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a.children=[],t(r.children).each2(function(t,e){n(e,a.children)}),(a.children.length||e.matcher(i,s(a),r))&&o.push(a)}else e.matcher(i,s(r),r)&&o.push(r)},t(r().results).each2(function(t,e){n(e,o.results)}),void e.callback(o))}}function F(n){var i=t.isFunction(n);return function(r){var s=r.term,o={results:[]},a=i?n(r):n;t.isArray(a)&&(t(a).each(function(){var t=this.text!==e,n=t?this.text:this;(""===s||r.matcher(s,n))&&o.results.push(t?this:{id:this,text:this})}),r.callback(o))}}function E(e,n){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(n+" must be a string, function, or falsy value")}function x(e,n){if(t.isFunction(e)){var i=Array.prototype.slice.call(arguments,2);return e.apply(n,i)}return e}function _(e){var n=0;return t.each(e,function(t,e){e.children?n+=_(e.children):n++}),n}function k(t,n,i,r){var s,a,l,c,h,u=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,c=r.tokenSeparators.length;c>l&&(h=r.tokenSeparators[l],a=t.indexOf(h),!(a>=0));l++);if(0>a)break;if(s=t.substring(0,a),t=t.substring(a+h.length),s.length>0&&(s=r.createSearchChoice.call(this,s,n),s!==e&&null!==s&&r.id(s)!==e&&null!==r.id(s))){for(d=!1,l=0,c=n.length;c>l;l++)if(o(r.id(s),r.id(n[l]))){d=!0;break}d||i(s)}}return u!==t?t:void 0}function D(){var e=this;t.each(arguments,function(t,n){e[n].remove(),e[n]=null})}function S(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var B,M,$,T,L,R,O,I={x:0,y:0},P={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case P.LEFT:case P.RIGHT:case P.UP:case P.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case P.SHIFT:case P.CTRL:case P.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},N="<div class='select2-measure-scrollbar'></div>",H={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};R=t(document),T=function(){var t=1;return function(){return t++}}(),B=S(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+T()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=t(document.body),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(x(n.containerCss,this.opts.element)),this.container.addClass(x(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(o),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),h(this.results),this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,n,r){var s=i.scrollTop();r>0&&0>=s-r?(i.scrollTop(0),g(t)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(t))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var l=n.element.prop("readonly");l===e&&(l=!1),this.readonly(l),O=O||s(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,n=t.data("select2"),i=this;this.close(),t.length&&t[0].detachEvent&&i._sync&&t.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==e&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),t.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),D.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var i,r,s,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,s){var o,a=this.opts.id,l=this.liveRegion;(o=function(i,r,h){var u,d,f,p,g,m,v,y,w,b;i=n.sortResults(i,r,s);var C=[];for(u=0,d=i.length;d>u;u+=1)f=i[u],g=f.disabled===!0,p=!g&&a(f)!==e,m=f.children&&f.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(f)),v.attr("role","presentation"),y=t(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+T()),y.attr("role","option"),b=n.formatResult(f,y,s,c.opts.escapeMarkup),b!==e&&(y.html(b),v.append(y)),m&&(w=t("<ul></ul>"),w.addClass("select2-result-sub"),o(f.children,w,h+1),v.append(w)),v.data("select2-data",f),C.push(v[0]);r.append(C),l.text(n.formatMatches(i.length))})(r,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(t){return t[s]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(t){var n,r,s,o={results:[],more:!1},a=t.term;s=function(e,n){var i;e.is("option")?t.matcher(a,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){s(e,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==e&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(t,e){s(e,o.results)}),t.callback(o)}),n.id=function(t){return t.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=C.call(n.element,n.ajax)):"data"in n?n.query=A(n.data):"tags"in n&&(n.query=F(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,i){var r=[];t(a(e.val(),n.separator,n.transformVal)).each(function(){var e={id:this,text:this},i=n.tags;t.isFunction(i)&&(i=i()),t(i).each(function(){return o(this.id,e.id)?(e=this,!1):void 0}),r.push(e)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,r=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var t=i.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=i.prop("readonly");n===e&&(n=!1),this.readonly(n),this.container&&(y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",r._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(e){t.each(e,r._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var e,n,i,r,s,o=this.dropdown,a=this.container,l=a.offset(),c=a.outerHeight(!1),h=a.outerWidth(!1),u=o.outerHeight(!1),d=t(window),f=d.width(),p=d.height(),g=d.scrollLeft()+f,m=d.scrollTop()+p,v=l.top+c,y=l.left,w=m>=v+u,b=l.top-u>=d.scrollTop(),C=o.outerWidth(!1),A=function(){return g>=y+C},F=function(){return l.left+g+a.outerWidth(!1)>C},E=o.hasClass("select2-drop-above");E?(n=!0,!b&&w&&(i=!0,n=!1)):(n=!1,!w&&b&&(i=!0,n=!0)),i&&(o.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),h=this.container.outerWidth(!1),u=o.outerHeight(!1),g=d.scrollLeft()+f,m=d.scrollTop()+p,v=l.top+c,y=l.left,C=o.outerWidth(!1),o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(s=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),C=o.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:O.width),C>h?h=C:C=h,u=o.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),v-=e.top,y-=e.left),!A()&&F()&&(y=l.left+this.container.outerWidth(!1)-C),r={left:y,width:h},n?(r.top=l.top-u,r.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(r.top=v,r.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),r=t.extend(r,x(this.opts.dropdownCss,this.opts.element)),o.css(r)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),R.on("mousemove.select2Event",function(t){I.x=t.pageX,I.y=t.pageY}),!0):!1},opening:function(){var e,i=this.containerEventName,r="scroll."+i,s="resize."+i,o="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0===e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(i){n(e);var r,s=t("#select2-drop");s.length>0&&(r=s.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){t(this).on(s+" "+r+" "+o,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),R.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))
}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,n,i,r,s,o,a,l,c=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void c.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[n]),l=(i.offset()||{}).top||0,r=l+i.outerHeight(!0),n===e.length-1&&(a=c.find("li.select2-more-results"),a.length>0&&(r=a.offset().top+a.outerHeight(!0))),s=c.offset().top+c.outerHeight(!1),r>s&&c.scrollTop(c.scrollTop()+(r-s)),o=l-c.offset().top,0>o&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var n,i,s=this.findHighlightableChoices();return 0===arguments.length?r(s.filter(".select2-highlighted")[0],s.get()):(e>=s.length&&(e=s.length-1),0>e&&(e=0),this.removeHighlight(),n=t(s[e]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,s=this.search.val(),o=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:s,page:i,context:o}),r.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).html(r.opts.escapeMarkup(x(r.opts.formatLoadMore,r.opts.element,i+1))),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),d.positionDropdown(),d.liveRegion.text(h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.text():d.opts.formatMatches(h.find('.select2-result-selectable:not(".select2-selected")').length))}function r(t){h.html(t),i()}var s,a,l,c=this.search,h=this.results,u=this.opts,d=this,f=c.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!o(f,p))&&(t.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(s=this.data(),t.isArray(s)&&s.length>=g&&E(u.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+x(u.formatSelectionTooBig,u.element,g)+"</li>");if(c.val().length<u.minimumInputLength)return r(E(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+x(u.formatInputTooShort,u.element,c.val(),u.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return void r(E(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+x(u.formatInputTooLong,u.element,c.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+x(u.formatSearching,u.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=e&&null!=a&&c.val(a),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(s){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(s.hasError!==e&&E(u.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+x(u.formatAjaxError,u.element,s.jqXHR,s.textStatus,s.errorThrown)+"</li>");if(this.context=s.context===e?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(d,c.val(),s.results),a!==e&&null!==a&&d.id(a)!==e&&null!==d.id(a)&&0===t(s.results).filter(function(){return o(d.id(this),d.id(a))}).length&&this.opts.createSearchChoicePosition(s.results,a)),0===s.results.length&&E(u.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+x(u.formatNoMatches,u.element,c.val())+"</li>");h.empty(),d.opts.populateResults.call(this,h,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&E(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.escapeMarkup(x(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,r,s,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),s=0,o=i.length;o>s;s+=1)if(a=i[s].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),M=S(B,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),D.call(this,"selection","focusser")},initContainer:function(){var e,i,r=this.container,s=this.dropdown,o=T();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=e=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),i=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===P.PAGE_UP||t.which===P.PAGE_DOWN)return void g(t);switch(t.which){case P.UP:case P.DOWN:return this.moveHighlight(t.which===P.UP?-1:1),void g(t);case P.ENTER:return this.selectHighlighted(),void g(t);case P.TAB:return void this.selectHighlighted({noFocus:!0});case P.ESC:return this.cancel(t),void g(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==P.TAB&&!P.isControl(t)&&!P.isFunctionKey(t)&&t.which!==P.ESC){if(this.opts.openOnEnter===!1&&t.which===P.ENTER)return void g(t);if(t.which==P.DOWN||t.which==P.UP||t.which==P.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==P.DELETE||t.which==P.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(i){n(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var i=t.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(n,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()===e?!1:(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected&&!this.disabled});e(n.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=n.val(),s=null;e.query({matcher:function(t,n,i){var a=o(r,e.id(i));return a&&(s=i),a},callback:t.isFunction(i)?function(){i(s)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){return o(r.id(e.data("select2-data")),r.opts.element.val())?(i=t,!1):void 0}),n!==!1&&this.highlight(e===!0&&i>=0?i:0),e===!0){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(_(t.results)>=s)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(n=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),n!==e&&r.append(n),i=this.opts.formatSelectionCssClass(t,r),i!==e&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,i=null,r=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=r.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:s});else{if(!t&&0!==t)return void this.clear(n);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),n&&r.triggerChange({added:t,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:n})):this.clear(i)))}}),$=S(B,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=a(n.val(),e.separator,e.transformVal),s=[];e.query({matcher:function(n,i,a){var l=t.grep(r,function(t){return o(t,e.id(a))}).length;return l&&s.push(a),l},callback:t.isFunction(i)?function(){for(var t=[],n=0;n<r.length;n++)for(var a=r[n],l=0;l<s.length;l++){var c=s[l];if(o(a,e.id(c))){t.push(c),s.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),D.call(this,"searchContainer","selection")},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var i=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+T()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),s=p(this.search);if(n.length&&(t.which==P.LEFT||t.which==P.RIGHT||t.which==P.BACKSPACE||t.which==P.DELETE||t.which==P.ENTER)){var o=n;return t.which==P.LEFT&&i.length?o=i:t.which==P.RIGHT?o=r.length?r:null:t.which===P.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),o=i.length?i:r):t.which==P.DELETE?this.unselect(n.first())&&(this.search.width(10),o=r.length?r:null):t.which==P.ENTER&&(o=null),this.selectChoice(o),g(t),void(o&&o.length||this.open())}if((t.which===P.BACKSPACE&&1==this.keydowns||t.which==P.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case P.UP:case P.DOWN:return this.moveHighlight(t.which===P.UP?-1:1),void g(t);case P.ENTER:return this.selectHighlighted(),void g(t);case P.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case P.ESC:return this.cancel(t),void g(t)}if(t.which!==P.TAB&&!P.isControl(t)&&!P.isFunctionKey(t)&&t.which!==P.BACKSPACE&&t.which!==P.ESC){if(t.which===P.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===P.PAGE_UP||t.which===P.PAGE_DOWN)&&g(t),t.which===P.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],i=[],s=this;t(e).each(function(){r(s.id(this),n)<0&&(n.push(s.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,n){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,s=!n.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?o:a,c=this.id(n),h=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=e&&l.find("div").replaceWith(t("<div></div>").html(i)),r=this.opts.formatSelectionCssClass(n,l.find("div")),r!=e&&l.addClass(r),s&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),h.push(c),this.setVal(h)},unselect:function(e){var n,i,s=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(i=r(this.id(n),s))>=0;)s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(t,e,n){var i=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;s.each2(function(t,e){var n=a.id(e.data("select2-data"));r(n,i)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&this.opts.closeOnSelect===!0&&a.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&E(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+x(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,n,i,r,s=l(this.search);t=v(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-s,t>r&&(r=n-s),40>r&&(r=n-s),0>=r&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator,this.opts.transformVal))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)o(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),n>0&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(n,i){var r,s=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,s.id);s.setVal(n),s.updateSelection(e),s.clearSearch(),i&&s.triggerChange(s.buildChangeDetails(r,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var i,r,s=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(r=this.data(),e||(e=[]),i=t.map(e,function(t){return s.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),t.fn.select2=function(){var n,i,s,o,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];if(o=e,i=t(this).data("select2"),i===e)return;if(s=l[0],"container"===s?o=i.container:"dropdown"===s?o=i.dropdown:(d[s]&&(s=d[s]),o=i[s].apply(i,l.slice(1))),r(l[0],h)>=0||r(l[0],u)>=0&&1==l.length)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return w(this.text(t),n.term,r,i),r.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,n,i){return t?i(this.text(t)):e},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text
},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:b,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){var e="ontouchstart"in window||navigator.msMaxTouchPoints>0;return e&&t.opts.minimumResultsForSearch<0?!1:!0}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:A,tags:F},util:{debounce:u,markMatch:w,escapeMarkup:b,stripDiacritics:i},"class":{"abstract":B,single:M,multi:$}}}}(jQuery),$.fn.select2.defaults.minimumResultsForSearch=-1,function(){$(document).ready(function(t){return t("body").on("copy",".substitution-tag-copy",function(e){var n;return e.preventDefault(),t(".substitution-tag-copy-text").hide(),n=t(e.currentTarget),n.parent().find(".substitution-tag-copy-text").show().delay(5e3).fadeOut("slow"),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",n.data("substitution-tag-text"))})})}.call(this),window.Nlvx=window.Nlvx||{},$(document).on("ready",function(){$(".add-tooltip").tooltip(),$(".add-popover").popover()}),function(){Nlvx.Alert=function(){function t(t,e,n){this.$container=e,/You have used a reserved field name for your custom field/.test(t)&&(t=t.concat(' <a id="link" href="https://support.sendgrid.com/hc/en-us/articles/206923947" target="_blank">Click here for more information.</a>')),this.$html=$('<div class="sg-alert '+n+'">\n  <a class="close" href="#">close</a>\n  <p>'+t+"</p>\n</div>").hide(),this.bindEvents(),this.$container.prepend(this.$html)}return t.prototype.bindEvents=function(){return this.$html.find("a").on("click",function(t){return function(){return t.remove()}}(this))},t.prototype.show=function(){return this.$container.scrollTop(0),this.$html.show()},t.prototype.hide=function(){return this.$html.hide()},t.prototype.remove=function(){return this.hide(),this.$html.remove()},t}()}.call(this),function(){Nlvx.BaseModal=function(){function t(t,e,n,i,r,s){this.$trigger=t,this.$modal=null!=e?e:null,this.$confirmButton=n,this.$cancelButton=i,this.$trigger.on("click.basemodal",_.bind(this.onTrigger,this)),this.$confirmButton.on("click.basemodal",_.bind(this.onConfirm,this,r)),this.$cancelButton.on("click.basemodal",_.bind(this.onCancel,this,s))}return t.prototype.show=function(t,e){return null==t&&(t=!1),null==e&&(e=!0),this.$modal.modal({show:!0,backdrop:t,keyboard:e})},t.prototype.hide=function(){return this.$modal.modal({show:!1})},t.prototype.onConfirm=function(t){return null!=t?t():void 0},t.prototype.onCancel=function(t){return null!=t&&t(),this.hide()},t.prototype.onTrigger=function(t){return t.preventDefault(),this.show()},t.prototype.destroy=function(){return this.$trigger.off("click.basemodal"),this.$confirmButton.off("click.basemodal"),this.$cancelButton.off("click.basemodal"),this.$trigger=null,this.$modal=null,this.$confirmButton=null,this.$cancelButton=null},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.BaseVersionEditor=function(){function e(e,n,i){var r;this.testModal=n,this.makeVersionActive=t(this.makeVersionActive,this),this.renderActiveModal=t(this.renderActiveModal,this),this.renderDeleteModal=t(this.renderDeleteModal,this),this.renderTestModal=t(this.renderTestModal,this),this.filterXSS=t(this.filterXSS,this),this.$el=$(e),this.isActive=1===i,r=this.$el.find("input[name='version[name]']"),""===(null!=r?r.val():void 0)&&r.focus(),this.$versionSubject=this.$el.find("#version_subject"),this.$saveButton=this.$el.find("#version_form .save-content"),this.$displayError=this.$el.find(".version_subject_error"),this.$subjectLabel=this.$el.find("#subject_line"),this.$el.validateForm({custom:this.validations()})}return e.prototype.bindEvents=function(){return this.$el.find('a[data-action="test"]').on("click",this.renderTestModal),this.$el.find('a[data-action="delete"]').on("click",this.renderDeleteModal),this.$el.find(".modal").on("hidden.bs.modal",function(){return $(this).removeData("bs.modal")}),this.$el.find('[data-group="make_active"]').click(this.renderActiveModal),this.$el.find("#make_active_modal_confirm").click(this.makeVersionActive),this.$el.on("contentChange",function(t){return function(){return t.$el.validateForm("check")}}(this)),this.$saveButton.on("click",this.filterXSS)},e.prototype.filterXSS=function(){var t;return this.$versionSubject.val(Nlvx.Sanitizers.removeJavascript(this.$versionSubject.val())),t=$('a[data-action="test"]'),t.data("subject",Nlvx.Sanitizers.removeJavascript(t.data("subject")))},e.prototype.renderTestModal=function(t){var e,n,i;return e=t.currentTarget.getAttribute("data-path"),n=t.currentTarget.getAttribute("data-send-test-path"),i=t.currentTarget.getAttribute("data-subject"),this.testModal.render(e,n,Nlvx.Sanitizers.removeJavascript(i))},e.prototype.renderDeleteModal=function(){return this.$el.find(".delete-modal").modal({show:!0,backdrop:!1})},e.prototype.renderActiveModal=function(){return this.isActive?Nlvx.FlashMessageHandler.add("danger","This version is already active."):this.$el.find("#make_active_modal").modal({show:!0,backdrop:!1})},e.prototype.makeVersionActive=function(t){var e,n;return this.filterXSS(),t.preventDefault(),e=$(t.target),n=$.ajax({url:e.attr("data-version-path"),method:"PUT",data:{version:{active:1}}}),n.done(function(t){return function(){var e;return t.isActive=!0,e=$("#campaign-sending .label-default"),e.addClass("active"),e.html("ACTIVE"),t.$el.find("#make_active_modal").modal("hide"),Nlvx.FlashMessageHandler.add("success","Successfully made this version active.")}}(this))},e.prototype.validations=function(){return{}},e}()}.call(this),function(){var t;t=300,this.Collapsible=function(){function e(t,e){this.$trigger=null!=t?t:$(),this.$container=null!=e?e:$(),this.$trigger.hasClass("open")&&this.$container.show(),this.$trigger.on("click",_.bind(this.onToggle,this))}return e.prototype.onToggle=function(){return this.$trigger.hasClass("open")?this.close():this.open()},e.prototype.close=function(){return $(this).trigger("collapsible:beforeclose"),this.$container.slideUp(t,function(t){return function(){return $(t).trigger("collapsible:close")}}(this)),this.$trigger.removeClass("open")},e.prototype.open=function(e){return null==e&&(e=!1),this.$trigger.hasClass("open")?void 0:($(this).trigger("collapsible:beforeopen"),e?(this.$container.show(),$(this).trigger("collapsible:open")):this.$container.slideDown(t,function(t){return function(){return $(t).trigger("collapsible:open")}}(this)),this.$trigger.addClass("open"))},e}()}.call(this),function(){Nlvx.ConfirmationModal=function(){function t(t,e){this.$target=$(t),this.buttonSelector=e||'[data-action="delete"]'}var e,n;return t.prototype.bindEvents=function(){return this.$target.find(this.buttonSelector).on("click",_.bind(this.showConfirmDelete,this))},t.prototype.showConfirmDelete=function(t){var e,n;return this.$target.find(".modal").on("hidden.bs.modal",function(){return $(this).removeData("bs.modal")}),e=t.currentTarget.getAttribute("data-id"),n=this.$target.find(".modal[data-id='"+e+"']").modal({show:!0,backdrop:"static"}),this.positionModal(n),$(".modal-backdrop").remove()},t.prototype.positionModal=function(t){return n(t)>=this.windowHeight()?t.css({top:-t.find(".modal-content").height()}):void 0},t.prototype.windowHeight=function(){return $(window).height()},e=function(t){return t.parent().offset().top-$(window).scrollTop()},n=function(t){return e(t)+t.find(".modal-content").height()+100},t}()}.call(this),function(){Nlvx.Converters={html_to_plain_text:function(t){var e;return e=$("<div>").html($.parseHTML(t)),e.find("a").each(function(){var t;return t=$(this),t.replaceWith(""+t.text()+" "+t.attr("href"))}),e.find("br").replaceWith("\n"),e.find("p").each(function(){var t;return t=$(this),t.replaceWith("\n"+t.text()+"\n")}),e.find("style").replaceWith(""),e.text().replace(/(?:(?:\r\n|\r|\n)\s*){2,}/g,"\n\n").replace(RegExp(" +(?= )","g"),"").replace(/^\s+|\s+$/g,"")}}}.call(this),function(){Nlvx.CoordinateLocator=function(){function t(){}return t.prototype.getNearestPoint=function(t,e){var n,i;return this.data=t,0===this.data.length?null:(n=this._findNearestX(e[0]),i=this._findNearestY(n,e[1]),{x:n,y:i,type:this._findLineTypeForPoint(n,i)})},t.prototype._findClosest=function(t,e){var n,i,r;return r=d3.bisect(t,e,1),i=t[r-1],n=t[r],e-i>n-e?n:i},t.prototype._getYValues=function(t){var e;return e=moment.unix(t).unix(),_.sortBy(_.map(this.data,function(t){return _.find(t.data,function(t){return t[0]===e})[1]}),function(t){return t})},t.prototype._dates=function(){return _.map(this.data[0].data,function(t){return t[0]})},t.prototype._findNearestX=function(t){return this._findClosest(this._dates(),t)},t.prototype._findNearestY=function(t,e){return this._findClosest(this._getYValues(t),e)},t.prototype._findLineTypeForPoint=function(t,e){return _.find(this.data,function(n){return _.find(n.data,function(n){return n[0]===t&&n[1]===e})}).type},t}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.CustomSelect=function(){function n(n,i,r,s){var o;null==i&&(i={}),null==r&&(r=new Nlvx.CustomSelectTrigger),null==s&&(s=new Nlvx.CustomSelectMenu),this.scrollMenu=e(this.scrollMenu,this),this.filterMenu=e(this.filterMenu,this),this.closeMenu=e(this.closeMenu,this),this.openMenu=e(this.openMenu,this),this.hideNativeSelect=e(this.hideNativeSelect,this),this.handleMenuClosed=e(this.handleMenuClosed,this),this.handleOptionAdded=e(this.handleOptionAdded,this),o={fetchData:!1,dataUrl:""},this.settings=t.extend(o,i),this.customSelectTrigger=r,this.customSelectMenu=s,this.customSelectMenu.configure(this.settings).registerOptionAddedCallback(this.handleOptionAdded).registerCloseCallback(this.handleMenuClosed),this.$select=n,this.customSelectTrigger.setPlaceholder(this.$select.attr("placeholder")).registerFocusCallback(this.openMenu).registerBlurCallback(this.closeMenu).registerScrollCallback(this.scrollMenu).registerValueChangeCallback(this.filterMenu),this.currentMatches=[],this.originalOptions=[]}return n.prototype.el=n.$select,n.prototype.render=function(){var e,n,i,r,s,o,a;for(this.hideNativeSelect(),this.$select.wrap('<div class="custom-select">'),this.$wrapper=this.$select.parent(),i=[],e=function(e){return{value:Nlvx.Sanitizers.removeJavascript(t(e).val()),label:Nlvx.Sanitizers.removeJavascript(t(e).text())}},a=this.$select.find("option"),s=0,o=a.length;o>s;s++)n=a[s],i.push(e(n));return this.customSelectMenu.setElement(this.$wrapper).setOptions(i).render(),this.customSelectTrigger.setElement(this.$wrapper).render(),r=this.$select.children(":selected"),r.length&&(this.customSelectTrigger.updateText(r.text()),this.customSelectMenu.selectOptionWithLabel(r.text())),this},n.prototype.handleOptionAdded=function(t){return this.$select.append("<option value='"+Nlvx.Sanitizers.removeJavascript(t.value)+"'>"+Nlvx.Sanitizers.removeJavascript(t.label)+"</option>")},n.prototype.handleMenuClosed=function(){var t;return t=this.customSelectMenu.selected(),this.$select.val(t.value),this.customSelectTrigger.updateText(t.label)},n.prototype.hideNativeSelect=function(){return this.$select.addClass("hide")},n.prototype.openMenu=function(){return this.customSelectMenu.open()},n.prototype.closeMenu=function(){return this.customSelectMenu.close()},n.prototype.filterMenu=function(t){return this.customSelectMenu.filter(t)},n.prototype.scrollMenu=function(t){return this.customSelectMenu.scroll(t)},n}(),t=jQuery,t.fn.extend({customSelect:function(e){return null==e&&(e={}),this.each(function(n,i){return new Nlvx.CustomSelect(t(i),e).render().el})}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.CustomSelectMenu=function(){function e(){this._hoverSelected=t(this._hoverSelected,this),this.selectOptionWithLabel=t(this.selectOptionWithLabel,this),this.handleListItemClick=t(this.handleListItemClick,this),this.hoverListItem=t(this.hoverListItem,this),this.settings={fetchData:!1,dataUrl:""},this.options=[]}return e.prototype.configure=function(t){return this.settings=$.extend(this.settings,t),this},e.prototype.setOptions=function(t){return this.options=t||[],this},e.prototype.setElement=function(t){return this.$el=t,this},e.prototype.render=function(){var t;return this.$el.append('<div class="options-menu">'),this.$optionsMenu=this.$el.find(".options-menu"),this.$optionsMenu.append('<ul class="options">'),this.$optionsList=this.$el.find("ul.options"),this.settings.fetchData&&this.settings.dataUrl.length>0?(t=$.get(this.settings.dataUrl),t.success(function(t){return function(e){return t._addOptions(e),t._populateOptionsList(t.options,t._hoverSelected)}}(this))):this._populateOptionsList(this.options,this._hoverSelected),this._bindEvents(),this},e.prototype.selected=function(){var t;return t=this.$optionsList.find(".hover"),{value:t.data("value"),label:t.text()}},e.prototype.registerOptionAddedCallback=function(t){return this.addOptionCallback=t,this},e.prototype.registerCloseCallback=function(t){return this.closeCallback=t,this},e.prototype.open=function(){return this.$optionsMenu.css("width",""+this.$optionsMenu.parent().outerWidth()+"px"),this.$optionsMenu.hasClass("open")||this.$optionsMenu.addClass("open"),this},e.prototype.close=function(){return this.$optionsMenu.hasClass("open")&&this.$optionsMenu.removeClass("open"),this.closeCallback&&this.closeCallback(),this},e.prototype.scroll=function(t){switch(t){case"DOWN":this._scrollDown();break;case"UP":this._scrollUp()}return this},e.prototype.filter=function(t){var e,n,i;return i=new RegExp(t,"i"),e=function(){var t,e,r,s;for(r=this.options,s=[],t=0,e=r.length;e>t;t++)n=r[t],n.label.match(i)&&s.push(n);return s}.call(this),this._clearOptionsList(),this._populateOptionsList(e)},e.prototype.hoverListItem=function(t){return this._resetAndRetrieveHovered(),t.addClass("hover")},e.prototype.handleListItemClick=function(t){return this.hoverListItem($(t.currentTarget)),this.close()},e.prototype.selectOptionWithLabel=function(t){var e,n;return n=function(){var n,i,r,s;for(r=this.$optionsList.children("li"),s=[],n=0,i=r.length;i>n;n++)e=r[n],$(e).text()===t&&s.push(e);return s}.call(this),n.length?(this._resetAndRetrieveHovered(),$(n[0]).addClass("hover")):void 0},e.prototype._addOptions=function(t){var e,n,i,r;r=[];for(e in t)i=t[e],n={value:e,label:i},this.options.push(n),r.push(this.addOptionCallback&&this.addOptionCallback(n));return r},e.prototype._clearOptionsList=function(){return this.$optionsList.children("li").remove()},e.prototype._populateOptionsList=function(t,e){var n,i,r;for(null==e&&(e=null),i=0,r=t.length;r>i;i++)n=t[i],this.$optionsList.append('<li data-value="'+n.value+'">'+n.label+"</li>");return this.$optionsList.children("li").first().addClass("hover"),e&&e()},e.prototype._hoverSelected=function(){},e.prototype._resetAndRetrieveHovered=function(){var t;return t=this.$optionsList.find(".hover"),t.removeClass("hover"),t},e.prototype._scrollUp=function(){var t;return t=this._resetAndRetrieveHovered(),t.length&&t.index()>0?t.prev().addClass("hover"):this.$optionsList.find("li:last-child").addClass("hover")},e.prototype._scrollDown=function(){var t;return t=this._resetAndRetrieveHovered(),t.length&&t.index()<this.$optionsList.find("li").length-1?t.next().addClass("hover"):this.$optionsList.find("li:first-child").addClass("hover")},e.prototype._bindEvents=function(){return this.$optionsList.on("click","li",function(t){return function(e){return t.handleListItemClick(e)}}(this)),this.$optionsList.on("mouseenter","li",function(t){return function(e){var n;return n=$(e.currentTarget),t.hoverListItem(n)}}(this))},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.CustomSelectTrigger=function(){function e(){this._handleKeypress=t(this._handleKeypress,this),this._handleKeyup=t(this._handleKeyup,this),this._handleKeydown=t(this._handleKeydown,this),this.triggerHtml='<div class="trigger-wrapper">\n  <i class="icon-caret-thick" />\n  <input type="text" class="trigger" />\n</div>'}return e.prototype.setElement=function(t){return this.$el=t,this},e.prototype.setPlaceholder=function(t){return t=t||"",this.triggerHtml='<div class="trigger-wrapper">\n  <i class="icon-caret-thick" />\n  <input type="text" class="trigger" placeholder="'+t+'"/>\n</div>',this},e.prototype.render=function(){return this.$el.append(this.triggerHtml),this.$trigger=$(".trigger",this.$el),this._bindEvents(),this},e.prototype.registerFocusCallback=function(t){return this.focusCallback=t,this},e.prototype.registerBlurCallback=function(t){return this.blurCallback=t,this},e.prototype.registerScrollCallback=function(t){return this.scrollCallback=t,this},e.prototype.registerValueChangeCallback=function(t){return this.valueChangeCallback=t,this},e.prototype.updateText=function(t){return this.$trigger.val(t),this},e.prototype._handleKeydown=function(t){var e;switch((38===(e=t.which)||40===e||13===e)&&this.focusCallback&&this.focusCallback(),t.which){case 38:return function(e){return function(){return t.preventDefault(),e.scrollCallback&&e.scrollCallback("UP")}}(this)();case 40:return function(e){return function(){return t.preventDefault(),e.scrollCallback&&e.scrollCallback("DOWN")}}(this)();case 13:return function(e){return function(){return t.preventDefault(),e.blurCallback&&e.blurCallback()}}(this)()}},e.prototype._handleKeyup=function(t){var e;switch(8===(e=t.which)&&this.focusCallback&&this.focusCallback(),t.which){case 8:return function(t){return function(){return t.valueChangeCallback(t.$trigger.val())}}(this)()}},e.prototype._handleKeypress=function(t){return this.valueChangeCallback&&this.valueChangeCallback(this.$trigger.val()+String.fromCharCode(t.which))},e.prototype._bindEvents=function(){return this.focusCallback&&this.$trigger.on("focus",this.focusCallback),this.blurCallback&&this.$trigger.on("blur",this.blurCallback),this.$trigger.on("keypress",this._handleKeypress),this.$trigger.on("keydown",this._handleKeydown),this.$trigger.on("keyup",this._handleKeyup),this},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.DropzoneUploader=function(){function e(e,n,i){this.dropzone=n,null==i&&(i={}),this.submit=t(this.submit,this),this.handleFileAdd=t(this.handleFileAdd,this),this.$element=$(e),this.options=$.extend(this.defaultOptions(),i),this.file=void 0}return e.prototype.defaultOptions=function(){return{url:"",form:this.$element}},e.prototype.handleFileAdd=function(t){return this.validateFileSize(t.size)},e.prototype.validateFileSize=function(t){return t>2147483648?(this.displayError("File size must be less than 2GB"),this.$element.trigger("invalid"),!1):!0},e.prototype.removeFile=function(){return this.file=void 0},e.prototype.changeFile=function(t){return this.dropzone.removeAllFiles(),this.validateFileSize(t.size)?(this.file=t,this.dropzone.addFile(t)):void 0},e.prototype.displayError=function(t){return Nlvx.FlashMessageHandler.add("danger",t)},e.prototype.submit=function(t,e,n,i,r){return this.file?(r.off("success"),r.on("success",function(r){return function(){return $.ajax({url:r.$element.data("upload-url"),data:JSON.stringify({list:{csv:t,id:e,rebuilt_headers:n,delimiter:i}}),dataType:"json",contentType:"application/json",method:"POST",success:function(){return Nlvx.WindowHandler.reload()}})}}(this)),r.off("error"),r.on("error",function(t){return function(e,n){return $(t).trigger("upload:fail"),t.displayError(n)}}(this)),$(this).trigger("upload:start"),r.processQueue()):this.displayError("please select a file")},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.EditPage=function(){function e(e,n,i,r){this.setGroupActiveTemplate=t(this.setGroupActiveTemplate,this),this.renderActiveModal=t(this.renderActiveModal,this),this.renderDeleteModal=t(this.renderDeleteModal,this),this.$target=$(e),this.isActive=r,this.templateVersionEditor=new Nlvx.TemplateVersionEditor(".template_version_editor",n,i)}return e.prototype.bindEvents=function(){return this.$target.find(".modal").on("hidden.bs.modal",function(){return $(this).removeData("bs.modal")}),this.$target.find(".save").unbind("click").click(function(t){return function(){return t.templateVersionEditor.saveContent()}}(this)),$(".template_version_editor").on("valuesSaved",function(t){return function(){return t.$target.submit()}}(this)),this.$target.find('[data-action="delete"]').click(this.renderDeleteModal),this.$target.find('[data-group="make_active"]').click(this.renderActiveModal),this.$target.find("#make_active_modal_confirm").click(this.setGroupActiveTemplate)},e.prototype.renderDeleteModal=function(){return this.$target.find(".delete-modal").modal({show:!0,backdrop:!1})},e.prototype.setupTemplateEditor=function(){return this.templateVersionEditor.loadAceEditor(),this.templateVersionEditor.bindEvents()},e.prototype.renderActiveModal=function(){return 1===this.isActive?Nlvx.FlashMessageHandler.add("danger","This version is already active."):this.$target.find("#make_active_modal").modal({show:!0,backdrop:!1})},e.prototype.setGroupActiveTemplate=function(t){var e,n;return t.preventDefault(),e=$(t.target),n=$.ajax({url:e.attr("data-version-path"),method:"PUT",data:{version:{active:1}}}),n.done(function(t){return function(){return t.isActive=1,t.$target.find(".active-label").removeClass("hidden"),t.$target.find("#make_active_modal").modal("hide"),Nlvx.FlashMessageHandler.add("success","Successfully made this version active.")}}(this))},e}()}.call(this),function(){var t,e,n;null==(n=window.Nlvx).ContentEditor&&(n.ContentEditor={}),e=["a","b","c","d","e","f"],Nlvx.ContentEditor.contentCollection=function(){function n(){}var i,r,s,o;return i=null,s=1,r="a",o={},n.canRewindHTML=function(){var t;return t=this.getActiveContent(),t.canRewindHTML()},n.rewindHTML=function(){var t;return t=this.getActiveContent(),t.rewindHTML()},n.canForwardHTML=function(){var t;return t=this.getActiveContent(),t.canForwardHTML()},n.forwardHTML=function(){var t;return t=this.getActiveContent(),t.forwardHTML()},n.resetHistory=function(){var t;return t=this.getActiveContent(),t.resetHistory()},n.getActiveContent=function(){return o[this.getVersion()]},n.setVersion=function(t){return t?r=t:void 0},n.getVersion=function(){return r},n.setVersionCount=function(t){var n,i;return s=t,n=_.size(o),s>n?(i=e.slice(n,s),this.addContentsFromA(i)):n>s?this.removeContents(e.slice(s)):void 0},n.getVersionCount=function(){return s},n.setContents=function(n){var i;return o={},i=_.map(n,function(n,i){var r;return r={},r[e[i]]=t(n),r}),_.each(i,function(t){return _.extend(o,t)})},n.getContents=function(){return o},n.addContentsFromA=function(e){var n,i,r;return null==e&&(e=[]),n=this.getHTMLforA(),i=this.getPlaintextForA(),r={content:n,plain_content:i},_.each(e,function(e){return o[e]=t(r)})},n.removeContentsExceptA=function(){return this.removeContents(["b","c","d","e","f"])},n.removeContents=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(delete o[e]);return r},n.getContentsForSaving=function(){return _.mapObject(o,function(t){return{content:t.getUnescapedHTML(),plain_content:t.getPlaintext()}})},n.hasMultiple=function(){return _.size(o)>1},n.getVersions=function(){return _.keys(o)},n.getHTMLforA=function(){return o.a.getHTML()},n.getHTML=function(){var t;return t=o[r],t?t.getHTML():this.getHTMLforA()},n.setHTML=function(t){return o[r]?o[r].setHTML(t):void 0},n.getPlaintext=function(){return o[r].getPlaintext()},n.getPlaintextForA=function(){return o.a.getPlaintext()},n.setPlaintext=function(t){return o[r]?o[r].setPlaintext(t):void 0},n.contentMatches=function(){return o[r].contentMatches()},n.copyHTMLToPlain=function(){return _.each(o,function(t){return t.copyHTMLToPlain()})},n.getUnescapedHTML=function(){return o[r].getUnescapedHTML()},n.contentsThatDontMatch=function(){var t;return t=_.pick(o,function(t){return!t.contentMatches()}),_.keys(t)},n.hasContentsThatDontMatch=function(){return this.contentsThatDontMatch().length>0},n.isDNDTemplate=function(){var t,e,n;return e=$("<iframe/>").appendTo("body"),e.get(0).contentDocument.write(this.getHTML()),t=$(e).contents().find("html"),n="true"===t.attr("data-dnd"),e.remove(),n},n}(),t=function(t){return new Nlvx.ContentEditor.content(t)},Nlvx.ContentEditor.content=function(){function t(t){this.activeHTML=0,this.history={plain:"",html:[]},this.setHTML(t.content),this.setPlaintext(t.plain_content)}return t.prototype.setHTML=function(t){var e;return e=Nlvx.Sanitizers.removeJavascript(t),this.getHTML()!==e?(this.activeHTML!==this.history.html.length-1&&(this.history.html=this.history.html.slice(0,this.activeHTML+1)),this.history.html.push(e),this.history.html.length>100&&(this.history.html=_.last(this.history.html,100)),this.activeHTML=this.history.html.length-1):void 0},t.prototype.setPlaintext=function(t){var e,n;return n=Nlvx.Sanitizers.removeJavascript(t),e=Nlvx.Sanitizers.removeCarriages(n),this.history.plain=e},t.prototype.canRewindHTML=function(){var t;return t=this.activeHTML-1,t>=0},t.prototype.rewindHTML=function(){var t;return t=this.activeHTML-1,this.activeHTML=t>0?t:0},t.prototype.canForwardHTML=function(){var t;return t=this.activeHTML+1,t<this.history.html.length},t.prototype.forwardHTML=function(){var t;return t=this.activeHTML+1,this.activeHTML=t<this.history.html.length?t:this.history.html.length-1},t.prototype.resetHistory=function(){return this.history.html=this.history.html.length?[this.history.html.pop()]:[],this.activeHTML=this.history.html.length-1},t.prototype.getHTML=function(){return this.history.html[this.activeHTML]},t.prototype.getUnescapedHTML=function(){return this.getHTML().replace("&lt;%body%&gt;","<%body%>")},t.prototype.getHTMLToPlain=function(){return Nlvx.Converters.html_to_plain_text(this.getHTML())},t.prototype.getPlaintext=function(){return this.history.plain},t.prototype.getContent=function(){return{html:this.getHTML(),plain:this.getPlaintext()}},t.prototype.contentMatches=function(){return this.getPlaintext()===this.getHTMLToPlain()},t.prototype.copyHTMLToPlain=function(){var t;return t=this.getHTMLToPlain(),this.setPlaintext(t)},t}()}.call(this),function(){Nlvx.ElementLocator=function(){function t(t,e,n){this.$target=t,this.height=e,this.$window=n||$(window)}return t.prototype.offBottomOfPage=function(){var t,e;return e=this.$target.offset().top-this.$window.scrollTop(),t=e+this.height,t>this.$window.height()},t}()}.call(this),function(){Nlvx.EmailValidator=function(){function t(){}return t.are_valid=function(t){return t.length>0&&_.every(t,function(t){return function(e){return t.is_valid(e)}}(this))},t.is_valid=function(t){return!!t.match(/.+@.+/)},t.has_subject=function(t){return void 0!==t&&t.length>0},t.has_body=function(t){return void 0!==t&&t.length>0},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};!function(e){return Nlvx.ErrorNotice=function(){function n(n,i){this.check=t(this.check,this),this.validate=t(this.validate,this),this.$el=e(n),this.options=e.extend(!0,{message:""},i),this.$noticeBox=e("<div/>",{"class":"validation-error-text",html:this.options.message}).hide().appendTo(this.options.noticeEl),this.$label=this.options.label}return n.prototype.bindEvents=function(){return this.$el.on(this.options.events,this.validate)},n.prototype.unbindEvents=function(){return this.$el.off(this.options.events,this.validate)},n.prototype.validate=function(){var t,e,n;return t=this.options.validator.call(this.$el),t?(this.options.noticeEl.removeClass("validation-error"),this.$noticeBox.hide(),null!=(n=this.$label)?n.removeClass("invalid-label"):void 0):(this.$noticeBox.show(),this.options.noticeEl.addClass("validation-error"),null!=(e=this.$label)?e.addClass("invalid-label"):void 0)},n.prototype.check=function(){return this.validate()},n.prototype.update=function(t){return t.events&&this.unbindEvents(),this.options=e.extend(!0,this.options,t),t.events?this.bindEvents():void 0},n.prototype.destroy=function(){return this.unbindEvents(),e.removeData(this.$el.get(0),"errorNotice"),this.$noticeBox.remove()},e.fn.errorNotice=function(t){var n,i;return n=e.makeArray(arguments),i=n.slice(1),this.each(function(){var r;return r=e.data(this,"errorNotice"),r?"string"==typeof t?r[t].apply(r,i):r.update.apply(r,n):(r=new Nlvx.ErrorNotice(this,t),e.data(this,"errorNotice",r),r.bindEvents())})},n}()}(jQuery)}.call(this),function(){Nlvx.FlashMessageHandler=function(){function t(){}var e;return t.add=function(t,n){var i;return i=$(e(t,n)),$(".flash_notice").append(i),setTimeout(function(){return i.fadeOut()},1e4)},t.clear=function(){return $(".flash_notice").empty()},e=function(t,e){return'<span class="fader alert alert-'+t+' alert-dismissable"><button class="close" aria-hidden="true" data-dismiss="alert" type="button"><i class="icon-close-circle"></i></button>'+e+"</span>"},t}()}.call(this),function(){Nlvx.FormHelper=function(){function t(){}return t.clearFormData=function(t){return $.each(t.find("input"),function(t,e){return $(e).val("")}),$.each(t.find("select"),function(t,e){var n,i;return n=$(e),i=n.find("option:first").val(),n.val(i),n.change()})},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};!function(e){return Nlvx.FormValidator=function(){function n(n,i){this.validate=t(this.validate,this),this.delayedValidation=t(this.delayedValidation,this),this.$form=e(n),this.options=e.extend(!0,{ignoreWhen:null},i),this.$submitButton=this.$form.find('[data-validate-with="submit"]'),this.$requiredFields=this.$form.find('[data-validate-with="required"]'),this.$customValidationFields=this.$form.find("[data-validate-custom]"),this.$itemsToCheckOnClick=this.$form.find('[data-validate-on="click"]')}return n.prototype.bindEvents=function(){return this.$form.on("change keyup",'[data-validate-with="required"], [data-validate-custom]',this.validate),this.$itemsToCheckOnClick.on("click",this.delayedValidation)},n.prototype.unbindEvents=function(){return this.$form.off("change keyup",'[data-validate-with="required"], [data-validate-custom]',this.validate),this.$itemsToCheckOnClick.off("click",this.delayedValidation)},n.prototype.delayedValidation=function(){return setTimeout(function(t){return function(){return t.validate()}}(this),0)},n.prototype.validate=function(){var t;return t=!1,e.each(this.$requiredFields,function(n){return function(i,r){var s,o,a;return s=e(r),a=s.data(),o=a.skipValidation,n.options.ignoreWhen&&n.options.ignoreWhen[o]&&n.options.ignoreWhen[o].call()===!0?!0:e.trim(s.val())?void 0:(t=!0,!1)}}(this)),e.each(this.$customValidationFields,function(n){return function(i,r){var s,o,a;return s=e(r),o=s.data(),a=o.validateCustom,n.options.custom[a].call(n,s)?!0:(t=!0,!1)}}(this)),this.$submitButton.prop({disabled:t})},n.prototype.update=function(t){return this.options=e.extend(!0,this.options,t)},n.prototype.check=function(){return this.validate()},n.prototype.destroy=function(){return this.unbindEvents(),this.$submitButton.prop({disabled:!1}),e.removeData(this.$form.get(0),"validateForm")},n}(),e.fn.validateForm=function(t){var n,i;return n=e.makeArray(arguments),i=n.slice(1),this.each(function(){var r;return r=e.data(this,"validateForm"),r?"string"==typeof t?r[t].apply(r,i):r.update.apply(r,n):(r=new Nlvx.FormValidator(this,t),e.data(this,"validateForm",r),r.bindEvents(),r.validate())})}}(jQuery)}.call(this),Handlebars.registerHelper("trimString",function(t,e,n){if(t.length<n)return new Handlebars.SafeString(t);var i=t.substring(e,n);return i+="...",new Handlebars.SafeString(i)}),function(){Nlvx.ContentEditor.History=function(){function t(){}var e,n,i,r,s,o,a,l,c;return n=null,e=!1,a=[],r=[],t.init=function(){return c(),i()
},t.onRewind=function(t){return a.push(t)},t.offRewind=function(t){return a=_.reject(a,function(e){return e===t})},t.onForward=function(t){return r.push(t)},t.offForward=function(t){return r=_.reject(r,function(e){return e===t})},t.teardown=function(){return $(document).off("focus blur visibilitychange -moz-visibilitychange -ms-visibilitychange -o-visibilitychange -webkit-visibilitychange",l),$(window).off("focus blur",l),$(document).off("keydown",s),$(document).off("keyup",o),a=[],r=[],l()},l=function(){return e=!1},c=function(){return $(document).on({focus:l,blur:l,visibilitychange:l,"-moz-visibilitychange":l,"-ms-visibilitychange":l,"-o-visibilitychange":l,"-webkit-visibilitychange":l}),$(window).on({focus:l,blur:l})},s=function(t){return(91===t.which||93===t.which||224===t.which||17===t.which)&&(e=!0),!t.ctrlKey&&!e||t.shiftKey||90!==t.which?(t.ctrlKey||e)&&t.shiftKey&&90===t.which?(_.each(r,function(t){return t()}),!1):!0:(_.each(a,function(t){return t()}),!1)},o=function(t){return(91===t.which||93===t.which||224===t.which||17===t.which)&&(e=!1),!0},i=function(){return $(document).on({keydown:s,keyup:o})},t}()}.call(this),function(){var t;t='<div class="image-manager" id="<%= id %>">\n  <div class="image-manager__header">\n    <ul class="image-manager__tabs">\n      <li class="image-manager__tab js-image-manager__tab" data-tab="library">Image Library</li>\n      <li class="image-manager__tab js-image-manager__tab" data-tab="url">Image URL</li>\n    </ul>\n    <div class="image-manager__header-buttons">\n      <button class="image-manager__header-buttons--upload js-image-manager__upload-button btn btn-small btn-primary" value="upload">Upload</button>\n    </div>\n  </div>\n  <div class="image-manager__content-wrapper"></div>\n</div>',Nlvx.ImageManager=function(){function e(e,n){var i;this.$container=e,null==n&&(n=""),i=_.template(t),this.$html=$(i({id:n})),this.$container.append(this.$html),this.$contentContainer=this.$container.find(".image-manager__content-wrapper"),this.library=new Nlvx.ImageLibrary(this.$contentContainer),this.externalImage=new Nlvx.ExternalImage(this.$contentContainer),this.onKeyUpGlobalScoped=_.bind(this.onKeyUpGlobal,this),this.$modal=$("<div class='image-manager__modal'/>"),$("body").append(this.$modal),this.bindGlobalEvents(),$(".js-image-manager__upload-button").focus(),this.setModalPosition(),this.$container.find(".js-image-manager__tab:eq(0)").trigger("click")}return e.prototype.setModalPosition=function(){var t,e,n;return e=$(window).height(),t=this.$html.outerHeight(),n=e>t?(e-t)/2:0,this.$html.css("top",""+n+"px")},e.prototype.bindGlobalEvents=function(){return $(this.library).on({cancel:_.bind(this.onCancel,this),insert:_.bind(this.onInsert,this),select:_.bind(this.onSelect,this),imagesloaded:_.bind(this.onImagesLoaded,this)}),$(this.externalImage).on({cancel:_.bind(this.onCancel,this),insert:_.bind(this.onInsert,this)}),this.$container.find(".js-image-manager__tab").on("click",_.bind(this.onTabClick,this)),this.$container.find(".js-image-manager__upload-button").on("click",_.bind(this.library.onUploadClick,this.library)),this.$contentContainer.on("click",function(t){return t.stopPropagation()}),this.$modal.on("click",_.bind(this.onCancel,this)),$(document).on("keyup",this.onKeyUpGlobalScoped)},e.prototype.onCancel=function(t){return null!=t&&t.preventDefault(),this.teardown(),$(this).trigger("cancel")},e.prototype.onImagesLoaded=function(){return this.$html.find(".js-image-manager__upload-button").show()},e.prototype.onInsert=function(t,e){return this.teardown(),$(this).trigger("insert",e)},e.prototype.onKeyUpGlobal=function(t){return 27===t.which?this.onCancel():void 0},e.prototype.onSelect=function(t,e){return this.$container.find(".js-image-manager__tab").trigger("click"),this.externalImage.setURL(e.url)},e.prototype.onTabClick=function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget),n=e.data("tab"),this.$container.find(".js-image-manager__tab.open").removeClass("open"),e.addClass("open"),"library"===n?(this.library.activate(),this.externalImage.deactivate()):"url"===n?(this.library.deactivate(),this.externalImage.activate()):void 0},e.prototype.setImage=function(t){return this.externalImage.setImage(t),this.$container.find(".js-image-manager__tab").trigger("click")},e.prototype.teardown=function(){return this.$html.remove(),this.$modal.remove(),$(document).off("keyup",this.onKeyUpGlobalScoped)},e}()}.call(this),function(){var t,e,n;n=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,e=function(){var t,e;for(e="js-image-manager__0",t=-1;$("."+e).length>0;)t++,e="js-image-manager__"+t;return e},t=function(){function t(){}var e,n;return n=null,e={url:"",responsive:!1,alt:""},t.data={},t.setImage=function(t){return null!=t.width&&(t.width=parseInt(t.width)),null!=t.height&&(t.height=parseInt(t.height)),_.extend(this.data={},e,t),this.dfd=new $.Deferred,this.image=new Image,this.image.onload=function(t){return function(){var e,n;return t.data.originalWidth=t.image.width,t.data.originalHeight=t.image.height,null==(e=t.data).width&&(e.width=t.image.width),null==(n=t.data).height&&(n.height=t.image.height),t.image.width=t.data.width,t.image.height=t.data.height,t.dfd.resolve({image:t.image})}}(this),this.image.onerror=function(t){return function(){return t.dfd.reject()}}(this),this.image.src=this.data.url},t.getImage=function(){return this.dfd.promise()},t}(),Nlvx.ExternalImage=function(){function i(t,i){var r,s,o;this.$container=t,this.maxWidth=i,s=$("#image-manager-content-url").html(),o=Handlebars.compile(s),r=o(),this.$container.append(r),this.uniqueID=e(),this.$content=this.$container.find(".js-image-manager__content--url").addClass(this.uniqueID),this.$insertButton=this.$content.find(".image-manager__buttons-footer__insert"),this.$lockTrigger=this.$content.find(".js-image-manager__dimensions-lock"),this.$resetTrigger=this.$content.find(".js-image-manager__dimensions-reset"),this.$height=$(".js-image-manager__image-url-properties[name='height']"),this.$width=$(".js-image-manager__image-url-properties[name='width']"),this.responsiveSwitch=new Nlvx.OnOffSwitch($("#responsive-toggle")),this.bindGlobalEvents(),jQuery.validator.addMethod("sendgridUrl",function(t,e){return this.optional(e)||n.test(t)||/127\.0\.0\.1/i.test(t)||/localhost/i.test(t)},"Please enter a valid URL"),this.validator=this.$content.find("form").validate({ignore:"[class*='select2']",onsubmit:!1,onfocusout:!1,showErrors:function(t,e){return Nlvx.FlashMessageHandler.clear(),null!=e[0]&&Nlvx.FlashMessageHandler.add("danger",e[0].message),this.defaultShowErrors()},rules:{url:{required:!0,sendgridUrl:!0},link:{required:!1,sendgridUrl:!0},height:{required:!0,digits:!0},width:{required:!0,digits:!0}},messages:{url:{required:"The URL field is required."},height:{required:"The height field is required.",digits:"The height field can only be digits."},width:{required:"The width field is required.",digits:"The width field can only be digits."}}}),this.validator.settings.ignore=".foo"}return i.prototype.bindGlobalEvents=function(){var t;return t=null,this.$content.find(".image-manager__image-url-properties--url").on("keyup",function(e){return function(n){return window.clearTimeout(t),t=window.setTimeout(function(){return e.onUrlChange(n)},500)}}(this)),this.$content.find(".image-manager__image-url-properties--url").on("blur",_.bind(this.onUrlChange,this)),this.$content.find(".image-manager__image-url-properties--link").on("blur",_.bind(this.onLinkUrlChange,this)),$(this.responsiveSwitch).on({on:function(t){return function(){return t.onResponsiveChange(!0)}}(this),off:function(t){return function(){return t.onResponsiveChange(!1)}}(this)}),this.$content.find(".image-manager__buttons-footer__insert").on("click",_.bind(this.onInsert,this)),this.$content.find(".image-manager__buttons-footer__cancel").on("click",_.bind(this.onCancel,this)),this.$content.find("form.image-manager__external-url-form").on("submit",_.bind(this.onSubmit,this))},i.prototype.onSubmit=function(t){return t.preventDefault(),this.onInsert()},i.prototype.activate=function(){var t;return this.$content.show(),t=$("select.image-manager__image-url-properties--alignment"),t.data("select2")?void 0:t.select2()},i.prototype.deactivate=function(){return this.$content.hide()},i.prototype.onCancel=function(t){return null!=(null!=t?t.stopPropagation:void 0)&&t.stopPropagation(),t.preventDefault(),$(this).trigger("cancel")},i.prototype.onResponsiveChange=function(e){return t.data.responsive=e,this.setResponsive()},i.prototype.onLinkUrlChange=function(){var t,e;return t=$(".image-manager__image-url-properties--link"),e=t.val(),this.linkUrl!==e?(this.linkUrl=e,Nlvx.FlashMessageHandler.clear(),this.isValidUrl(e)||""===e?(this.$insertButton.removeAttr("disabled"),t.removeClass("error")):(this.$insertButton.attr("disabled","disabled"),t.addClass("error"),Nlvx.FlashMessageHandler.add("danger","Please enter a valid link URL"))):void 0},i.prototype.onUrlChange=function(){var t,e;return t=$(".image-manager__image-url-properties--url"),e=t.val(),this.url!==e&&(this.$insertButton.attr("disabled","disabled"),this.resetImage(),this.isValidUrl(e))?(this.url=e,this.download(this.url)):void 0},i.prototype.isValidUrl=function(t){return n.test(t)||/127\.0\.0\.1/i.test(t)||/localhost/i.test(t)},i.prototype.resetImage=function(){return this.image=null,this.url=null,$(".js-image-manager__image-url--image").empty(),$(".js-image-manager__content--url input[type='text']").not("[name='url'],[name='link']").val("")},i.prototype.onInsert=function(t){var e;return null!=(null!=t?t.stopPropagation:void 0)&&t.stopPropagation(),this.validator.form()?(e={},$(".js-image-manager__content--url form [name]").each(function(){return e[$(this).attr("name")]=$(this).val()}),e.responsive=this.responsiveSwitch.state===!0,this.validator.reset(),this.validator.resetForm(),this.validator.clean(),Nlvx.FlashMessageHandler.clear(),$(this).trigger("insert",e)):void 0},i.prototype.download=function(e){return t.setImage({url:e}),$.when(t.getImage()).done(function(t){return function(){return t.onDownload()}}(this)).fail(function(){return Nlvx.FlashMessageHandler.clear(),Nlvx.FlashMessageHandler.add("danger","Please enter a valid image URL")}),$(".js-image-manager__image-url-properties[name='alignment']").val("").trigger("change"),$(".js-image-manager__image-url-properties[name='border']").val(""),$(".js-image-manager__image-url-properties[name='alt_text']").val(""),$(".js-image-manager__image-url-properties[name='link']").val(""),this.responsiveSwitch.off(),$(".js-image-manager__image-url-properties[name='height']").removeAttr("disabled"),$(".image-manager__image-url-properties--responsive").parent(".image-manager__form-element-group--item").removeClass("disabled")},i.prototype.onDownload=function(){return Nlvx.FlashMessageHandler.clear(),this.$insertButton.removeAttr("disabled"),this.setDimensions(),this.setResponsive()},i.prototype.setURL=function(t){return $(".js-image-manager__image-url-properties[name='url']").val(t).trigger("blur"),this.validator.resetForm()},i.prototype.setDimensions=function(){var e,n,i;return i=1,n=t.data.width,e=t.data.height,this.$width.val(n),this.$height.val(e),this.dimensions=new Nlvx.ImageDimensionsControls(this.$height,this.$width,t,this.$lockTrigger,this.$resetTrigger,this.maxWidth),$(".js-image-manager__image-url--image").html('<span class="image-manager__center-image-helper"></span>\n<img src=\''+t.data.url+"'>")},i.prototype.setResponsive=function(){var e,n;return e=this.$content.find(".js-image-manager__image-url-properties[name='height']"),n=this.$content.find(".image-manager__image-url-properties--height").parent(".image-manager__form-element-group--item"),t.data.responsive?(e.attr("disabled","disabled"),n.addClass("disabled")):(e.removeAttr("disabled"),n.removeClass("disabled"))},i.prototype.setImage=function(e){var n;return t.setImage(e),n=_.pick(e,["width","height","alt_text","url","link"]),this.$insertButton.removeAttr("disabled"),_.each(n,function(t){return function(e,n){return t.$content.find("input.js-image-manager__image-url-properties[name='"+n+"']").val(e)}}(this)),e.alignment&&this.$content.find("select.js-image-manager__image-url-properties[name='alignment']").val(e.alignment).trigger("change"),e.responsive?this.responsiveSwitch.on():this.responsiveSwitch.off(),$.when(t.getImage()).then(function(t){return function(){return t.setDimensions(),t.setResponsive()}}(this)),this.validator.resetForm()},i}()}.call(this),function(){this.Nlvx.ImageDimensionsControls=function(){function t(t,e,n,i,r){this.$height=t,this.$width=e,this.UserImage=n,this.$lockTrigger=i,this.$resetTrigger=r,this.imageData=this.UserImage.data,this.image=this.UserImage.image,this.height=this.imageData.height,this.width=this.imageData.width,this.ratio=this.width/this.height,this.startHeight=this.imageData.originalHeight,this.startWidth=this.imageData.originalWidth,this.locked=!0,this.$height.val(this.height),this.$width.val(this.width),this.$height.on("keyup",_.bind(this.onHeightChange,this)),this.$width.on("keyup",_.bind(this.onWidthChange,this)),this.$lockTrigger.on("click",_.bind(this.onLockTriggerClick,this)),this.$resetTrigger.on("click",_.bind(this.onResetTriggerClick,this)),this.dimensionsChanged()&&this.$resetTrigger.removeClass("disabled")}return t.prototype.dimensionsChanged=function(){return this.height!==this.startHeight||this.width!==this.startWidth},t.prototype.hasStartingDimensions=function(){return parseInt(this.$height.val())===this.startHeight&&parseInt(this.$width.val())===this.startWidth},t.prototype.onHeightChange=function(t){var e,n;return 9!==t.which&&this.locked&&(e=parseInt($(t.currentTarget).val()),_.isNaN(e)||(n=Math.round(e*this.ratio),this.height=e,this.width=n,this.$width.val(this.width))),this.dimensionsChanged()&&this.$resetTrigger.removeClass("disabled"),this.hasStartingDimensions()?this.$resetTrigger.addClass("disabled"):void 0},t.prototype.onWidthChange=function(){var t,e;return this.$resetTrigger.removeClass("disabled"),e=parseInt(this.$width.val()),this.locked&&(_.isNaN(e)||(t=Math.round(e/this.ratio),this.height=t,this.width=e,this.$height.val(this.height))),this.dimensionsChanged()&&this.$resetTrigger.removeClass("disabled"),this.hasStartingDimensions()?this.$resetTrigger.addClass("disabled"):void 0},t.prototype.onLockTriggerClick=function(t){return t.preventDefault(),this.locked?(this.locked=!1,this.$lockTrigger.addClass("unlocked")):(this.locked=!0,this.$lockTrigger.removeClass("unlocked"),this.reset())},t.prototype.onResetTriggerClick=function(t){return t.preventDefault(),$(t.currentTarget).hasClass("disabled")?void 0:this.reset()},t.prototype.reset=function(){return this.$height.val(this.startHeight),this.$width.val(this.startWidth),this.$resetTrigger.addClass("disabled")},t}()}.call(this),function(){Nlvx.ImageLibrary=function(){function t(t){var e,n,i;this.$container=t,n=$("#image-manager-content-library-loading").html(),i=Handlebars.compile(n),e=i(),this.$container.html(e),this.$content=this.$container.find(".js-image-manager__content--library"),$.when(Nlvx.ImageLibraryStore.populate()).done(function(t){return function(e){return null==e&&(e=[]),t.setupAfterGetImages(e)}}(this)).fail(function(t){return function(){return t.setupAfterGetImages([])}}(this))}return t.prototype.activate=function(){return this.$content.show()},t.prototype.deactivate=function(){return this.$content.hide()},t.prototype.bindGlobalEvents=function(){return this.$content.on("click",".js-image-manager__thumb--delete",_.bind(this.onThumbDeleteClick,this)),this.$content.on("click",".image-manager__thumb",_.bind(this.onThumbClick,this)),this.$content.find(".image-manager__buttons-footer__cancel").on("click",_.bind(this.onCancel,this)),this.$content.find(".image-manager__buttons-footer__insert").on("click",_.bind(this.onInsertClick,this))},t.prototype.currentImage=function(){return this.currentImageId?this.getImageById(this.currentImageId):void 0},t.prototype.getImageById=function(t){return Nlvx.ImageLibraryStore.find(t||this.currentImageId)},t.prototype.setupAfterGetImages=function(t){var e,n,i;return jQuery.contains(document,this.$container[0])?(t=Nlvx.ImageLibraryStore.get(),n=$("#image-manager-content-library").html(),i=Handlebars.compile(n),e=i({images:t}),this.$content.replaceWith(e),this.$content=this.$container.find(".js-image-manager__content--library"),this.$insertButton=this.$container.find(".image-manager__buttons-footer__insert"),this.$properties=this.$container.find(".image-manager__home__image-properties"),this.bindGlobalEvents(),this.setupUploadBox(),$(".js-image-manager__tab[data-tab='library']").hasClass("open")&&this.activate(),window.setTimeout(function(t){return function(){return $(t).trigger("imagesloaded")}}(this),100)):void 0},t.prototype.setupUploadBox=function(){var t,e;return e=this,t=$("meta[name='csrf-token']").attr("content"),this.dropzone=new Dropzone(".image-manager__drop-area",{url:"/marketing_campaigns/images.json",paramName:"upload",maxFilesize:10,parallelUploads:4,headers:{"X-CSRF-Token":t},clickable:!0,dictFileTooBig:"Your image cannot exceed 10MB.",acceptedFiles:"image/*,.png,.jpg,.jpeg,.gif",previewsContainer:".image-manager__loading-thumbs-container",previewTemplate:'<div class="dz-preview dz-file-preview">\n  <svg class="svgi svgi-image-ph"><use xlink:href="/assets/palette/svg-icons.svg#svgi-image-ph"></use></svg>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n</div>',init:function(){return this.on("addedfile",function(){return $(e).trigger("dropzone:addedfile",arguments)})},success:_.bind(this.onUploadSuccess,this),error:_.bind(this.onUploadError,this),sending:function(t){var n;return n=Nlvx.ImageLibraryStore.get(),n.length>400?window.setTimeout(function(e){return function(){return e.cancelUpload(t),Nlvx.FlashMessageHandler.add("danger","You have reached your limit of 400 images. Please delete one or more and try again.")}}(this),100):$(e).trigger("dropzone:sending",arguments)},complete:function(t){var e;return e=$(t.previewElement).remove()},canceled:$.noop})},t.prototype.onCancel=function(t){return t.preventDefault(),$(this).trigger("cancel")},t.prototype.onInsertClick=function(t){var e,n;return t.preventDefault(),e=Nlvx.ImageLibraryStore.find(this.currentImageId),$(".js-image-manager__preview-property").each(function(){var t;return t=$(this).data("property"),e[t]=$(this).val()}),n=e.to_json(),$(this).trigger("insert",n)},t.prototype.onThumbClick=function(t){var e,n;return e=$(t.currentTarget),this.currentImageId=e.data("imageid"),n=this.getImageById(this.currentImageId),$(this).trigger("select",n)},t.prototype.onThumbDeleteClick=function(t){var e,n,i,r;return t.stopPropagation(),t.preventDefault(),e=$(t.currentTarget).closest(".image-manager__thumb").data("imageid"),n=Nlvx.ImageLibraryStore.find(e),i=$("#image-manager-content-library-delete-confirmation").html(),r=Handlebars.compile(i),this.$deleteModal=$(r(n)),this.$content.append(this.$deleteModal),this.$deleteModal.show(),this.$deleteModal.find(".btn-primary").on("click",_.bind(this.deleteImage,this)),this.$deleteModal.find(".btn-secondary").on("click",function(t){return function(){return t.$deleteModal.remove()}}(this))},t.prototype.deleteImage=function(t){var e,n;return this.$deleteModal.remove(),n=$(t.currentTarget).closest(".image-manager__delete-confirmation-modal").data("imageid"),e=this.$content.find(".image-manager__thumb[data-imageid='"+n+"']"),e.remove(),Nlvx.ImageLibraryStore.remove(n),$.ajax({method:"POST",url:"/marketing_campaigns/images/"+n+".json",data:{_method:"delete"}})},t.prototype.onUploadClick=function(){return this.$content.toggleClass("upload-opened")},t.prototype.onUploadSuccess=function(t,e){var n,i,r,s,o;return(null!=e&&null!=(o=e.errors)?o.length:void 0)?($(t.previewElement).remove(),this.showErrorMessages(e.errors)):(window.analytics.track("image_uploaded",{file_size:t.size}),this.$content.find("[data-imageid='"+e.id+"']").remove(),i=Nlvx.ImageLibraryStore.add(e),r=$("#image-manager-content-library-thumbnail").html(),s=Handlebars.compile(r),n=s(i),this.$content.find(".image-manager__loading-thumbs-container").after(n))},t.prototype.onUploadError=function(t,e){var n,i;return $(t.previewElement).remove(),n="string"==typeof e?[e]:(null!=e&&null!=(i=e.errors)?i.length:void 0)?e.errors:[],this.showErrorMessages(n)},t.prototype.showErrorMessages=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(null==e||/\<html\>/i.test(e)?void 0:Nlvx.FlashMessageHandler.add("danger",e));return r},t}()}.call(this),function(){Nlvx.ImageLibraryStore=function(){function t(){}var e,n,i,r;return n=null,i=null,r=null,e=[],t.populate=function(){return i||(i=$.Deferred(function(t){return $.when(Nlvx.ImagesFetcher.get()).then(function(t){var n,i,s;if(!r){for(i=0,s=t.length;s>i;i++)n=t[i],Nlvx.ImageLibraryStore.add(n);r=!0}return e},function(){return t.resolve(e)}).then(t.resolve,t.reject)}).promise()),i},t.get=function(){return e},t.find=function(t){return _.find(e,function(e){return e.id===t})},t.add=function(t){var n,i;return n=t.id,Nlvx.ImageLibraryStore.remove(n),i=new Nlvx.LibraryImage(t),e.push(i),i},t.remove=function(t){return e=_.reject(e,function(e){return e.id===t})},t.reset=function(){return e=[],i=null,r=null},t}()}.call(this),function(){Nlvx.ImagesFetcher=function(){function t(){}var e,n;return e=null,n=null,t.reset=function(){return n=null},t.get=function(){return n||(n=$.Deferred(function(t){return $.get("/marketing_campaigns/images.json").then(t.resolve,t.reject)}).promise()),n},t}()}.call(this),function(){Nlvx.LibraryImage=function(){function t(t){this.json=t,this.id=this.json.id,this.name=this.json.name,this.url=this.json.url,this.thumb=this.json.thumb,this.height=this.json.height,this.width=this.json.width,this.alt_text=null,this.border=null,this.alignment=null,this.filesize=this.prettyFileSize(this.json.size_bytes),this.created_at=this.prettyCreatedAt(this.json.created_at),this.image=new Image,this.image.onload=function(t){return function(){return t.height=t.image.height,t.width=t.image.width}}(this),this.image.src=this.url}return t.prototype.prettyFileSize=function(t){return t>1e5?parseFloat((t/1e5).toFixed(2))+"mb":parseFloat((t/1e3).toFixed(2))+"kb"},t.prototype.prettyCreatedAt=function(t){var e;return e=new Date(t),e.toLocaleDateString()},t.prototype.to_json=function(){return _.pick(this,"url","thumb","height","width","id","alt_text","border","alignment")},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.InfiniteScrollListing=function(){function e(e,n){this.handleAjaxCompletion=t(this.handleAjaxCompletion,this),this.handleFailure=t(this.handleFailure,this),this.handleAppear=t(this.handleAppear,this),this.$element=$(e),this.options=$.extend(this.defaultOptions(),n),this.tokenOffset=this.options.tokenOffset,this.rowTemplate=Handlebars.compile(this.options.$template)}return e.prototype.defaultOptions=function(){return{tokenOffset:"",loadingIndicatorSelector:"#profile_loader",$loadingIndicator:this.$element.find("#profile_loader"),$template:$("#profile_row").html(),$appendableContainer:this.$element.find("table tbody")}},e.prototype.init=function(){return this.options.$loadingIndicator.appear(),this.bindEvents(),this.activateLoadingIndicator()},e.prototype.bindEvents=function(){return this.$element.on("appear",this.options.loadingIndicatorSelector,this.handleAppear)},e.prototype.handleAppear=function(){return null===this.tokenOffset?this.completeScrolling():this.requestNextPage()},e.prototype.handleFailure=function(){return Nlvx.FlashMessageHandler.add("danger","There was an error. Please reload the page.")},e.prototype.handleAjaxCompletion=function(t){var e,n,i,r,s;for(this.tokenOffset=t.offset,e=$("<div></div>"),s=t.items,i=0,r=s.length;r>i;i++)n=s[i],e.append(this.rowTemplate(n));return this.options.$appendableContainer.append(e.html()),null===this.tokenOffset?this.completeScrolling():void 0},e.prototype.completeScrolling=function(){return this.options.$loadingIndicator.remove()},e.prototype.activateLoadingIndicator=function(){return this.options.$loadingIndicator.text("Loading...")},e.prototype.requestNextPage=function(){return $.ajax({url:this.options.$loadingIndicator.data("url"),data:{offset:this.tokenOffset}}).done(this.handleAjaxCompletion).fail(this.handleFailure)},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.NotificationForm=function(){function e(e){this.confirmation=t(this.confirmation,this),this.$target=$(e)}return e.prototype.bindEvents=function(){return this.$target.on("ajax:success",this.confirmation)},e.prototype.clearForm=function(){return $("#user_profile_notification_email").val("")},e.prototype.confirmation=function(){var t,e;return t=$("#user_profile_notification_email").val(),e=/^[\w-]+(?:\.[\w-]+)*@(?:[\w-]+\.)+[a-zA-Z]{2,7}$/,t.match(e)?Nlvx.FlashMessageHandler.add("success","You have successfully changed your email for notifications."):(Nlvx.FlashMessageHandler.add("danger","Please enter a valid email address."),this.clearForm())},e}()}.call(this),function(){Nlvx.OnOffSwitch=function(){function t(t,e,n){var i,r,s;this.$input=t,this.$modal=null!=e?e:null,this.state=n,this.state=this.$input.is(":checked"),(null!=(s=this.$modal)?s.length:void 0)&&(this.$modal.on("click",".confirm",function(t){return function(){return t.toggle()}}(this)),r=this.$input.attr("id"),r&&(i=$("label[for='"+r+"']"),i.on("click",function(t){return function(e){return e.preventDefault(),t.state?t.toggle():t.$modal.modal({show:!0,backdrop:!1})}}(this)))),this.$input.on("change",function(t){return function(){return t.state=t.$input.is(":checked"),t.state?(t.on(),$(t).trigger("on")):(t.off(),$(t).trigger("off"))}}(this))}return t.prototype.toggle=function(){return this.state?(this.off(),$(this).trigger("off")):(this.on(),$(this).trigger("on"))},t.prototype.on=function(){return this.state=!0,this.$input.get(0).checked=!0},t.prototype.off=function(){return this.state=!1,this.$input.get(0).checked=!1},t.prototype.set=function(t){return this.state=t,this.state?this.on():this.off()},t}()}.call(this),function(){Nlvx.Preview=function(){function t(t){e=$(t)}var e,n,i,r;return e=null,n=null,t.prototype.render=function(t,n){var s;return e.find("iframe").attr("src",t),e.find('[data-action="mobile-view"]').click(r),e.find('[data-action="desktop-view"]').click(i),s=e.find("a#preview_edit"),n?(s.removeClass("hidden"),s.attr("href",n)):(s.addClass("hidden"),s.removeAttr("href")),e.find("iframe").load(function(){return e.find("iframe").contents().find("a").attr("href","javascript:void(0)")})},r=function(){var t;return t=e.find(".desktop-view"),t.removeClass("desktop-view").hide(),setTimeout(function(){return t.addClass("mobile-view").show()},100)},i=function(){return e.find(".mobile-view").addClass("desktop-view").removeClass("mobile-view")},t}()}.call(this),function(){Nlvx.PreviewModal=function(){function t(t){e=$(t)}var e,n;return e=null,n=null,t.prototype.render=function(t,n){var i;return null==n&&(n=""),e.modal("show"),i=new Nlvx.Preview(e),i.render(t,n)},t}()}.call(this),function(){Nlvx.Sanitizers={removeJavascript:function(t){var e,n,i,r,s,o;if(n=["FSCommand","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBounce","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime"],!t)return t;for(r=t,s=0,o=n.length;o>s;s++)for(e=n[s],i=new RegExp("(<|&lt;)([^>]*)([/| ])"+e+"(=[^>]*)(>|&gt;)","gim");r.match(i);)r=r.replace(i,"$1$2$3data-noop$4$5");return r=r.replace(/([src|href]="?)javascript(:)/gi,"$1noop$2"),r=r.replace(/([src|href|data]=["|']?)\s*data:text\/html/gi,"$1noop"),r=r.replace(/<script[\s\S]*?\/script>/gi,""),r=r.replace(/<script[\s\S]*/gi,"")},removeCarriages:function(t){return null==t&&(t=""),t.replace(/\r\n*/g,"\n")}}}.call(this),function(){Nlvx.SelectableList=function(){function t(t){this.dependantSelectBoxesSelector="input.dependant-checkbox",this.selectAllInputSelector="input.parent-checkbox",this.$element=$(t),this.$primaryActionButton=$("button[data-primary-action]"),this.$bulkActionButton=$("[data-bulk-action]"),this.init()}return t.prototype.init=function(){return this.displayAppropriateButton()},t.prototype.bindEvents=function(){return $(document).on("change",this.selectAllInputSelector,function(t){return function(e){return t.handleCheckAll(e)}}(this)),this.$element.on("change",this.dependantSelectBoxesSelector,function(t){return function(e){return t.handleIndividualCheck(e)}}(this))},t.prototype.handleCheckAll=function(t){var e;return this.$dependantSelectBoxes=this.$element.find(this.dependantSelectBoxesSelector),e=$(t.currentTarget).is(":checked"),this.$dependantSelectBoxes.prop("checked",e).change()},t.prototype.handleIndividualCheck=function(){return this.displayAppropriateButton()},t.prototype.updateSelectedCount=function(){return this.$bulkActionButton.find("span.selection-count").text(this.getSelectedCount())},t.prototype.getSelectedCount=function(){return this.$dependantSelectBoxes=this.$element.find(this.dependantSelectBoxesSelector),$(this.dependantSelectBoxesSelector+":checked").length},t.prototype.displayAppropriateButton=function(){return this.$dependantSelectBoxes=this.$element.find(this.dependantSelectBoxesSelector),this.$dependantSelectBoxes.is(":checked")?(this.updateSelectedCount(),this.$bulkActionButton.removeClass("hide"),this.$primaryActionButton.addClass("hide")):(this.$bulkActionButton.addClass("hide"),this.$primaryActionButton.removeClass("hide"))},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Nlvx.StatsGraphController=function(){function n(e,n,i){null==n&&(n=null),null==i&&(i=new Nlvx.CoordinateLocator),this.positionHovercard=t(this.positionHovercard,this),this.hideHovercard=t(this.hideHovercard,this),this.showHovercard=t(this.showHovercard,this),this.render=t(this.render,this),this.computeGraphData=t(this.computeGraphData,this),this.coordinateLocator=i,this.names={requests:"requests",delivers:"delivers",opens:"opens",opens_unique:"unique_opens",clicks:"clicks",clicks_unique:"unique_clicks",unsubscribes_unique:"unique_unsubscribes",bounces:"bounces",bounces_unique:"unique_bounces",spam_reports:"spam_reports",spam_reports_unique:"unique_spam_reports",invalid_emails:"invalid_emails"},this.data=[],this.disabledFilters=n,this.$graphContainer=e,this.builder=new Nlvx.StatsGraphView(this.$graphContainer,n)}return n.TYPE_NAMES={requests:"Requests",delivers:"Delivered",opens:"Opens",unique_opens:"Unique Opens",clicks:"Clicks",unique_clicks:"Unique Clicks",unique_unsubscribes:"Unsubscribes",bounces:"Bounce Drops",unique_bounces:"Bounces",spam_reports:"Spam Report Drops",unique_spam_reports:"Spam Reports",invalid_emails:"Invalid Emails"},n.prototype.initialize=function(t,e){var n;return n=$.get(t),n.success(function(t){return function(e){return t.computeGraphData(e),t.render()}}(this)),this.builder.setNumDays(e),$(window).resize(_.debounce(this.render,100))},n.prototype.computeGraphData=function(t){return _.each(this.names,function(n){return function(i,r){var s,o,a;for(a={type:i,data:[],enabled:n.disabledFilters&&e.call(n.disabledFilters,i)>=0?!1:!0},o=null,_.each(t,function(t){return a.data.push([moment(t.day).valueOf(),t[r]]),o=t.day
}),s=t.length;7>s;)a.data.push([moment(o).add(s-t.length+1,"days").valueOf(),0]),s++;return n.data.push(a)}}(this))},n.prototype.render=function(){return this.builder.drawGraph(this.data,{minX:this.getMinDate(),maxX:this.getMaxDate(),minY:0,maxY:this.getMaxValue(),tickFormat:this.yTickFormat,mouseover:this.showHovercard,mouseout:this.hideHovercard,mousemove:this.positionHovercard})},n.prototype.showHovercard=function(){return this.builder.showHovercard()},n.prototype.hideHovercard=function(){return this.builder.hideHovercard()},n.prototype.positionHovercard=function(){var t;return t=this.getNearestPoint(),t?this.builder.moveHovercardTo(t,this.getTypeLabel(t.type)):this.hideHovercard()},n.prototype.getNearestPoint=function(){return this.coordinateLocator.getNearestPoint(this._enabledLines(),this.builder.getCurrentPoint())},n.prototype._enabledLines=function(){return _.filter(this.data,function(t){return t.enabled})},n.prototype.toggleLine=function(t){var e;return e=_.find(this.data,function(e){return e.type===t}),e.enabled=!e.enabled},n.prototype.yTickFormat=function(t){var e,n;return e=1e6,n=1e3,t>=e?""+t/e+"m":t>=n?""+t/n+"k":t},n.prototype.getMinDate=function(){return this._getDataBound(function(t,e){return t>e},Number.MAX_VALUE,0)},n.prototype.getMaxDate=function(){return this._getDataBound(function(t,e){return e>t},Number.MIN_VALUE,0)},n.prototype.getMaxValue=function(){return this._getDataBound(function(t,e){return e>t},-1,1)},n.prototype.getTypeLabel=function(t){return Nlvx.StatsGraphController.TYPE_NAMES[t].toUpperCase()},n.prototype._getDataBound=function(t,e,n){return _(this.data).reduce(function(i,r){var s;return s=_(r.data).reduce(function(e,i){return t(e,i[n])?i[n]:e},e),t(i,s)?s:i},e)},n}(),Nlvx.StatsGraphControllerNoAjax=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.initialize=function(t,e){return this.builder.setNumDays(e),$(window).resize(_.debounce(this.render,100)),this.computeGraphData(t),this.render()},e}(Nlvx.StatsGraphController)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Nlvx.StatsGraphView=function(){function n(e,n){this.$graphContainer=e,this.yScaler=t(this.yScaler,this),this.xScaler=t(this.xScaler,this),this.margins={top:10,right:20,bottom:40,left:50},this.drawArea=this.$graphContainer.find(".draw-area").get(0),this.numberOfDays=7,this.disabledFilters=n}return n.prototype.drawGraph=function(t,e){return this.data=t,this.config=e,$(this.drawArea).empty(),this.setDimensions(),this.createGraph(),this.setScales(),this.applyYAxis(),this.applyXAxis(),this.draw(),this.drawHovercard(),this.drawOverlay(e)},n.prototype.setNumDays=function(t){return this.numberOfDays=t},n.prototype.setDimensions=function(){return this.drawAreaWidth=this.$graphContainer.width()-10,this.drawAreaHeight=390,this.width=this.drawAreaWidth-(this.margins.left+this.margins.right),this.height=this.drawAreaHeight-(this.margins.top+this.margins.bottom)},n.prototype.drawHovercard=function(){return this.hovercard=this.graph.append("g").attr("class","hovercard").style("display","none"),this.circle=this.hovercard.append("circle").attr("class","hovercard-circle").attr("fill","blue").attr("stroke","white").attr("stroke-width","2").attr("r",6.25),this.label=this.hovercard.append("text").attr("class","stat-label").style("font-weight","bold").attr("y",-6),this.box=this.hovercard.insert("rect",".hovercard-circle").attr("height","62").attr("fill","white").attr("stroke","#eee").attr("transform","translate(0, -31)").attr("rx","3").attr("ry","3"),this.value=this.hovercard.append("text").attr("class","stat-value").attr("stroke","blue").attr("dy",".35em").style("font-size","17px").attr("y",9)},n.prototype.drawOverlay=function(t){return this.overlay=this.graph.append("rect").attr("class","overlay").attr("width",this.width).attr("height",this.height),this.overlay.on("mouseover",t.mouseover).on("mouseout",t.mouseout).on("mousemove",t.mousemove)},n.prototype.showHovercard=function(){return this.hovercard.style("display",null)},n.prototype.hideHovercard=function(){return this.hovercard.style("display","none")},n.prototype.moveHovercardTo=function(t,e){var n,i,r,s;return this.label.text(e),r=this.label.node().getBBox().width+44,s=this.value.node().getBBox().width+44,n=r>s?r:s,i=this._getBoxX(n,t),this.hovercard.attr("transform","translate("+this.xScale(t.x)+","+this.yScale(t.y)+")"),this.box.attr("width",n),this.box.attr("transform","translate("+i+", -31)"),this.label.attr("x",22+i),this.value.attr("x",22+i),this.circle.attr("class","hovercard-circle "+t.type),this.value.text(t.y).attr("class","stat-value "+t.type)},n.prototype._getBoxX=function(t,e){return this.xScale(e.x)+t>this.graph.node().getBBox().width?-t:0},n.prototype.getCurrentPoint=function(){var t;return t=d3.mouse(this.overlay[0][0]),[this.xScale.invert(t[0]),this.yScale.invert(t[1])]},n.prototype.createGraph=function(){return this.graph=d3.select(this.drawArea).append("svg:svg").attr("viewBox","0 0 "+this.drawAreaWidth+" "+this.drawAreaHeight).attr("preserveAspectRatio","xMidYMid meet").append("svg:g").attr("transform","translate("+this.margins.left+", "+this.margins.top+")")},n.prototype.setScales=function(){return this.xScale=d3.time.scale().domain([this.config.minX,this.config.maxX]).range([0,this.width]),this.yScale=d3.scale.linear().domain([this.config.minY,1.1*this.config.maxY]).range([this.height,0])},n.prototype.applyYAxis=function(){return this.graph.append("svg:g").attr("transform","translate(-5, 0)").attr("class","y-axis").call(this.yAxis()).attr("transform","translate("+this.width+", 0)")},n.prototype.applyXAxis=function(){return 7===this.numberOfDays?(this.graph.append("svg:g").attr("transform","translate(0, "+this.height+")").attr("class","x-axis").call(this.xAxisWeekDay()),this.graph.append("svg:g").attr("transform","translate(0, "+(this.height+18)+")").attr("class","x-axis-date").call(this.xAxisWeekDate())):(this.graph.append("svg:g").attr("transform","translate(0, "+this.height+")").attr("class","x-axis").call(this.xAxisMonthDays()),this.graph.append("svg:g").attr("transform","translate(0, "+(this.height+14)+")").attr("class","x-axis-month").call(this.xAxisMonthNames()))},n.prototype.draw=function(){var t,e,n,i,r,s;for(e=d3.svg.line().x(this.xScaler).y(this.yScaler),r=this.data,s=[],n=0,i=r.length;i>n;n++)t=r[n],s.push(this.drawLine(t,e(t.data)));return s},n.prototype.drawLine=function(t,n){var i,r;return i=this.disabledFilters&&(r=t.type,e.call(this.disabledFilters,r)>=0)?!1:!0,i?this.graph.append("svg:path").attr("d",n).attr("class",t.type):this.graph.append("svg:path").attr("d",n).attr("class",t.type).style("display","none")},n.prototype.xScaler=function(t){return this.xScale(t[0])},n.prototype.yScaler=function(t){return this.yScale(t[1])},n.prototype.xAxisWeekDay=function(){return d3.svg.axis().scale(this.xScale).tickSize(5).ticks(this.numberOfDays).tickFormat(d3.time.format("%a")).orient("bottom")},n.prototype.xAxisWeekDate=function(){return d3.svg.axis().scale(this.xScale).tickSize(0).ticks(this.numberOfDays).tickFormat(d3.time.format("%_m/%d")).orient("bottom")},n.prototype.xAxisMonthDays=function(){return d3.svg.axis().scale(this.xScale).tickSize(5).ticks(30).tickFormat(d3.time.format("%d")).orient("bottom")},n.prototype.xAxisMonthNames=function(){var t;return t=0,d3.svg.axis().scale(this.xScale).tickSize(5).orient("bottom").ticks(30).tickFormat(function(e){var n;return t++,1===e.getDate()||1===t?(n=d3.time.format("%b"))(e):null})},n.prototype.yAxis=function(){return d3.svg.axis().scale(this.yScale).ticks(6).tickFormat(this.config.tickFormat).tickSize(this.width).orient("left")},n}()}.call(this),function(){var t;t=function(){var t;return t=function(){var t,e,n;return t=$("nav.subnav"),t.length?(n=t.offset().top,e=$(window),e.scroll(function(){return function(){return e.scrollTop()>n+76?t.addClass("sticky"):t.removeClass("sticky")}}(this))):void 0},{init:function(){return t()}}}(),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=SendGridPalette:"object"==typeof window&&"object"==typeof window.document&&(window.StickySubNav=t)}.call(this),function(){Nlvx.TemplateVersionEditor=function(){function t(t,l,c){s=$(t),e=$(".version_html_editor"),i=$(".version_plain_editor"),n=s.find("#version_html_content"),r=s.find("#version_plain_content"),o=l,b=c,a=$("#version_name_input"),""===a.val()&&a.focus()}var e,n,i,r,s,o,a,l,c,h,u,d,f,p,g,m,v,y,w,b,C;return s=null,e=null,i=null,n=null,r=null,l=null,c=null,o=null,b=null,a=null,t.prototype.loadAceEditor=function(){return l=ace.edit(e[0]),l.setTheme("ace/theme/tomorrow_night"),l.getSession().setMode("ace/mode/html"),c=ace.edit(i[0]),c.setTheme("ace/theme/tomorrow_night"),c.getSession().setMode("ace/mode/text")},t.prototype.bindEvents=function(){return s.find(".html_toggle").click(v),s.find(".plain_text_toggle").click(w),s.find(".import_from_html").click(u),s.find("#htmlplain_modal .btn-primary").click(d),s.find('[data-action="test"]').click(p)},t.prototype.saveContent=function(){return C()?h()?(y(),!1):d():void 0},p=function(t){var e,n,i;return e=t.target.getAttribute("data-path"),n=t.target.getAttribute("data-send-test-path"),i=t.target.getAttribute("data-subject"),o.render(e,n,i)},d=function(){return $(".disabling-div").css("display","block").css("position","fixed"),n.val(Nlvx.Sanitizers.removeJavascript(l.getValue())),r.val(c.getValue()),s.trigger("valuesSaved")},v=function(){return e.show(),i.hide(),$(".html_toggle").addClass("active"),$(".plain_text_toggle").removeClass("active")},w=function(){return e.hide(),i.show(),f()&&m(),h()&&g(),$(".plain_text_toggle").addClass("active"),$(".html_toggle").removeClass("active")},g=function(){return s.find("#conversion_warning_modal").modal({show:!0,backdrop:!1})},m=function(){return s.find("#empty_plaintext_warning_modal").modal({show:!0,backdrop:!1})},y=function(){return s.find("#htmlplain_modal").modal({show:!0,backdrop:!1})},f=function(){return""!==Nlvx.Converters.html_to_plain_text(Nlvx.Sanitizers.removeJavascript(l.getValue()))&&""===c.getValue()},h=function(){return""!==c.getValue()&&c.getValue()!==Nlvx.Converters.html_to_plain_text(Nlvx.Sanitizers.removeJavascript(l.getValue()))},u=function(){return c.setValue(Nlvx.Converters.html_to_plain_text(Nlvx.Sanitizers.removeJavascript(l.getValue())))},C=function(){return a.val()&&a.val().trim()?!0:(Nlvx.FlashMessageHandler.add("danger","The version name is required."),!1)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Nlvx.ToggleableTarget=function(){function e(e,n){this.handleClick=t(this.handleClick,this),this.$el=$(e),this.options=$.extend(this.defaultOptions(),n)}return e.prototype.defaultOptions=function(){return{hideClass:"hide"}},e.prototype.init=function(t){return t&&this.showHide(t),this.bindEvents()},e.prototype.bindEvents=function(){return this.$el.on("click",this.handleClick)},e.prototype.handleClick=function(t){return this.showHide($(t.currentTarget))},e.prototype.showHide=function(t){var e,n;return e=$(t.data("hide")),n=$(t.data("show")),this.toggleHiddenClass(e,n),this.toggleHiddenAttributes(e,n)},e.prototype.toggleHiddenClass=function(t,e){return t.addClass(this.options.hideClass),e.removeClass(this.options.hideClass)},e.prototype.toggleHiddenAttributes=function(t,e){var n,i,r,s,o;for(s=this.options.hideAttributes,o=[],i=0,r=s.length;r>i;i++)n=s[i],t.prop(n,!0),o.push(e.prop(n,!1));return o},e}()}.call(this),function(){var t;t=function(){function t(t){this.$wrapper=t,this.$trigger=this.$wrapper.find("[role='sg-tooltip-trigger']"),this.$popup=this.$wrapper.find("[role='sg-tooltip-popup']"),this.overTimeout=null,this.outTimeout=null,this.$wrapper.on({mouseover:_.bind(this.onMouseOver,this),mouseout:_.bind(this.onMouseOut,this)})}return t.prototype.onMouseOver=function(){return window.clearTimeout(this.outTimeout),this.overTimeout=window.setTimeout(function(t){return function(){return t.setPopupPosition(),t.$popup.show()}}(this),300)},t.prototype.onMouseOut=function(){return window.clearTimeout(this.overTimeout),this.outTimeout=window.setTimeout(function(t){return function(){return t.$popup.hide()}}(this),500)},t.prototype.setPopupPosition=function(){var t;return t=this.getPopupPosition(),this.$popup.css({left:t.left,top:t.top})},t.prototype.getPopupPosition=function(){var t,e;return e=this.$trigger.offset(),t=this.getPopupSize(),{left:e.left-t.width/2,top:e.top-t.height-this.$wrapper.height()-10}},t.prototype.getPopupSize=function(){return{height:this.$popup.height(),width:this.$popup.width()}},t}(),$(document).ready(function(){return $("[role='sg-tooltip']").each(function(){return new t($(this))})})}.call(this),function(){Nlvx.UpdateCount=function(){function t(t,e,n,i,r){this.id=t,this.url=e,this.$el=n,this.refresh=null!=i?i:!0,this.callback=r,this.$el.find(".list-count").html('<div class="icon-spinner-wrapper"></div><div class="loading-icon"><div class="outer"></div><div class="inner"></div></div></div>'),this.updateCount(),this.refresh&&window.setInterval(function(t){return function(){return t.updateCount()}}(this),3e4)}return t.prototype.updateCount=function(){var t,e;if(!document.hidden)return t=0,(e=function(n){return function(){return $.ajax({url:n.url,data:{query_id:n.id},success:function(i){var r,s;return null!=n.callback?n.callback(i.count):(t+=1,r=i.count,s=!!(r&&r>0),n.$el.find(".list-count").html(s?r:"\u2014"),!s&&3>t?setTimeout(e,500):void 0)}})}}(this))()},t.prototype.getCount=function(){return parseInt(this.$el.find(".list-count").html())||0},t}()}.call(this),function(){Nlvx.UrlHelper=function(){function t(){}return t.readHash=function(){return window.location.hash.replace(/^#/,"")},t}()}.call(this),function(){Nlvx.WindowHandler=function(){function t(){}return t.reload=function(){return location.reload()},t.redirect=function(t){return location.href=t},t}()}.call(this);